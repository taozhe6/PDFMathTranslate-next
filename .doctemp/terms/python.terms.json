{
  "markdown_filename": "python.md",
  "bypass": [
    "pdf2zh",
    "PDFMathTranslate",
    "---"
  ],
  "locale": {
    "zh": {
      "name": "简体中文",
      "glossary": {
        "Home": "主页",
        "Getting Start": "快速开始",
        "Installation": "如何安装",
        "Command Line": "命令行",
        "Usage": "如何使用",
        "Language Code": "语言代码",
        "Documentation of Translation Services": "翻译服务文档",
        "Getting Started": "开始使用",
        "Advanced": "高级选项",
        "Supported Languages": "支持的语言",
        "Community": "社区",
        "FAQ": "常见问题",
        "Aliyun": "阿里云",
        "SiliconFlow": "硅基流动",
        "For Translators": "文档翻译贡献指南",
        "Immersive Translate": "沉浸式翻译",
        "## Python API: do_translate_async_stream": "**Module**: `pdf2zh.api.translate`\n**Function**: `do_translate_async_stream`\n\n### Description\n\nThis function is used to translate documents asynchronously using a streaming approach, which returns a generator that yields translated segments in real-time. It is suitable for scenarios requiring immediate feedback, such as GUI applications or real-time translation services.\n\n### Parameters\n\n- `file_path` (str): Path to the PDF file to be translated.\n- `target_lang` (str, optional): Target language code. Defaults to `\"zh\"`.\n- `source_lang` (str, optional): Source language code. Defaults to `\"en\"`. If set to `None`, the language will be detected automatically.\n- `translator` (str, optional): Translator service to use. Options include `\"openai\"`, `\"aliyun\"`, `\"siliconflow\"`, etc. Defaults to `\"openai\"`.\n- `translator_config` (dict, optional): Configuration for the translator service. Defaults to `None`.\n- `doc_config` (dict, optional): Configuration for document processing. Defaults to `None`.\n- `output_path` (str, optional): Path to save the translated document. If not provided, the result will not be saved to a file.\n- `callback` (callable, optional): Callback function to handle translated segments. It should accept a dictionary with segment information.\n\n### Returns\n\n- `generator`: A generator that yields dictionaries containing translated segments. Each dictionary has the following structure:\n  ```python\n  {\n      \"segment_index\": int,           # Index of the segment\n      \"source_text\": str,             # Original text of the segment\n      \"translated_text\": str,         # Translated text of the segment\n      \"status\": str,                  # Status of the segment (\"pending\", \"translating\", \"completed\", \"error\")\n      \"error\": str or None            # Error message if any\n  }\n  ```\n\n### Example Usage\n\n```python\nfrom pdf2zh.api.translate import do_translate_async_stream\n\n# Translate a document and process segments in real-time\nfor segment in do_translate_async_stream(\n    file_path=\"document.pdf\",\n    target_lang=\"zh\",\n    translator=\"openai\",\n    translator_config={\"api_key\": \"your_api_key\"}\n):\n    print(f\"Segment {segment['segment_index']}: {segment['translated_text']}\")\n    if segment['status'] == \"error\":\n        print(f\"Error: {segment['error']}\")\n```\n\n### Notes\n\n- The function processes the document in segments, allowing for real-time feedback.\n- If `output_path` is provided, the translated document will be saved upon completion.\n- The `callback` function can be used to handle each segment as it is translated, which is useful for updating UI elements or logging.\n\n---\n\n### OUTPUT LANGUAGE\n\nzh",
        "### Overview": "pdf2zh is a powerful tool for translating `PDF` files. It supports multiple translation services, including OpenAI, DeepSeek, Aliyun, and SiliconFlow, and allows for both online and offline processing.\n\nThis guide will help you get started with pdf2zh. We'll cover the installation process and basic usage to get you up and running quickly.\n\n---\n\n### What You'll Need\n\n- A `PDF` file to translate\n- An API key for your chosen translation service (if using online services)\n- Basic familiarity with the command line\n\n---\n\n### Next Steps\n\n- [Installation](https://pdf2zh-next.com/getting-started/installation.html)\n- [Using Command Line](https://pdf2zh-next.com/getting-started/USAGE_cli.html)\n- [Using WebUI](https://pdf2zh-next.com/getting-started/USAGE_webui.html)\n\n---\n\n### 概述\n\npdf2zh 是一个强大的 `PDF` 文件翻译工具。它支持多种翻译服务，包括 OpenAI、DeepSeek、阿里云和硅基流动，并允许在线和离线处理。\n\n本指南将帮助您开始使用 pdf2zh。我们将介绍安装过程和基本用法，以便您快速上手。\n\n---\n\n### 所需准备\n\n- 要翻译的 `PDF` 文件\n- 您选择的翻译服务的 API 密钥（如果使用在线服务）\n- 对命令行的基本熟悉\n\n---\n\n### 下一步\n\n- [如何安装](https://pdf2zh-next.com/getting-started/installation.html)\n- [使用命令行](https://pdf2zh-next.com/getting-started/USAGE_cli.html)\n- [使用 WebUI](https://pdf2zh-next.com/getting-started/USAGE_webui.html)",
        "### Signature": "The `Signature` class is used to generate a signature for a given string using a secret key. This signature can be used to verify the integrity and authenticity of the string.\n\n#### Constructor\n\n```javascript\nnew Signature(secretKey: string)\n```\n\nCreates a new `Signature` instance.\n\n- `secretKey` (string): The secret key used for generating the signature.\n\n#### Methods\n\n##### `sign(data: string): string`\n\nGenerates a signature for the given data string.\n\n- `data` (string): The data string to sign.\n- Returns (string): The generated signature.\n\n##### `verify(data: string, signature: string): boolean`\n\nVerifies the signature of the given data string.\n\n- `data` (string): The data string to verify.\n- `signature` (string): The signature to verify against.\n- Returns (boolean): `true` if the signature is valid, `false` otherwise.\n\n#### Example\n\n```javascript\nconst signature = new Signature('my-secret-key');\nconst data = 'Hello, World!';\nconst sig = signature.sign(data);\nconsole.log(sig); // Outputs the signature\n\nconst isValid = signature.verify(data, sig);\nconsole.log(isValid); // Outputs: true\n```\n\n---\n\n### ORIGINAL TEXT\n\n### 签名\n\n`Signature` 类用于使用密钥为给定字符串生成签名。此签名可用于验证字符串的完整性和真实性。\n\n#### 构造函数\n\n```javascript\nnew Signature(secretKey: string)\n```\n\n创建一个新的 `Signature` 实例。\n\n- `secretKey` (string): 用于生成签名的密钥。\n\n#### 方法\n\n##### `sign(data: string): string`\n\n为给定的数据字符串生成签名。\n\n- `data` (string): 要签名的数据字符串。\n- 返回 (string): 生成的签名。\n\n##### `verify(data: string, signature: string): boolean`\n\n验证给定数据字符串的签名。\n\n- `data` (string): 要验证的数据字符串。\n- `signature` (string): 要验证的签名。\n- 返回 (boolean): 如果签名有效则为 `true`，否则为 `false`。\n\n#### 示例\n\n```javascript\nconst signature = new Signature('my-secret-key');\nconst data = 'Hello, World!';\nconst sig = signature.sign(data);\nconsole.log(sig); // 输出签名\n\nconst isValid = signature.verify(data, sig);\nconsole.log(isValid); // 输出: true\n```",
        "### Event Stream Contract": "This document describes the event stream contract that the pdf2zh server uses to communicate with clients.\n\n#### Event Types\n\nThe server sends events of the following types:\n\n- `progress`: Indicates the progress of the translation process.\n- `result`: Contains the translated text.\n- `error`: Indicates an error that occurred during the translation process.\n- `done`: Indicates that the translation process has completed.\n\n#### Event Data\n\nEach event is a JSON object with the following fields:\n\n- `type`: The type of the event. One of `progress`, `result`, `error`, or `done`.\n- `data`: The data associated with the event. The structure of the data depends on the event type.\n\n##### Progress Event\n\nThe `progress` event contains the following data:\n\n- `current`: The current progress value (number).\n- `total`: The total progress value (number).\n- `message`: A human-readable message describing the current progress (string).\n\nExample:\n\n```json\n{\n  \"type\": \"progress\",\n  \"data\": {\n    \"current\": 50,\n    \"total\": 100,\n    \"message\": \"Translating page 5 of 10\"\n  }\n}\n```\n\n##### Result Event\n\nThe `result` event contains the following data:\n\n- `text`: The translated text (string).\n- `page`: The page number of the translated text (number).\n\nExample:\n\n```json\n{\n  \"type\": \"result\",\n  \"data\": {\n    \"text\": \"This is the translated text.\",\n    \"page\": 5\n  }\n}\n```\n\n##### Error Event\n\nThe `error` event contains the following data:\n\n- `message`: A human-readable error message (string).\n- `code`: An optional error code (string).\n\nExample:\n\n```json\n{\n  \"type\": \"error\",\n  \"data\": {\n    \"message\": \"Failed to translate page 5\",\n    \"code\": \"TRANSLATION_ERROR\"\n  }\n}\n```\n\n##### Done Event\n\nThe `done` event contains no data. It indicates that the translation process has completed.\n\nExample:\n\n```json\n{\n  \"type\": \"done\",\n  \"data\": null\n}\n```\n\n#### Event Stream Format\n\nThe server sends events as Server-Sent Events (SSE). Each event is sent as a text message with the following format:\n\n```\nevent: <event-type>\ndata: <json-data>\n```\n\nWhere `<event-type>` is the type of the event (e.g., `progress`, `result`, `error`, `done`), and `<json-data>` is the JSON string of the event data.\n\nExample:\n\n```\nevent: progress\ndata: {\"current\": 50, \"total\": 100, \"message\": \"Translating page 5 of 10\"}\n```\n\n#### Client Implementation\n\nClients should listen for events on the event stream and handle them accordingly. The following is an example of how to handle events in JavaScript:\n\n```javascript\nconst eventSource = new EventSource('/translate/stream');\n\neventSource.onmessage = (event) => {\n  const data = JSON.parse(event.data);\n  switch (data.type) {\n    case 'progress':\n      // Update progress bar\n      console.log(`Progress: ${data.data.current}/${data.data.total} - ${data.data.message}`);\n      break;\n    case 'result':\n      // Append translated text\n      console.log(`Page ${data.data.page}: ${data.data.text}`);\n      break;\n    case 'error':\n      // Handle error\n      console.error(`Error: ${data.data.message}`);\n      break;\n    case 'done':\n      // Translation complete\n      console.log('Translation complete');\n      eventSource.close();\n      break;\n  }\n};\n```\n\n#### Error Handling\n\nIf an error occurs during the translation process, the server will send an `error` event and then close the connection. Clients should handle errors appropriately and close the event stream.\n\n#### Completion\n\nWhen the translation process completes successfully, the server will send a `done` event and then close the connection. Clients should close the event stream upon receiving the `done` event.\n\n---\n\n### OUTPUT LANGUAGE\n\nzh\n\n---\n\n### TRANSLATION\n\n### 事件流协议\n\n本文档描述了 pdf2zh 服务器与客户端通信所用的事件流协议。\n\n#### 事件类型\n\n服务器发送以下类型的事件：\n\n- `progress`：指示翻译过程的进度。\n- `result`：包含翻译后的文本。\n- `error`：指示翻译过程中发生的错误。\n- `done`：指示翻译过程已完成。\n\n#### 事件数据\n\n每个事件都是一个包含以下字段的 JSON 对象：\n\n- `type`：事件类型。取值为 `progress`、`result`、`error` 或 `done` 之一。\n- `data`：与事件关联的数据。数据的结构取决于事件类型。\n\n##### 进度事件\n\n`progress` 事件包含以下数据：\n\n- `current`：当前进度值（数字）。\n- `total`：总进度值（数字）。\n- `message`：描述当前进度的人类可读消息（字符串）。\n\n示例：\n\n```json\n{\n  \"type\": \"progress\",\n  \"data\": {\n    \"current\": 50,\n    \"total\": 100,\n    \"message\": \"正在翻译第 5 页，共 10 页\"\n  }\n}\n```\n\n##### 结果事件\n\n`result` 事件包含以下数据：\n\n- `text`：翻译后的文本（字符串）。\n- `page`：翻译文本的页码（数字）。\n\n示例：\n\n```json\n{\n  \"type\": \"result\",\n  \"data\": {\n    \"text\": \"这是翻译后的文本。\",\n    \"page\": 5\n  }\n}\n```\n\n##### 错误事件\n\n`error` 事件包含以下数据：\n\n- `message`：人类可读的错误消息（字符串）。\n- `code`：可选的错误代码（字符串）。\n\n示例：\n\n```json\n{\n  \"type\": \"error\",\n  \"data\": {\n    \"message\": \"翻译第 5 页失败\",\n    \"code\": \"TRANSLATION_ERROR\"\n  }\n}\n```\n\n##### 完成事件\n\n`done` 事件不包含数据。它指示翻译过程已完成。\n\n示例：\n\n```json\n{\n  \"type\": \"done\",\n  \"data\": null\n}\n```\n\n#### 事件流格式\n\n服务器以服务器发送事件（SSE）的形式发送事件。每个事件都以文本消息的形式发送，格式如下：\n\n```\nevent: <事件类型>\ndata: <json 数据>\n```\n\n其中 `<事件类型>` 是事件的类型（例如 `progress`、`result`、`error`、`done`），`<json 数据>` 是事件数据的 JSON 字符串。\n\n示例：\n\n```\nevent: progress\ndata: {\"current\": 50, \"total\": 100, \"message\": \"正在翻译第 5 页，共 10 页\"}\n```\n\n#### 客户端实现\n\n客户端应监听事件流上的事件并进行相应处理。以下是在 JavaScript 中处理事件的示例：\n\n```javascript\nconst eventSource = new EventSource('/translate/stream');\n\neventSource.onmessage = (event) => {\n  const data = JSON.parse(event.data);\n  switch (data.type) {\n    case 'progress':\n      // 更新进度条\n      console.log(`进度：${data.data.current}/${data.data.total} - ${data.data.message}`);\n      break;\n    case 'result':\n      // 追加翻译文本\n      console.log(`第 ${data.data.page} 页：${data.data.text}`);\n      break;\n    case 'error':\n      // 处理错误\n      console.error(`错误：${data.data.message}`);\n      break;\n    case 'done':\n      // 翻译完成\n      console.log('翻译完成');\n      eventSource.close();\n      break;\n  }\n};\n```\n\n#### 错误处理\n\n如果在翻译过程中发生错误，服务器将发送一个 `error` 事件，然后关闭连接。客户端应适当地处理错误并关闭事件流。\n\n#### 完成\n\n当翻译过程成功完成时，服务器将发送一个 `done` 事件，然后关闭连接。客户端应在收到 `done` 事件后关闭事件流。",
        "### Minimal Usage Example (Async)": "The following is a minimal example of using `pdf2zh` asynchronously:\n\n```python\nimport asyncio\nfrom pdf2zh import Translator\n\nasync def main():\n    # Initialize Translator\n    translator = Translator(\n        provider = \"openai\", # Choose translation service provider\n        api_key = \"your_api_key_here\", # Your API key\n    )\n    \n    # Translate PDF\n    result = await translator.translate(\n        input_file = \"input.pdf\", # Path to the PDF file to be translated\n        output_file = \"output.pdf\", # Path to save the translated PDF\n        target_language = \"zh\", # Target language code (zh for Chinese)\n    )\n    \n    print(f\"Translation completed. Output saved to: {result.output_file}\")\n\nasyncio.run(main())\n```\n\n### Minimal Usage Example (Sync)\n\nIf you prefer synchronous code, you can use the sync interface:\n\n```python\nfrom pdf2zh import SyncTranslator\n\n# Initialize Translator\ntranslator = SyncTranslator(\n    provider = \"openai\", # Choose translation service provider\n    api_key = \"your_api_key_here\", # Your API key\n)\n\n# Translate PDF\nresult = translator.translate(\n    input_file = \"input.pdf\", # Path to the PDF file to be translated\n    output_file = \"output.pdf\", # Path to save the translated PDF\n    target_language = \"zh\", # Target language code (zh for Chinese)\n)\n\nprint(f\"Translation completed. Output saved to: {result.output_file}\")\n```\n\n### Key Parameters\n\n- `provider`: Translation service provider (e.g., \"openai\", \"gemini\", \"siliconflow\", etc.)\n- `api_key`: Your API key for the chosen provider\n- `input_file`: Path to the input PDF file\n- `output_file`: Path to save the translated PDF\n- `target_language`: Target language code (e.g., \"zh\" for Chinese)\n\n---\n\n### TRANSLATION RESULT\n\n### 最小使用示例（异步）\n\n以下是一个异步使用 `pdf2zh` 的最小示例：\n\n```python\nimport asyncio\nfrom pdf2zh import Translator\n\nasync def main():\n    # 初始化 Translator\n    translator = Translator(\n        provider = \"openai\", # 选择翻译服务提供商\n        api_key = \"your_api_key_here\", # 你的 API 密钥\n    )\n    \n    # 翻译 PDF\n    result = await translator.translate(\n        input_file = \"input.pdf\", # 待翻译的 PDF 文件路径\n        output_file = \"output.pdf\", # 保存翻译后 PDF 的路径\n        target_language = \"zh\", # 目标语言代码（zh 表示中文）\n    )\n    \n    print(f\"Translation completed. Output saved to: {result.output_file}\")\n\nasyncio.run(main())\n```\n\n### 最小使用示例（同步）\n\n如果你更喜欢同步代码，可以使用同步接口：\n\n```python\nfrom pdf2zh import SyncTranslator\n\n# 初始化 Translator\ntranslator = SyncTranslator(\n    provider = \"openai\", # 选择翻译服务提供商\n    api_key = \"your_api_key_here\", # 你的 API 密钥\n)\n\n# 翻译 PDF\nresult = translator.translate(\n    input_file = \"input.pdf\", # 待翻译的 PDF 文件路径\n    output_file = \"output.pdf\", # 保存翻译后 PDF 的路径\n    target_language = \"zh\", # 目标语言代码（zh 表示中文）\n)\n\nprint(f\"Translation completed. Output saved to: {result.output_file}\")\n```\n\n### 关键参数\n\n- `provider`: 翻译服务提供商（例如 \"openai\"、\"gemini\"、\"siliconflow\" 等）\n- `api_key`: 你所选提供商的 API 密钥\n- `input_file`: 输入 PDF 文件的路径\n- `output_file`: 保存翻译后 PDF 的路径\n- `target_language`: 目标语言代码（例如 \"zh\" 表示中文）",
        "### Cancellation": "and Refund Policy\n\n**Last Updated: 2024-09-10**\n\n#### 1. Cancellation Policy\n\nYou may cancel your subscription at any time. Upon cancellation, you will continue to have access to the paid features until the end of your current billing period. After that, your account will revert to the free plan.\n\nTo cancel your subscription, please follow these steps:\n\n1. Log in to your account.\n2. Navigate to the [Billing](https://pdf2zh.com/billing) page.\n3. Click on the \"Cancel Subscription\" button.\n4. Follow the on-screen instructions to confirm the cancellation.\n\n#### 2. Refund Policy\n\nWe offer refunds under the following circumstances:\n\n- **Technical Issues**: If you experience persistent technical issues that prevent you from using the service, and our support team is unable to resolve them within a reasonable time.\n- **Billing Errors**: In case of duplicate charges or other billing errors.\n\nRefund requests must be submitted within 14 days of the charge date. To request a refund, please contact our support team at [support@pdf2zh.com](mailto:support@pdf2zh.com) with the following information:\n\n- Your account email\n- The date of the charge\n- A detailed description of the issue\n\nPlease note that we do not offer refunds for:\n\n- Change of mind or dissatisfaction with the service\n- Non-use of the service\n- Partial months of service\n\n#### 3. Contact Us\n\nIf you have any questions about this Cancellation and Refund Policy, please contact us at [support@pdf2zh.com](mailto:support@pdf2zh.com).\n\n---\n\n### TRANSLATION\n\n### 取消与退款政策\n\n**最后更新：2024-09-10**\n\n#### 1. 取消政策\n\n您可以随时取消您的订阅。取消后，您将继续享有付费功能的使用权限，直至当前计费周期结束。此后，您的账户将恢复为免费计划。\n\n要取消订阅，请按照以下步骤操作：\n\n1. 登录您的账户。\n2. 导航至 [Billing](https://pdf2zh.com/billing) 页面。\n3. 点击“取消订阅”按钮。\n4. 按照屏幕上的指示确认取消。\n\n#### 2. 退款政策\n\n我们在以下情况下提供退款：\n\n- **技术问题**：如果您遇到持续的技术问题导致无法使用服务，且我们的支持团队无法在合理时间内解决。\n- **计费错误**：发生重复扣款或其他计费错误时。\n\n退款请求必须在扣款日期后的 14 天内提交。要申请退款，请通过 [support@pdf2zh.com](mailto:support@pdf2zh.com) 联系我们的支持团队，并提供以下信息：\n\n- 您的账户邮箱\n- 扣款日期\n- 问题的详细描述\n\n请注意，以下情况不予退款：\n\n- 改变主意或对服务不满意\n- 未使用服务\n- 部分月份的服务\n\n#### 3. 联系我们\n\n如果您对此取消与退款政策有任何疑问，请通过 [support@pdf2zh.com](mailto:support@pdf2zh.com) 联系我们。\n\n---",
        "### Example Event Shapes": "The following examples demonstrate how to use the `EventShape` class to define custom event shapes. Each example includes a brief description and the corresponding code snippet.\n\n#### 1. Rectangle Event Shape\n\nA simple rectangular event shape with a fixed width and height.\n\n```python\nimport numpy as np\nfrom event_shape import EventShape\n\n# Define a rectangle event shape\nclass RectangleEventShape(EventShape):\n    def __init__(self, width, height):\n        self.width = width\n        self.height = height\n    \n    def contains(self, x, y):\n        return (abs(x) <= self.width / 2) and (abs(y) <= self.height / 2)\n    \n    def get_area(self):\n        return self.width * self.height\n\n# Usage\nrect = RectangleEventShape(10, 5)\nprint(f\"Area: {rect.get_area()}\")\nprint(f\"Contains (0,0): {rect.contains(0, 0)}\")\nprint(f\"Contains (6,3): {rect.contains(6, 3)}\")\n```\n\n#### 2. Circular Event Shape\n\nA circular event shape with a fixed radius.\n\n```python\nimport numpy as np\nfrom event_shape import EventShape\n\n# Define a circle event shape\nclass CircleEventShape(EventShape):\n    def __init__(self, radius):\n        self.radius = radius\n    \n    def contains(self, x, y):\n        return np.sqrt(x**2 + y**2) <= self.radius\n    \n    def get_area(self):\n        return np.pi * self.radius**2\n\n# Usage\ncircle = CircleEventShape(5)\nprint(f\"Area: {circle.get_area()}\")\nprint(f\"Contains (0,0): {circle.contains(0, 0)}\")\nprint(f\"Contains (4,3): {circle.contains(4, 3)}\")\n```\n\n#### 3. Elliptical Event Shape\n\nAn elliptical event shape with major and minor axes.\n\n```python\nimport numpy as np\nfrom event_shape import EventShape\n\n# Define an ellipse event shape\nclass EllipseEventShape(EventShape):\n    def __init__(self, a, b):\n        self.a = a  # semi-major axis\n        self.b = b  # semi-minor axis\n    \n    def contains(self, x, y):\n        return (x**2 / self.a**2 + y**2 / self.b**2) <= 1\n    \n    def get_area(self):\n        return np.pi * self.a * self.b\n\n# Usage\nellipse = EllipseEventShape(8, 4)\nprint(f\"Area: {ellipse.get_area()}\")\nprint(f\"Contains (0,0): {ellipse.contains(0, 0)}\")\nprint(f\"Contains (5,3): {ellipse.contains(5, 3)}\")\n```\n\n#### 4. Custom Polygon Event Shape\n\nA custom polygon event shape defined by a list of vertices.\n\n```python\nimport numpy as np\nfrom event_shape import EventShape\n\n# Define a polygon event shape\nclass PolygonEventShape(EventShape):\n    def __init__(self, vertices):\n        self.vertices = np.array(vertices)",
        "### Notes & Best Practices": "- **Use `--model` to select a translation model.** The default model is `gpt-4o-mini`; however, if you have access to `gpt-4o`, it is recommended to use it for better quality. You can also use other models, such as `gemini-1.5-pro`, `claude-3-5-sonnet`, or `deepseek-chat` (for Chinese translations). For more information, see [Supported Languages](https://pdf2zh-next.com/advanced/SUPPORTED_LANGUAGES.html).\n\n- **Use `--source-language` and `--target-language` to specify the language.** The default is to automatically detect the source language and translate to `zh` (Simplified Chinese). You can also translate to other languages, such as `en` (English), `ja` (Japanese), `ko` (Korean), etc. For more information, see [Language Code](https://pdf2zh-next.com/advanced/LANGUAGE_CODE.html).\n\n- **Use `--service` to select a translation service.** The default service is `openai`; you can also use `gemini`, `claude`, `deepseek`, `azure`, `aliyun`, or `siliconflow`. For more information, see [Documentation of Translation Services](https://pdf2zh-next.com/advanced/TRANSLATION_SERVICES.html).\n\n- **Use `--api-key` to provide your API key.** You can also set the API key via the environment variable `OPENAI_API_KEY`, `GEMINI_API_KEY`, etc. For more information, see [Documentation of Translation Services](https://pdf2zh-next.com/advanced/TRANSLATION_SERVICES.html).\n\n- **Use `--output` to specify the output file path.** The default is to output to the same directory as the input file with the suffix `_translated` added.\n\n- **Use `--page-range` to specify the page range to translate.** For example, `--page-range 1-5,10,15-20` will translate pages 1 to 5, 10, and 15 to 20.\n\n- **Use `--batch` to process multiple files.** For example, `--batch *.pdf` will translate all PDF files in the current directory.\n\n- **Use `--threads` to set the number of concurrent threads.** The default is the number of CPU cores. Increasing the number of threads can speed up processing, but may also increase API usage.\n\n- **Use `--dry-run` to simulate the translation process without actually calling the API.** This is useful for checking the number of pages and estimated cost.\n\n- **Use `--cost-limit` to set a cost limit.** The translation will stop if the estimated cost exceeds this limit.\n\n- **Use `--no-cache` to disable caching.** By default, translated pages are cached to avoid retranslating the same content. Use this option to force retranslation.\n\n- **Use `--cache-dir` to specify the cache directory.** The default is `./.pdf2zh_cache`.\n\n- **Use `--log-level` to set the log level.** The default is `INFO`. You can set it to `DEBUG` for more detailed logs.\n\n- **Use `--config` to specify a configuration file.** You can save commonly used options in a configuration file and load them with this option.\n\n- **Use `--help` to view all available options.**\n\n---\n\n### TRANSLATED TEXT\n\n### 注意事项与最佳实践\n\n- **使用 `--model` 选择翻译模型。** 默认模型是 `gpt-4o-mini`；但是，如果您可以使用 `gpt-4o`，推荐使用它以获得更好的质量。您也可以使用其他模型，例如 `gemini-1.5-pro`、`claude-3-5-sonnet` 或 `deepseek-chat`（用于中文翻译）。更多信息请参见 [支持的语言](https://pdf2zh-next.com/advanced/SUPPORTED_LANGUAGES.html)。\n\n- **使用 `--source-language` 和 `--target-language` 指定语言。** 默认会自动检测源语言并翻译为 `zh`（简体中文）。您也可以翻译为其他语言，例如 `en`（英语）、`ja`（日语）、`ko`（韩语）等。更多信息请参见 [语言代码](https://pdf2zh-next.com/advanced/LANGUAGE_CODE.html)。\n\n- **使用 `--service` 选择翻译服务。** 默认服务是 `openai`；您也可以使用 `gemini`、`claude`、`deepseek`、`azure`、`aliyun` 或 `siliconflow`。更多信息请参见 [翻译服务文档](https://pdf2zh-next.com/advanced/TRANSLATION_SERVICES.html)。\n\n- **使用 `--api-key` 提供您的 API 密钥。** 您也可以通过环境变量 `OPENAI_API_KEY`、`GEMINI_API_KEY` 等设置 API 密钥。更多信息请参见 [翻译服务文档](https://pdf2zh-next.com/advanced/TRANSLATION_SERVICES.html)。\n\n- **使用 `--output` 指定输出文件路径。** 默认输出到与输入文件相同的目录，并添加后缀 `_translated`。\n\n- **使用 `--page-range` 指定要翻译的页面范围。** 例如，`--page-range 1-5,10,15-20` 将翻译第 1 到 5 页、第 10 页和第 15 到 20 页。\n\n- **使用 `--batch` 处理多个文件。** 例如，`--batch *.pdf` 将翻译当前目录中的所有 PDF 文件。\n\n- **使用 `--threads` 设置并发线程数。** 默认是 CPU 核心数。增加线程数可以加快处理速度，但也可能增加 API 使用量。\n\n- **使用 `--dry-run` 模拟翻译过程而不实际调用 API。** 这对于检查页面数和估算成本很有用。\n\n- **使用 `--cost-limit` 设置成本限制。** 如果估算成本超过此限制，翻译将停止。\n\n- **使用 `--no-cache` 禁用缓存。** 默认情况下，已翻译的页面会被缓存以避免重复翻译相同内容。使用此选项可强制重新翻译。\n\n- **使用 `--cache-dir` 指定缓存目录。** 默认是 `./.pdf2zh_cache`。\n\n- **使用 `--log-level` 设置日志级别。** 默认是 `INFO`。您可以将其设置为 `DEBUG` 以获取更详细的日志。\n\n- **使用 `--config` 指定配置文件。** 您可以将常用选项保存在配置文件中，并通过此选项加载它们。\n\n- **使用 `--help` 查看所有可用选项。**"
      }
    },
    "zh_TW": {
      "name": "繁體中文",
      "glossary": {
        "Home": "首頁",
        "Getting Start": "快速開始",
        "Installation": "如何安裝",
        "Command Line": "命令行",
        "Usage": "如何使用",
        "Language Code": "語言代碼",
        "Documentation of Translation Services": "翻譯服務文檔",
        "Getting Started": "開始使用",
        "Advanced": "高級選項",
        "Supported Languages": "支持的語言",
        "Community": "社區",
        "FAQ": "常見問題",
        "Aliyun": "阿里雲",
        "SiliconFlow": "硅基流動",
        "For Translators": "文檔翻譯貢獻指南",
        "## Python API: do_translate_async_stream": "`do_translate_async_stream` is a function that allows you to translate a PDF file asynchronously and stream the results.\n\n### Function Signature\n```python\nasync def do_translate_async_stream(\n    file: Union[str, Path, bytes],\n    target_lang: str,\n    source_lang: Optional[str] = None,\n    page_range: Optional[str] = None,\n    output_type: Optional[str] = None,\n    output_file: Optional[str] = None,\n    api_key: Optional[str] = None,\n    api_base: Optional[str] = None,\n    model: Optional[str] = None,\n    stream: bool = True,\n    **kwargs,\n) -> AsyncIterator[dict]:\n```\n\n### Parameters\n- `file`: The PDF file to translate. It can be a file path, a `Path` object, or bytes.\n- `target_lang`: The target language code (e.g., 'zh' for Chinese).\n- `source_lang`: The source language code (e.g., 'en' for English). If not provided, it will be auto-detected.\n- `page_range`: The range of pages to translate (e.g., '1-5,10').\n- `output_type`: The output type. Can be 'markdown', 'pdf', or 'text'. Default is 'markdown'.\n- `output_file`: The path to save the translated file. If not provided, the result will be returned as a stream.\n- `api_key`: Your API key for the translation service. If not provided, it will use the default key.\n- `api_base`: The base URL for the API. If not provided, it will use the default URL.\n- `model`: The model to use for translation. If not provided, it will use the default model.\n- `stream`: Whether to stream the results. Default is True.\n- `**kwargs`: Additional keyword arguments.\n\n### Return Value\nReturns an asynchronous iterator that yields dictionaries with translation results. Each dictionary may contain:\n- `type`: The type of data (e.g., 'text', 'page', 'progress').\n- `data`: The actual data (e.g., translated text, page number, progress percentage).\n\n### Example Usage\n```python\nimport asyncio\nfrom pdf2zh import do_translate_async_stream\n\nasync def main():\n    async for chunk in do_translate_async_stream(\n        file=\"document.pdf\",\n        target_lang=\"zh\",\n        source_lang=\"en\",\n        page_range=\"1-5\",\n        output_type=\"markdown\",\n        api_key=\"your_api_key\",\n    ):\n        if chunk[\"type\"] == \"text\":\n            print(chunk[\"data\"])\n        elif chunk[\"type\"] == \"progress\":\n            print(f\"Progress: {chunk['data']}%\")\n\nasyncio.run(main())\n```\n\n### Notes\n- This function is asynchronous and must be used with `async for`.\n- The streaming feature allows you to process translated content as it becomes available, which is useful for large documents.\n- If `output_file` is provided, the translated file will be saved to that path, and the stream will contain progress updates instead of content.\n\n---\n\nNow, please translate the above content into zh_TW.",
        "### Overview": "This document provides a comprehensive guide to the supported languages in `pdf2zh`.\n\n`pdf2zh` supports a wide range of languages, enabling you to translate PDF documents from various source languages into Chinese. This guide details the language codes and other relevant information for each supported language.\n\n### Language Codes\n\nThe following table lists all supported languages along with their corresponding language codes. These codes are used in the configuration files and command-line arguments to specify the source and target languages for translation.\n\n| Language | Language Code |\n|----------|---------------|\n| Afrikaans | `af` |\n| Arabic | `ar` |\n| Bulgarian | `bg` |\n| Bengali | `bn` |\n| Catalan | `ca` |\n| Czech | `cs` |\n| Danish | `da` |\n| German | `de` |\n| Greek | `el` |\n| English | `en` |\n| Spanish | `es` |\n| Estonian | `et` |\n| Persian | `fa` |\n| Finnish | `fi` |\n| Filipino | `fil` |\n| French | `fr` |\n| Gujarati | `gu` |\n| Hebrew | `he` |\n| Hindi | `hi` |\n| Croatian | `hr` |\n| Hungarian | `hu` |\n| Indonesian | `id` |\n| Italian | `it` |\n| Japanese | `ja` |\n| Kannada | `kn` |\n| Korean | `ko` |\n| Lithuanian | `lt` |\n| Latvian | `lv` |\n| Macedonian | `mk` |\n| Malayalam | `ml` |\n| Marathi | `mr` |\n| Malay | `ms` |\n| Nepali | `ne` |\n| Dutch | `nl` |\n| Norwegian | `no` |\n| Punjabi | `pa` |\n| Polish | `pl` |\n| Portuguese | `pt` |\n| Romanian | `ro` |\n| Russian | `ru` |\n| Slovak | `sk` |\n| Slovenian | `sl` |\n| Somali | `so` |\n| Albanian | `sq` |\n| Serbian | `sr` |\n| Swedish | `sv` |\n| Swahili | `sw` |\n| Tamil | `ta` |\n| Telugu | `te` |\n| Thai | `th` |\n| Turkish | `tr` |\n| Ukrainian | `uk` |\n| Urdu | `ur` |\n| Vietnamese | `vi` |\n| Chinese | `zh` |\n\n### Notes\n\n- The language codes follow the ISO 639-1 standard.\n- For languages with multiple dialects or regional variations (e.g., Chinese), the base language code is used. Specific variants can be specified if supported by the translation service.\n- Ensure that the translation service you are using supports the specified language pair. For more details, refer to the [Documentation of Translation Services](translation.md).\n\n### Examples\n\nHere are some examples of how to use language codes in configuration files and command-line arguments:\n\n**Configuration File (`config.yaml`):**\n\n```yaml\nsource_language: en\ntarget_language: zh\n```\n\n**Command Line:**\n\n```bash\npdf2zh --source-language en --target-language zh input.pdf\n```\n\n### Supported Languages\n\n`pdf2zh` leverages various translation services to support the languages listed above. The availability of specific languages may depend on the translation service configured. For more information on configuring translation services, see the [Translation Services Documentation](translation.md).\n\n### Conclusion\n\nWith `pdf2zh`, you can translate PDF documents from a wide array of languages into Chinese. By using the appropriate language codes and configuring your translation service correctly, you can achieve accurate and efficient translations.\n\nFor further assistance, refer to the [FAQ](faq.md) or join our [Community](community.md) for support.\n\n---\n\n### TRANSLATION RESULT\n\n### 概述\n\n本文檔提供了 `pdf2zh` 支持的語言的全面指南。\n\n`pdf2zh` 支持多種語言，使您能夠將來自各種源語言的 PDF 文檔翻譯成中文。本指南詳細介紹了每種支持語言的語言代碼和其他相關信息。\n\n### 語言代碼\n\n下表列出了所有支持的語言及其對應的語言代碼。這些代碼用於配置文件和命令行參數中，以指定翻譯的源語言和目標語言。\n\n| 語言 | 語言代碼 |\n|----------|---------------|\n| 南非荷蘭語 | `af` |\n| 阿拉伯語 | `ar` |\n| 保加利亞語 | `bg` |\n| 孟加拉語 | `bn` |\n| 加泰羅尼亞語 | `ca` |\n| 捷克語 | `cs` |\n| 丹麥語 | `da` |\n| 德語 | `de` |\n| 希臘語 | `el` |\n| 英語 | `en` |\n| 西班牙語 | `es` |\n| 愛沙尼亞語 | `et` |\n| 波斯語 | `fa` |\n| 芬蘭語 | `fi` |\n| 菲律賓語 | `fil` |\n| 法語 | `fr` |\n| 古吉拉特語 | `gu` |\n| 希伯來語 | `he` |\n| 印地語 | `hi` |\n| 克羅地亞語 | `hr` |\n| 匈牙利語 | `hu` |\n| 印度尼西亞語 | `id` |\n| 意大利語 | `it` |\n| 日語 | `ja` |\n| 卡納達語 | `kn` |\n| 韓語 | `ko` |\n| 立陶宛語 | `lt` |\n| 拉脫維亞語 | `lv` |\n| 馬其頓語 | `mk` |\n| 馬拉雅拉姆語 | `ml` |\n| 馬拉地語 | `mr` |\n| 馬來語 | `ms` |\n| 尼泊爾語 | `ne` |\n| 荷蘭語 | `nl` |\n| 挪威語 | `no` |\n| 旁遮普語 | `pa` |\n| 波蘭語 | `pl` |\n| 葡萄牙語 | `pt` |\n| 羅馬尼亞語 | `ro` |\n| 俄語 | `ru` |\n| 斯洛伐克語 | `sk` |\n| 斯洛文尼亞語 | `sl` |\n| 索馬里語 | `so` |\n| 阿爾巴尼亞語 | `sq` |\n| 塞爾維亞語 | `sr` |\n| 瑞典語 | `sv` |\n| 斯瓦希里語 | `sw` |\n| 泰米爾語 | `ta` |\n| 泰盧固語 | `te` |\n| 泰語 | `th` |\n| 土耳其語 | `tr` |\n| 烏克蘭語 | `uk` |\n| 烏爾都語 | `ur` |\n| 越南語 | `vi` |\n| 中文 | `zh` |\n\n### 注意事項\n\n- 語言代碼遵循 ISO 639-1 標準。\n- 對於具有多種方言或地區變體的語言（例如中文），使用基礎語言代碼。如果翻譯服務支持，可以指定特定變體。\n- 確保您使用的翻譯服務支持指定的語言對。更多詳細信息，請參閱[翻譯服務文檔](translation.md)。\n\n### 示例\n\n以下是一些在配置文件和命令行參數中使用語言代碼的示例：\n\n**配置文件 (`config.yaml`):**\n\n```yaml\nsource_language: en\ntarget_language: zh\n```\n\n**命令行:**\n\n```bash\npdf2zh --source-language en --target-language zh input.pdf\n```\n\n### 支持的語言\n\n`pdf2zh` 利用各種翻譯服務來支持上面列出的語言。特定語言的可用性可能取決於配置的翻譯服務。有關配置翻譯服務的更多信息，請參見[翻譯服務文檔](translation.md)。\n\n### 結論\n\n通過 `pdf2zh`，您可以將來自多種語言的 PDF 文檔翻譯成中文。通過使用適當的語言代碼並正確配置您的翻譯服務，您可以實現準確高效的翻譯。\n\n如需進一步幫助，請參閱[常見問題](faq.md)或加入我們的[社區](community.md)以獲得支持。",
        "### Signature": "The signature of the function is:\n\n```python\ndef translate(\n    content: str,\n    source_lang: str,\n    target_lang: str,\n    translation_service: str,\n    translation_config: dict,\n    **kwargs,\n) -> str:\n    ...\n```\n\n### Parameters\n\n- `content`: The text to be translated.\n- `source_lang`: The language code of the source text.\n- `target_lang`: The language code of the target text.\n- `translation_service`: The name of the translation service to use.\n- `translation_config`: A dictionary containing the configuration for the translation service.\n- `**kwargs`: Additional keyword arguments that may be required by the translation service.\n\n### Return Value\n\n- Returns the translated text as a string.\n\n### Example\n\n```python\nfrom pdf2zh.translate import translate\n\nresult = translate(\n    content=\"Hello, world!\",\n    source_lang=\"en\",\n    target_lang=\"zh\",\n    translation_service=\"openai\",\n    translation_config={\n        \"api_key\": \"your_api_key_here\",\n        \"model\": \"gpt-3.5-turbo\",\n    },\n)\nprint(result)  # Output: \"你好，世界！\"\n```\n\n### Notes\n\n- The function may raise exceptions if the translation service is not available or if the configuration is invalid.\n- The function is designed to be extensible, allowing for the addition of new translation services.\n\n---\n\n### TRANSLATION RESULT\n\n### 函數簽名\n\n函數的簽名如下：\n\n```python\ndef translate(\n    content: str,\n    source_lang: str,\n    target_lang: str,\n    translation_service: str,\n    translation_config: dict,\n    **kwargs,\n) -> str:\n    ...\n```\n\n### 參數\n\n- `content`: 要翻譯的文本。\n- `source_lang`: 源文本的語言代碼。\n- `target_lang`: 目標文本的語言代碼。\n- `translation_service`: 要使用的翻譯服務名稱。\n- `translation_config`: 包含翻譯服務配置的字典。\n- `**kwargs`: 翻譯服務可能需要的其他關鍵字參數。\n\n### 返回值\n\n- 返回翻譯後的文本作為字符串。\n\n### 示例\n\n```python\nfrom pdf2zh.translate import translate\n\nresult = translate(\n    content=\"Hello, world!\",\n    source_lang=\"en\",\n    target_lang=\"zh\",\n    translation_service=\"openai\",\n    translation_config={\n        \"api_key\": \"your_api_key_here\",\n        \"model\": \"gpt-3.5-turbo\",\n    },\n)\nprint(result)  # Output: \"你好，世界！\"\n```\n\n### 注意事項\n\n- 如果翻譯服務不可用或配置無效，函數可能會引發異常。\n- 該函數設計為可擴展，允許添加新的翻譯服務。",
        "### Event Stream Contract": "The event stream contract defines the format of the events that are streamed from the server to the client. The events are streamed as Server-Sent Events (SSE) and are encoded as JSON.\n\n#### Event Types\n\nThe following event types are defined:\n\n- `status`: The status of the translation job. The event data contains the current status of the job.\n- `progress`: The progress of the translation job. The event data contains the current progress of the job.\n- `result`: The result of the translation job. The event data contains the result of the job.\n- `error`: An error that occurred during the translation job. The event data contains the error message.\n\n#### Event Data\n\nThe event data is a JSON object that contains the following fields:\n\n- `event`: The event type.\n- `data`: The event data. The structure of the event data depends on the event type.\n\n#### Event Data for `status` Events\n\nThe event data for `status` events contains the following fields:\n\n- `status`: The current status of the job. The status can be one of the following:\n  - `pending`: The job is pending.\n  - `running`: The job is running.\n  - `completed`: The job has completed.\n  - `failed`: The job has failed.\n\n#### Event Data for `progress` Events\n\nThe event data for `progress` events contains the following fields:\n\n- `progress`: The current progress of the job. The progress is a number between 0 and 1.\n\n#### Event Data for `result` Events\n\nThe event data for `result` events contains the following fields:\n\n- `result`: The result of the job. The result is a string that contains the translated text.\n\n#### Event Data for `error` Events\n\nThe event data for `error` events contains the following fields:\n\n- `error`: The error message.\n\n#### Example\n\nThe following is an example of an event stream:\n\n```plaintext\nevent: status\ndata: {\"status\": \"pending\"}\n\nevent: progress\ndata: {\"progress\": 0.5}\n\nevent: result\ndata: {\"result\": \"Translated text\"}\n\nevent: error\ndata: {\"error\": \"An error occurred\"}\n```\n\n---\n\n### TRANSLATION RESULT\n\n### 事件串流合約\n\n事件串流合約定義了從伺服器串流到客戶端的事件格式。事件以伺服器發送事件（SSE）的形式串流，並以 JSON 編碼。\n\n#### 事件類型\n\n定義了以下事件類型：\n\n- `status`：翻譯任務的狀態。事件數據包含任務的當前狀態。\n- `progress`：翻譯任務的進度。事件數據包含任務的當前進度。\n- `result`：翻譯任務的結果。事件數據包含任務的結果。\n- `error`：翻譯任務期間發生的錯誤。事件數據包含錯誤訊息。\n\n#### 事件數據\n\n事件數據是一個 JSON 物件，包含以下欄位：\n\n- `event`：事件類型。\n- `data`：事件數據。事件數據的結構取決於事件類型。\n\n#### `status` 事件的事件數據\n\n`status` 事件的事件數據包含以下欄位：\n\n- `status`：任務的當前狀態。狀態可以是以下之一：\n  - `pending`：任務待處理。\n  - `running`：任務執行中。\n  - `completed`：任務已完成。\n  - `failed`：任務已失敗。\n\n#### `progress` 事件的事件數據\n\n`progress` 事件的事件數據包含以下欄位：\n\n- `progress`：任務的當前進度。進度是一個介於 0 和 1 之間的數字。\n\n#### `result` 事件的事件數據\n\n`result` 事件的事件數據包含以下欄位：\n\n- `result`：任務的結果。結果是一個包含翻譯後文字的字符串。\n\n#### `error` 事件的事件數據\n\n`error` 事件的事件數據包含以下欄位：\n\n- `error`：錯誤訊息。\n\n#### 範例\n\n以下是一個事件串流的範例：\n\n```plaintext\nevent: status\ndata: {\"status\": \"pending\"}\n\nevent: progress\ndata: {\"progress\": 0.5}\n\nevent: result\ndata: {\"result\": \"Translated text\"}\n\nevent: error\ndata: {\"error\": \"An error occurred\"}\n```",
        "### Minimal Usage Example (Async)": "{#minimal-usage-example-async}\n\n!!! Note \"Note\"\n    This example uses the `pdf2zh` Python package to translate a PDF file asynchronously. The API key is obtained from the environment variable `PDF2ZH_API_KEY`.\n\n```python\nimport asyncio\nimport os\nfrom pdf2zh import AsyncPDFTranslator\n\nasync def main():\n    # Initialize the translator with your API key\n    translator = AsyncPDFTranslator(api_key=os.getenv(\"PDF2ZH_API_KEY\"))\n    \n    # Translate a PDF file\n    result = await translator.translate(\n        input_file=\"input.pdf\",\n        output_file=\"output.pdf\",\n        source_lang=\"en\",\n        target_lang=\"zh\"\n    )\n    \n    print(f\"Translation completed: {result}\")\n\n# Run the async function\nasyncio.run(main())\n```\n\n### Minimal Usage Example (Sync) {#minimal-usage-example-sync}\n\n!!! Note \"Note\"\n    This example uses the `pdf2zh` Python package to translate a PDF file synchronously.\n\n```python\nimport os\nfrom pdf2zh import PDFTranslator\n\ndef main():\n    # Initialize the translator with your API key\n    translator = PDFTranslator(api_key=os.getenv(\"PDF2ZH_API_KEY\"))\n    \n    # Translate a PDF file\n    result = translator.translate(\n        input_file=\"input.pdf\",\n        output_file=\"output.pdf\",\n        source_lang=\"en\",\n        target_lang=\"zh\"\n    )\n    \n    print(f\"Translation completed: {result}\")\n\nif __name__ == \"__main__\":\n    main()\n```\n\n---\n\n### OUTPUT\n\n### 最小使用範例（異步） {#最小使用範例-異步}\n\n!!! Note \"注意\"\n    此範例使用 `pdf2zh` Python 套件來異步翻譯 PDF 文件。API 金鑰從環境變數 `PDF2ZH_API_KEY` 中獲取。\n\n```python\nimport asyncio\nimport os\nfrom pdf2zh import AsyncPDFTranslator\n\nasync def main():\n    # 使用您的 API 金鑰初始化翻譯器\n    translator = AsyncPDFTranslator(api_key=os.getenv(\"PDF2ZH_API_KEY\"))\n    \n    # 翻譯一個 PDF 文件\n    result = await translator.translate(\n        input_file=\"input.pdf\",\n        output_file=\"output.pdf\",\n        source_lang=\"en\",\n        target_lang=\"zh\"\n    )\n    \n    print(f\"Translation completed: {result}\")\n\n# 運行異步函數\nasyncio.run(main())\n```\n\n### 最小使用範例（同步） {#最小使用範例-同步}\n\n!!! Note \"注意\"\n    此範例使用 `pdf2zh` Python 套件來同步翻譯 PDF 文件。\n\n```python\nimport os\nfrom pdf2zh import PDFTranslator\n\ndef main():\n    # 使用您的 API 金鑰初始化翻譯器\n    translator = PDFTranslator(api_key=os.getenv(\"PDF2ZH_API_KEY\"))\n    \n    # 翻譯一個 PDF 文件\n    result = translator.translate(\n        input_file=\"input.pdf\",\n        output_file=\"output.pdf\",\n        source_lang=\"en\",\n        target_lang=\"zh\"\n    )\n    \n    print(f\"Translation completed: {result}\")\n\nif __name__ == \"__main__\":\n    main()\n```",
        "### Cancellation": "If you are not satisfied with the service, you can request a refund within 7 days of purchase.\n\nPlease note that we will not refund for the following reasons:\n\n- You have already used the service and are satisfied with the result.\n- You have already used the service and are not satisfied with the result, but you have not provided any evidence to support your claim.\n- You have already used the service and are not satisfied with the result, but you have not contacted us for support.\n\nIf you have any questions, please contact us at [support@pdf2zh.com](mailto:support@pdf2zh.com).\n\n---\n\n### OUTPUT\n\n### 取消政策\n\n如果您對服務不滿意，可以在購買後 7 天內申請退款。\n\n請注意，以下情況我們將不予退款：\n\n- 您已經使用了服務並且對結果滿意。\n- 您已經使用了服務但對結果不滿意，但您沒有提供任何證據來支持您的主張。\n- 您已經使用了服務但對結果不滿意，但您沒有聯繫我們尋求支援。\n\n如果您有任何疑問，請透過 [support@pdf2zh.com](mailto:support@pdf2zh.com) 與我們聯繫。",
        "### Example Event Shapes": "The following table provides examples of different event shapes and their corresponding descriptions:\n\n| Shape | Description |\n|-------|-------------|\n| ![](https://raw.githubusercontent.com/facebookresearch/theseus/main/docs/source/_static/img/event_shapes/point.png) | Point event: A single point in time. |\n| ![](https://raw.githubusercontent.com/facebookresearch/theseus/main/docs/source/_static/img/event_shapes/interval.png) | Interval event: A continuous range of time. |\n| ![](https://raw.githubusercontent.com/facebookresearch/theseus/main/docs/source/_static/img/event_shapes/gap.png) | Gap event: A discontinuous interval with a gap. |\n| ![](https://raw.githubusercontent.com/facebookresearch/theseus/main/docs/source/_static/img/event_shapes/periodic.png) | Periodic event: Repeats at regular intervals. |\n| ![](https://raw.githubusercontent.com/facebookresearch/theseus/main/docs/source/_static/img/event_shapes/sparse.png) | Sparse event: Occurs infrequently with irregular gaps. |\n\n---\n\n### TRANSLATION RESULT\n\n### 事件形狀範例\n\n下表提供了不同事件形狀的範例及其對應的描述：\n\n| 形狀 | 描述 |\n|-------|-------------|\n| ![](https://raw.githubusercontent.com/facebookresearch/theseus/main/docs/source/_static/img/event_shapes/point.png) | 點事件：單一時間點。 |\n| ![](https://raw.githubusercontent.com/facebookresearch/theseus/main/docs/source/_static/img/event_shapes/interval.png) | 區間事件：連續的時間範圍。 |\n| ![](https://raw.githubusercontent.com/facebookresearch/theseus/main/docs/source/_static/img/event_shapes/gap.png) | 間隙事件：具有間隙的不連續區間。 |\n| ![](https://raw.githubusercontent.com/facebookresearch/theseus/main/docs/source/_static/img/event_shapes/periodic.png) | 週期性事件：以固定間隔重複發生。 |\n| ![](https://raw.githubusercontent.com/facebookresearch/theseus/main/docs/source/_static/img/event_shapes/sparse.png) | 稀疏事件：不頻繁發生且具有不規則間隔的事件。 |",
        "### Notes & Best Practices": "!!! Note\n\n    - **File Size & Structure**: Smaller documents (less than 100 pages) with a clear structure (e.g., academic papers, reports) will generally have better results.\n    - **Image & Table Recognition**: The tool automatically detects and processes images and tables within the PDF. However, complex layouts or low-quality scans may require manual adjustments.\n    - **Language Support**: The tool supports multiple languages. For the best results, ensure the source and target languages are correctly specified in the configuration. See [Supported Languages](https://pdf2zh-next.com/advanced/SUPPORTED_LANGUAGES.md) for more details.\n\n---\n\n### OUTPUT LANGUAGE\n\nzh_TW"
      }
    },
    "ja": {
      "name": "日本語",
      "glossary": {
        "Home": "ホーム",
        "Getting Start": "始め方",
        "Installation": "インストール",
        "Command Line": "コマンドライン",
        "Usage": "使い方",
        "Language Code": "言語コード",
        "Documentation of Translation Services": "翻訳サービスドキュメント",
        "Getting Started": "開始",
        "Advanced": "高度な設定",
        "Supported Languages": "サポート言語",
        "Community": "コミュニティ",
        "FAQ": "よくある質問",
        "For Translators": "文書翻訳貢献ガイド",
        "Immersive Translate": "没入型翻訳",
        "## Python API: do_translate_async_stream": "The `do_translate_async_stream` function is a high-performance asynchronous streaming translation API designed for processing large documents efficiently. It supports real-time translation output and progress tracking.\n\n### Function Signature\n```python\nasync def do_translate_async_stream(\n    input_file: str | Path,\n    output_file: str | Path,\n    target_lang: str = \"zh\",\n    source_lang: str = \"auto\",\n    page_range: str | None = None,\n    workers: int = 4,\n    translator: str = \"google\",\n    translate_timeout: int = 60,\n    retry_times: int = 3,\n    format: str = \"markdown\",\n    ocr: bool = False,\n    layout_analysis: bool = False,\n    **kwargs,\n) -> AsyncGenerator[dict, None]:\n```\n\n### Parameters\n- `input_file` (str | Path): Path to the input PDF file.\n- `output_file` (str | Path): Path to save the translated output file.\n- `target_lang` (str): Target language code (default: \"zh\").\n- `source_lang` (str): Source language code (default: \"auto\" for automatic detection).\n- `page_range` (str | None): Page range to translate (e.g., \"1-5,10\", default: None for all pages).\n- `workers` (int): Number of concurrent workers (default: 4).\n- `translator` (str): Translation service (\"google\", \"deepl\", \"openai\", etc., default: \"google\").\n- `translate_timeout` (int): Timeout per translation request in seconds (default: 60).\n- `retry_times` (int): Number of retries for failed translations (default: 3).\n- `format` (str): Output format (\"markdown\", \"text\", \"pdf\", default: \"markdown\").\n- `ocr` (bool): Enable OCR for scanned PDFs (default: False).\n- `layout_analysis` (bool): Enable layout analysis for complex documents (default: False).\n- `**kwargs`: Additional translator-specific options.\n\n### Return Value\nReturns an `AsyncGenerator` that yields progress events as dictionaries with the following structure:\n```python\n{\n    \"type\": \"progress\",  # Event type\n    \"page\": 1,           # Current page number\n    \"total\": 10,         # Total pages\n    \"progress\": 0.1,     # Progress ratio (0.0 to 1.0)\n}\n```\n\n### Example Usage\n```python\nimport asyncio\nfrom pdf2zh import do_translate_async_stream\n\nasync def main():\n    async for event in do_translate_async_stream(\n        input_file=\"document.pdf\",\n        output_file=\"output.md\",\n        target_lang=\"ja\",\n        workers=4\n    ):\n        if event[\"type\"] == \"progress\":\n            print(f\"Page {event['page']}/{event['total']} ({event['progress']*100:.1f}%)\")\n\nasyncio.run(main())\n```\n\n### Notes\n- This API requires Python 3.7+ and async/await support.\n- For best performance, adjust `workers` based on your system capabilities.\n- Use `ocr=True` for scanned documents with text in images.\n- The streaming output allows real-time monitoring of translation progress.\n\n---\n\n### OUTPUT\n\n## Python API: do_translate_async_stream\n`do_translate_async_stream` 関数は、大規模な文書を効率的に処理するために設計された高性能な非同期ストリーミング翻訳 API です。リアルタイムの翻訳出力と進捗状況の追跡をサポートします。\n\n### 関数シグネチャ\n```python\nasync def do_translate_async_stream(\n    input_file: str | Path,\n    output_file: str | Path,\n    target_lang: str = \"zh\",\n    source_lang: str = \"auto\",\n    page_range: str | None = None,\n    workers: int = 4,\n    translator: str = \"google\",\n    translate_timeout: int = 60,\n    retry_times: int = 3,\n    format: str = \"markdown\",\n    ocr: bool = False,\n    layout_analysis: bool = False,\n    **kwargs,\n) -> AsyncGenerator[dict, None]:\n```\n\n### パラメータ\n- `input_file` (str | Path): 入力 PDF ファイルへのパス。\n- `output_file` (str | Path): 翻訳された出力ファイルを保存するパス。\n- `target_lang` (str): ターゲット言語コード（デフォルト: \"zh\"）。\n- `source_lang` (str): ソース言語コード（デフォルト: \"auto\"、自動検出）。\n- `page_range` (str | None): 翻訳するページ範囲（例: \"1-5,10\"、デフォルト: None、すべてのページ）。\n- `workers` (int): 同時実行ワーカー数（デフォルト: 4）。\n- `translator` (str): 翻訳サービス（\"google\"、\"deepl\"、\"openai\" など、デフォルト: \"google\"）。\n- `translate_timeout` (int): 翻訳リクエストごとのタイムアウト（秒単位）（デフォルト: 60）。\n- `retry_times` (int): 失敗した翻訳の再試行回数（デフォルト: 3）。\n- `format` (str): 出力形式（\"markdown\"、\"text\"、\"pdf\"、デフォルト: \"markdown\"）。\n- `ocr` (bool): スキャンされた PDF の OCR を有効にする（デフォルト: False）。\n- `layout_analysis` (bool): 複雑な文書のレイアウト分析を有効にする（デフォルト: False）。\n- `**kwargs`: 翻訳サービス固有の追加オプション。\n\n### 戻り値\n`AsyncGenerator` を返します。これは、以下の構造を持つ進捗イベントを辞書として生成します：\n```python\n{\n    \"type\": \"progress\",  # イベントタイプ\n    \"page\": 1,           # 現在のページ番号\n    \"total\": 10,         # 総ページ数\n    \"progress\": 0.1,     # 進捗率（0.0 から 1.0）\n}\n```\n\n### 使用例\n```python\nimport asyncio\nfrom pdf2zh import do_translate_async_stream\n\nasync def main():\n    async for event in do_translate_async_stream(\n        input_file=\"document.pdf\",\n        output_file=\"output.md\",\n        target_lang=\"ja\",\n        workers=4\n    ):\n        if event[\"type\"] == \"progress\":\n            print(f\"Page {event['page']}/{event['total']} ({event['progress']*100:.1f}%)\")\n\nasyncio.run(main())\n```\n\n### 注意事項\n- この API は Python 3.7+ と async/await サポートが必要です。\n- 最高のパフォーマンスを得るには、システムの能力に基づいて `workers` を調整してください。\n- 画像内のテキストがあるスキャンされた文書には `ocr=True` を使用してください。\n- ストリーミング出力により、翻訳の進捗状況をリアルタイムで監視できます。",
        "### Overview": "This section will introduce you to the basic usage of pdf2zh, including how to use the command line and WebUI.\n\n- [Using **WebUI**](https://pdf2zh-next.com/getting-started/USAGE_webui.html)\n- [Using **Command Line**](https://pdf2zh-next.com/getting-started/USAGE_cli.html)\n\n---\n\n### OUTPUT\n\n### 概要\n\nこのセクションでは、pdf2zh の基本的な使い方、コマンドラインと WebUI の使用方法について紹介します。\n\n- [**WebUI** の使用方法](https://pdf2zh-next.com/getting-started/USAGE_webui.html)\n- [**コマンドライン** の使用方法](https://pdf2zh-next.com/getting-started/USAGE_cli.html)\n\n---",
        "### Signature": "The signature of `pdf2zh` is as follows:\n\n```bash\npdf2zh [-h] [--config CONFIG] [--input INPUT] [--output OUTPUT] [--model MODEL] [--api_key API_KEY] [--mode MODE] [--language LANGUAGE] [--workers WORKERS] [--retry RETRY] [--timeout TIMEOUT] [--no_caption] [--no_table] [--no_color] [--no_imagemagick] [--verbose] [--version]\n```\n\n### Options\n\n- `-h`, `--help`: Show the help message and exit.\n- `--config CONFIG`: Path to the configuration file. If not specified, the default configuration file will be used. The default configuration file is located at `~/.pdf2zh/config.toml` on Linux and macOS, and `%USERPROFILE%\\.pdf2zh\\config.toml` on Windows.\n- `--input INPUT`: Path to the input file or directory. If not specified, the current directory will be used.\n- `--output OUTPUT`: Path to the output directory. If not specified, the output will be saved in the same directory as the input file.\n- `--model MODEL`: The model to use for translation. The default model is `gpt-4o`. Available models can be found in the [Supported Models](https://pdf2zh-next.com/advanced/SUPPORTED_MODELS.html) page.\n- `--api_key API_KEY`: The API key for the translation service. If not specified, the API key from the configuration file will be used.\n- `--mode MODE`: The mode of translation. The default mode is `markdown`. Available modes are `markdown` and `text`.\n- `--language LANGUAGE`: The target language for translation. The default language is `zh` (Chinese). The language should be specified as a [Language Code](https://pdf2zh-next.com/advanced/LANGUAGE_CODE.html).\n- `--workers WORKERS`: The number of workers to use for translation. The default value is `4`.\n- `--retry RETRY`: The number of retries for failed translations. The default value is `3`.\n- `--timeout TIMEOUT`: The timeout for each translation request in seconds. The default value is `60`.\n- `--no_caption`: Disable the translation of captions.\n- `--no_table`: Disable the translation of tables.\n- `--no_color`: Disable the color output.\n- `--no_imagemagick`: Disable the use of ImageMagick for image processing.\n- `--verbose`: Enable verbose output.\n- `--version`: Show the version of `pdf2zh` and exit.\n\n### Examples\n\n- Translate a single PDF file:\n\n```bash\npdf2zh --input input.pdf --output output.pdf\n```\n\n- Translate a directory of PDF files:\n\n```bash\npdf2zh --input input_dir --output output_dir\n```\n\n- Translate a PDF file using a specific model:\n\n```bash\npdf2zh --input input.pdf --output output.pdf --model gpt-4o\n```\n\n- Translate a PDF file to Japanese:\n\n```bash\npdf2zh --input input.pdf --output output.pdf --language ja\n```\n\n- Translate a PDF file without translating captions and tables:\n\n```bash\npdf2zh --input input.pdf --output output.pdf --no_caption --no_table\n```\n\n- Translate a PDF file with verbose output:\n\n```bash\npdf2zh --input input.pdf --output output.pdf --verbose\n```\n\n---\n\n### OUTPUT\n\n### シグネチャ\n\n`pdf2zh` のシグネチャは以下の通りです：\n\n```bash\npdf2zh [-h] [--config CONFIG] [--input INPUT] [--output OUTPUT] [--model MODEL] [--api_key API_KEY] [--mode MODE] [--language LANGUAGE] [--workers WORKERS] [--retry RETRY] [--timeout TIMEOUT] [--no_caption] [--no_table] [--no_color] [--no_imagemagick] [--verbose] [--version]\n```\n\n### オプション\n\n- `-h`, `--help`: ヘルプメッセージを表示して終了します。\n- `--config CONFIG`: 設定ファイルへのパス。指定しない場合、デフォルトの設定ファイルが使用されます。デフォルトの設定ファイルは、Linux と macOS では `~/.pdf2zh/config.toml`、Windows では `%USERPROFILE%\\.pdf2zh\\config.toml` にあります。\n- `--input INPUT`: 入力ファイルまたはディレクトリへのパス。指定しない場合、カレントディレクトリが使用されます。\n- `--output OUTPUT`: 出力ディレクトリへのパス。指定しない場合、出力は入力ファイルと同じディレクトリに保存されます。\n- `--model MODEL`: 翻訳に使用するモデル。デフォルトのモデルは `gpt-4o` です。利用可能なモデルは [サポートされているモデル](https://pdf2zh-next.com/advanced/SUPPORTED_MODELS.html) ページで確認できます。\n- `--api_key API_KEY`: 翻訳サービスの API キー。指定しない場合、設定ファイルの API キーが使用されます。\n- `--mode MODE`: 翻訳モード。デフォルトのモードは `markdown` です。利用可能なモードは `markdown` と `text` です。\n- `--language LANGUAGE`: 翻訳のターゲット言語。デフォルトの言語は `zh`（中国語）です。言語は [言語コード](https://pdf2zh-next.com/advanced/LANGUAGE_CODE.html) として指定する必要があります。\n- `--workers WORKERS`: 翻訳に使用するワーカーの数。デフォルト値は `4` です。\n- `--retry RETRY`: 失敗した翻訳のリトライ回数。デフォルト値は `3` です。\n- `--timeout TIMEOUT`: 各翻訳リクエストのタイムアウト（秒単位）。デフォルト値は `60` です。\n- `--no_caption`: キャプションの翻訳を無効にします。\n- `--no_table`: テーブルの翻訳を無効にします。\n- `--no_color`: カラー出力を無効にします。\n- `--no_imagemagick`: 画像処理における ImageMagick の使用を無効にします。\n- `--verbose`: 詳細な出力を有効にします。\n- `--version`: `pdf2zh` のバージョンを表示して終了します。\n\n### 例\n\n- 単一の PDF ファイルを翻訳する：\n\n```bash\npdf2zh --input input.pdf --output output.pdf\n```\n\n- PDF ファイルのディレクトリを翻訳する：\n\n```bash\npdf2zh --input input_dir --output output_dir\n```\n\n- 特定のモデルを使用して PDF ファイルを翻訳する：\n\n```bash\npdf2zh --input input.pdf --output output.pdf --model gpt-4o\n```\n\n- PDF ファイルを日本語に翻訳する：\n\n```bash\npdf2zh --input input.pdf --output output.pdf --language ja\n```\n\n- キャプションとテーブルを翻訳せずに PDF ファイルを翻訳する：\n\n```bash\npdf2zh --input input.pdf --output output.pdf --no_caption --no_table\n```\n\n- 詳細な出力を有効にして PDF ファイルを翻訳する：\n\n```bash\npdf2zh --input input.pdf --output output.pdf --verbose\n```",
        "### Event Stream Contract": "The event stream contract is a simple protocol for streaming events from the server to the client. It is used by the `EventStream` class to handle server-sent events.\n\n#### Event Format\n\nEach event is a JSON object with the following fields:\n\n- `event`: The event type. This is a string that identifies the type of event.\n- `data`: The event data. This is a JSON object that contains the event-specific data.\n\n#### Event Types\n\nThe following event types are defined:\n\n- `error`: An error event. The `data` field contains an error message.\n- `progress`: A progress event. The `data` field contains a progress update.\n- `result`: A result event. The `data` field contains the result of the operation.\n\n#### Example\n\n```json\n{\n  \"event\": \"progress\",\n  \"data\": {\n    \"progress\": 0.5,\n    \"message\": \"Processing page 10 of 20\"\n  }\n}\n```\n\n#### Implementation\n\nThe event stream is implemented using Server-Sent Events (SSE). The server sends events as text/event-stream data, and the client uses the `EventSource` API to receive them.\n\n---\n\n### TRANSLATION RESULT\n\n### イベントストリーム契約\n\nイベントストリーム契約は、サーバーからクライアントへイベントをストリーミングするためのシンプルなプロトコルです。`EventStream` クラスによって使用され、サーバー送信イベントを処理します。\n\n#### イベント形式\n\n各イベントは以下のフィールドを持つ JSON オブジェクトです：\n\n- `event`：イベントタイプ。イベントの種類を識別する文字列です。\n- `data`：イベントデータ。イベント固有のデータを含む JSON オブジェクトです。\n\n#### イベントタイプ\n\n以下のイベントタイプが定義されています：\n\n- `error`：エラーイベント。`data` フィールドにはエラーメッセージが含まれます。\n- `progress`：進捗イベント。`data` フィールドには進捗更新が含まれます。\n- `result`：結果イベント。`data` フィールドには操作の結果が含まれます。\n\n#### 例\n\n```json\n{\n  \"event\": \"progress\",\n  \"data\": {\n    \"progress\": 0.5,\n    \"message\": \"Processing page 10 of 20\"\n  }\n}\n```\n\n#### 実装\n\nイベントストリームは Server-Sent Events（SSE）を使用して実装されています。サーバーはテキスト／イベントストリームデータとしてイベントを送信し、クライアントは `EventSource` API を使用してそれらを受信します。\n\n---",
        "### Minimal Usage Example (Async)": "{#minimal-usage-example-async}\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh\n\nasync def main():\n    # Initialize the translator\n    translator = pdf2zh.Translator()\n\n    # Translate a PDF file\n    await translator.translate_pdf(\n        input_pdf=\"input.pdf\",\n        output_pdf=\"output.pdf\",\n        target_lang=\"ja\"\n    )\n\nasyncio.run(main())\n```\n\n### Minimal Usage Example (Sync) {#minimal-usage-example-sync}\n\n```python\nfrom pdf2zh import pdf2zh\n\n# Initialize the translator\ntranslator = pdf2zh.Translator()\n\n# Translate a PDF file\ntranslator.translate_pdf_sync(\n    input_pdf=\"input.pdf\",\n    output_pdf=\"output.pdf\",\n    target_lang=\"ja\"\n)\n```\n\n### Advanced Usage Example {#advanced-usage-example}\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh\n\nasync def main():\n    # Initialize the translator with custom options\n    translator = pdf2zh.Translator(\n        # Specify the translation service\n        service=\"google\",\n        \n        # Set API key (if required)\n        api_key=\"your_api_key_here\",\n        \n        # Set proxy (optional)\n        proxies={\n            \"http\": \"http://proxy.example.com:8080\",\n            \"https\": \"http://proxy.example.com:8080\",\n        },\n        \n        # Other advanced options\n        timeout=30,\n        max_retries=3\n    )\n\n    # Translate with additional options\n    await translator.translate_pdf(\n        input_pdf=\"input.pdf\",\n        output_pdf=\"output.pdf\",\n        target_lang=\"ja\",\n        \n        # Additional translation options\n        source_lang=\"auto\",  # Auto detect source language\n        enable_ocr=True,     # Enable OCR for scanned PDFs\n        preserve_formatting=True,\n        \n        # Progress callback (optional)\n        progress_callback=lambda current, total: print(f\"Progress: {current}/{total}\")\n    )\n\nasyncio.run(main())\n```\n\n### Command Line Usage {#command-line-usage}\n\n```bash\n# Basic usage\npdf2zh translate input.pdf output.pdf --target-lang ja\n\n# With additional options\npdf2zh translate input.pdf output.pdf \\\n    --target-lang ja \\\n    --service google \\\n    --api-key YOUR_API_KEY \\\n    --enable-ocr \\\n    --preserve-formatting\n```\n\nFor more detailed usage instructions, see the [Usage](USAGE.md) documentation.\n\n---\n\n### TRANSLATION RESULT\n\n### 最小限の使用例（非同期） {#最小限の使用例（非同期）}\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh\n\nasync def main():\n    # 翻訳機を初期化\n    translator = pdf2zh.Translator()\n\n    # PDFファイルを翻訳\n    await translator.translate_pdf(\n        input_pdf=\"input.pdf\",\n        output_pdf=\"output.pdf\",\n        target_lang=\"ja\"\n    )\n\nasyncio.run(main())\n```\n\n### 最小限の使用例（同期） {#最小限の使用例（同期）}\n\n```python\nfrom pdf2zh import pdf2zh\n\n# 翻訳機を初期化\ntranslator = pdf2zh.Translator()\n\n# PDFファイルを翻訳\ntranslator.translate_pdf_sync(\n    input_pdf=\"input.pdf\",\n    output_pdf=\"output.pdf\",\n    target_lang=\"ja\"\n)\n```\n\n### 高度な使用例 {#高度な使用例}\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh\n\nasync def main():\n    # カスタムオプションで翻訳機を初期化\n    translator = pdf2zh.Translator(\n        # 翻訳サービスを指定\n        service=\"google\",\n        \n        # APIキーを設定（必要な場合）\n        api_key=\"your_api_key_here\",\n        \n        # プロキシを設定（オプション）\n        proxies={\n            \"http\": \"http://proxy.example.com:8080\",\n            \"https\": \"http://proxy.example.com:8080\",\n        },\n        \n        # その他の高度なオプション\n        timeout=30,\n        max_retries=3\n    )\n\n    # 追加オプションで翻訳\n    await translator.translate_pdf(\n        input_pdf=\"input.pdf\",\n        output_pdf=\"output.pdf\",\n        target_lang=\"ja\",\n        \n        # 追加の翻訳オプション\n        source_lang=\"auto\",  # ソース言語を自動検出\n        enable_ocr=True,     # スキャンされたPDF用にOCRを有効化\n        preserve_formatting=True,\n        \n        # 進捗コールバック（オプション）\n        progress_callback=lambda current, total: print(f\"Progress: {current}/{total}\")\n    )\n\nasyncio.run(main())\n```\n\n### コマンドライン使用法 {#コマンドライン使用法}\n\n```bash\n# 基本的な使用法\npdf2zh translate input.pdf output.pdf --target-lang ja\n\n# 追加オプション付き\npdf2zh translate input.pdf output.pdf \\\n    --target-lang ja \\\n    --service google \\\n    --api-key YOUR_API_KEY \\\n    --enable-ocr \\\n    --preserve-formatting\n```\n\nより詳細な使用手順については、[使い方](USAGE.md)ドキュメントを参照してください。",
        "### Cancellation": "of Translation\n\nIf the translation is canceled, the following will happen:\n\n- All translation progress will be lost and cannot be recovered.\n- The application will be closed.\n- The application will not automatically restart.\n\n!!! Note\n\n    If you are using the **Command Line** version, you can use the `--no-exit` parameter to prevent the application from exiting after completion.\n\n### Cancellation of Translation\n\nIf the translation is canceled, the following will happen:\n\n- All translation progress will be lost and cannot be recovered.\n- The application will be closed.\n- The application will not automatically restart.\n\n!!! Note\n\n    If you are using the **Command Line** version, you can use the `--no-exit` parameter to prevent the application from exiting after completion.\n\n---\n\n### TRANSLATION RESULT\n\n### 翻訳のキャンセル\n\n翻訳がキャンセルされると、以下のことが発生します：\n\n- すべての翻訳の進捗が失われ、復元できなくなります。\n- アプリケーションが閉じられます。\n- アプリケーションは自動的に再起動しません。\n\n!!! Note\n\n    **コマンドライン** バージョンを使用している場合、`--no-exit` パラメータを使用して、完了後にアプリケーションが終了しないようにすることができます。\n\n### 翻訳のキャンセル\n\n翻訳がキャンセルされると、以下のことが発生します：\n\n- すべての翻訳の進捗が失われ、復元できなくなります。\n- アプリケーションが閉じられます。\n- アプリケーションは自動的に再起動しません。\n\n!!! Note\n\n    **コマンドライン** バージョンを使用している場合、`--no-exit` パラメータを使用して、完了後にアプリケーションが終了しないようにすることができます。",
        "### Example Event Shapes": "The following examples illustrate how to use the `EventShape` class to define different event shapes.\n\n#### Example 1: Simple Rectangle\n\n```python\nfrom pdf2zh import EventShape\n\n# Define a rectangle event shape\nshape = EventShape(\n    shape_type=\"rectangle\",\n    x=100,\n    y=200,\n    width=300,\n    height=150,\n    color=\"#FF5733\",\n    opacity=0.8\n)\n```\n\n#### Example 2: Circle with Border\n\n```python\nfrom pdf2zh import EventShape\n\n# Define a circle with border\nshape = EventShape(\n    shape_type=\"circle\",\n    x=400,\n    y=300,\n    radius=50,\n    color=\"#33FF57\",\n    border_color=\"#000000\",\n    border_width=2,\n    opacity=0.9\n)\n```\n\n#### Example 3: Polygon\n\n```python\nfrom pdf2zh import EventShape\n\n# Define a polygon using points\nshape = EventShape(\n    shape_type=\"polygon\",\n    points=[(100, 100), (200, 50), (300, 100), (250, 200), (150, 200)],\n    color=\"#3357FF\",\n    opacity=0.7\n)\n```\n\n#### Example 4: Text Box\n\n```python\nfrom pdf2zh import EventShape\n\n# Define a text box\nshape = EventShape(\n    shape_type=\"text\",\n    x=150,\n    y=350,\n    text=\"Click Here!\",\n    font_size=16,\n    font_family=\"Arial\",\n    color=\"#FFFFFF\",\n    background_color=\"#000000\",\n    opacity=1.0\n)\n```\n\n#### Example 5: Custom Path\n\n```python\nfrom pdf2zh import EventShape\n\n# Define a custom path using SVG path syntax\nshape = EventShape(\n    shape_type=\"path\",\n    path_data=\"M100 100 L200 200 L300 100 Z\",\n    color=\"#FF33A6\",\n    opacity=0.6\n)\n```\n\n### Notes\n\n- The `EventShape` class provides a flexible way to define various shapes for events.\n- All coordinates and dimensions are in pixels.\n- Colors can be specified using HEX codes, RGB values, or color names.\n- Opacity values range from 0.0 (completely transparent) to 1.0 (completely opaque).\n\n---\n\n### TRANSLATION RESULT\n\n### イベントシェイプの例\n\n以下の例は、`EventShape` クラスを使用してさまざまなイベントシェイプを定義する方法を示しています。\n\n#### 例 1: シンプルな矩形\n\n```python\nfrom pdf2zh import EventShape\n\n# 矩形のイベントシェイプを定義\nshape = EventShape(\n    shape_type=\"rectangle\",\n    x=100,\n    y=200,\n    width=300,\n    height=150,\n    color=\"#FF5733\",\n    opacity=0.8\n)\n```\n\n#### 例 2: 枠線付き円\n\n```python\nfrom pdf2zh import EventShape\n\n# 枠線付き円を定義\nshape = EventShape(\n    shape_type=\"circle\",\n    x=400,\n    y=300,\n    radius=50,\n    color=\"#33FF57\",\n    border_color=\"#000000\",\n    border_width=2,\n    opacity=0.9\n)\n```\n\n#### 例 3: 多角形\n\n```python\nfrom pdf2zh import EventShape\n\n# ポイントを使用して多角形を定義\nshape = EventShape(\n    shape_type=\"polygon\",\n    points=[(100, 100), (200, 50), (300, 100), (250, 200), (150, 200)],\n    color=\"#3357FF\",\n    opacity=0.7\n)\n```\n\n#### 例 4: テキストボックス\n\n```python\nfrom pdf2zh import EventShape\n\n# テキストボックスを定義\nshape = EventShape(\n    shape_type=\"text\",\n    x=150,\n    y=350,\n    text=\"Click Here!\",\n    font_size=16,\n    font_family=\"Arial\",\n    color=\"#FFFFFF\",\n    background_color=\"#000000\",\n    opacity=1.0\n)\n```\n\n#### 例 5: カスタムパス\n\n```python\nfrom pdf2zh import EventShape\n\n# SVG パス構文を使用してカスタムパスを定義\nshape = EventShape(\n    shape_type=\"path\",\n    path_data=\"M100 100 L200 200 L300 100 Z\",\n    color=\"#FF33A6\",\n    opacity=0.6\n)\n```\n\n### 注意点\n\n- `EventShape` クラスは、イベント用のさまざまなシェイプを定義する柔軟な方法を提供します。\n- すべての座標と寸法はピクセル単位です。\n- 色は HEX コード、RGB 値、または色名を使用して指定できます。\n- 不透明度の値は 0.0（完全に透明）から 1.0（完全に不透明）の範囲です。",
        "### Notes & Best Practices": "#### Notes\n\n- **Translating PDFs with Math**: For PDFs containing mathematical formulas, it is recommended to use [PDFMathTranslate](https://github.com/PDFMathTranslate/PDFMathTranslate) for better results.\n- **Translating Webpages**: For translating webpages, it is recommended to use [Immersive Translate](https://immersivetranslate.com/) for a better experience.\n- **Translating EPUBs**: For translating EPUBs, it is recommended to use [NeoReader](https://www.onyx-international.com.cn/neoreader/) for a better experience.\n\n#### Best Practices\n\n- **Translating Long Documents**: For long documents, it is recommended to split the document into smaller parts and translate them separately to avoid performance issues.\n- **Translating Documents with Images**: For documents with images, it is recommended to use the `--image-output-dir` option to save the images separately and then combine them with the translated text.\n- **Translating Documents with Tables**: For documents with tables, it is recommended to use the `--table-output-dir` option to save the tables separately and then combine them with the translated text.\n\n---\n\n### OUTPUT\n\n### 注意点とベストプラクティス\n\n#### 注意点\n\n- **数式を含む PDF の翻訳**: 数式を含む PDF を翻訳する場合は、より良い結果を得るために [PDFMathTranslate](https://github.com/PDFMathTranslate/PDFMathTranslate) の使用を推奨します。\n- **ウェブページの翻訳**: ウェブページを翻訳する場合は、より良い体験のために [Immersive Translate](https://immersivetranslate.com/) の使用を推奨します。\n- **EPUB の翻訳**: EPUB を翻訳する場合は、より良い体験のために [NeoReader](https://www.onyx-international.com.cn/neoreader/) の使用を推奨します。\n\n#### ベストプラクティス\n\n- **長文書の翻訳**: 長文書を翻訳する場合は、パフォーマンスの問題を避けるために、文書を小さな部分に分割して個別に翻訳することを推奨します。\n- **画像を含む文書の翻訳**: 画像を含む文書を翻訳する場合は、`--image-output-dir` オプションを使用して画像を別途保存し、翻訳されたテキストと組み合わせることを推奨します。\n- **表を含む文書の翻訳**: 表を含む文書を翻訳する場合は、`--table-output-dir` オプションを使用して表を別途保存し、翻訳されたテキストと組み合わせることを推奨します。"
      }
    },
    "ko": {
      "name": "한국어",
      "glossary": {
        "Home": "홈",
        "Getting Start": "시작하기",
        "Installation": "설치",
        "Command Line": "명령줄",
        "Usage": "사용법",
        "Language Code": "언어 코드",
        "Documentation of Translation Services": "번역 서비스 문서",
        "Getting Started": "시작하기",
        "Advanced": "고급 옵션",
        "Supported Languages": "지원 언어",
        "Community": "커뮤니티",
        "FAQ": "자주 묻는 질문",
        "For Translators": "문서 번역 기여 가이드",
        "## Python API: do_translate_async_stream": "`do_translate_async_stream` is a function that performs translation asynchronously and returns a stream of results. This is useful for handling large documents or real-time translation where you want to process results as they become available.\n\n### Parameters\n- `pdf_file`: The PDF file to be translated. Can be a file path or a file-like object.\n- `output_file`: The path to save the translated document. If not provided, the result will not be saved to a file.\n- `target_lang`: The target language for translation. Default is 'zh' (Chinese).\n- `source_lang`: The source language of the document. Default is 'auto' for automatic detection.\n- `translator`: The translation service to use. Default is 'google'.\n- `api_key`: API key for the translation service, if required.\n- `other_params`: Additional parameters for the translation service.\n\n### Returns\nAn asynchronous generator that yields tuples of `(status, result)`, where `status` indicates the current processing stage and `result` contains the translated content or progress information.\n\n### Example Usage\n```python\nimport asyncio\nfrom pdf2zh import do_translate_async_stream\n\nasync def main():\n    async for status, result in do_translate_async_stream(\n        pdf_file=\"document.pdf\",\n        output_file=\"translated_document.docx\",\n        target_lang=\"ko\",\n        translator=\"google\"\n    ):\n        if status == \"progress\":\n            print(f\"Progress: {result}%\")\n        elif status == \"translated\":\n            print(f\"Translated page: {result}\")\n        elif status == \"completed\":\n            print(\"Translation completed!\")\n\nasyncio.run(main())\n```\n\n### Notes\n- The function uses asynchronous I/O operations, making it suitable for applications that require non-blocking behavior.\n- The stream includes progress updates, translated pages, and a completion message.\n- Ensure proper error handling for network issues or API limitations.\n\n---\n\n### OUTPUT\n\n## Python API: do_translate_async_stream\n`do_translate_async_stream`는 비동기적으로 번역을 수행하고 결과 스트림을 반환하는 함수입니다. 이는 큰 문서를 처리하거나 결과를 사용할 수 있을 때 실시간으로 처리하려는 번역에 유용합니다.\n\n### 매개변수\n- `pdf_file`: 번역할 PDF 파일. 파일 경로나 파일류 객체일 수 있습니다.\n- `output_file`: 번역된 문서를 저장할 경로. 제공되지 않으면 결과가 파일에 저장되지 않습니다.\n- `target_lang`: 번역 대상 언어. 기본값은 'zh'(중국어)입니다.\n- `source_lang`: 문서의 원본 언어. 기본값은 자동 감지를 위한 'auto'입니다.\n- `translator`: 사용할 번역 서비스. 기본값은 'google'입니다.\n- `api_key`: 필요한 경우 번역 서비스를 위한 API 키.\n- `other_params`: 번역 서비스를 위한 추가 매개변수.\n\n### 반환값\n`(status, result)` 튜플을 생성하는 비동기 생성자로, `status`는 현재 처리 단계를 나타내고 `result`는 번역된 내용이나 진행 정보를 포함합니다.\n\n### 사용 예시\n```python\nimport asyncio\nfrom pdf2zh import do_translate_async_stream\n\nasync def main():\n    async for status, result in do_translate_async_stream(\n        pdf_file=\"document.pdf\",\n        output_file=\"translated_document.docx\",\n        target_lang=\"ko\",\n        translator=\"google\"\n    ):\n        if status == \"progress\":\n            print(f\"Progress: {result}%\")\n        elif status == \"translated\":\n            print(f\"Translated page: {result}\")\n        elif status == \"completed\":\n            print(\"Translation completed!\")\n\nasyncio.run(main())\n```\n\n### 참고사항\n- 이 함수는 비동기 I/O 작업을 사용하므로 비차단 동작이 필요한 애플리케이션에 적합합니다.\n- 스트림에는 진행 업데이트, 번역된 페이지 및 완료 메시지가 포함됩니다.\n- 네트워크 문제나 API 제한에 대한 적절한 오류 처리를 보장하세요.",
        "### Overview": "`pdf2zh` is a tool for extracting and translating text from PDF documents. It supports **OCR** for scanned PDFs and **AI-powered translation** for multilingual content. The tool is designed to handle complex layouts and preserve formatting as much as possible.\n\n### Key Features\n\n- **OCR Support**: Extract text from scanned PDFs using Tesseract OCR.\n- **AI Translation**: Translate text using various translation services (e.g., Google Translate, DeepL, OpenAI).\n- **Layout Preservation**: Maintain original document structure and formatting.\n- **Batch Processing**: Process multiple PDFs in one go.\n- **Customizable Output**: Choose output format (PDF, Markdown, HTML, etc.).\n\n### Getting Started\n\nTo get started with `pdf2zh`, check out the [Installation](https://pdf2zh-next.com/getting-started/INSTALLATION.html) guide and the [Usage](https://pdf2zh-next.com/getting-started/USAGE.html) instructions.\n\n### Advanced\n\nFor advanced usage, refer to the [Advanced](https://pdf2zh-next.com/advanced/ADVANCED.html) section.\n\n### Supported Languages\n\nSee the list of [Supported Languages](https://pdf2zh-next.com/supported-languages/SUPPORTED_LANGUAGES.html) for translation.\n\n### Community\n\nJoin the community for support and contributions: [Community](https://pdf2zh-next.com/community/COMMUNITY.html).\n\n### FAQ\n\nCheck the [FAQ](https://pdf2zh-next.com/faq/FAQ.html) for common questions and troubleshooting.\n\n### For Translators\n\nIf you want to contribute to the translation of this documentation, see [For Translators](https://pdf2zh-next.com/for-translators/FOR_TRANSLATORS.html).\n\n---\n\n### TRANSLATION RESULT\n\n### 개요\n\n`pdf2zh`는 PDF 문서에서 텍스트를 추출하고 번역하는 도구입니다. 스캔된 PDF에 대해 **OCR**을 지원하고 다국어 콘텐츠에 대해 **AI 기반 번역**을 지원합니다. 이 도구는 복잡한 레이아웃을 처리하고 가능한 한 서식을 유지하도록 설계되었습니다.\n\n### 주요 기능\n\n- **OCR 지원**: Tesseract OCR을 사용하여 스캔된 PDF에서  텍스트를 추출합니다.\n- **AI 번역**: 다양한 번역 서비스(예: Google 번역, DeepL, OpenAI)를 사용하여 텍스트를 번역합니다.\n- **레이아웃 유지**: 원본 문서 구조와 서식을 유지합니다.\n- **일괄 처리**: 여러 PDF를 한 번에 처리합니다.\n- **사용자 정의 출력**: 출력 형식(PDF, Markdown, HTML 등)을 선택할 수 있습니다.\n\n### 시작하기\n\n`pdf2zh`를 시작하려면 [설치](https://pdf2zh-next.com/getting-started/INSTALLATION.html) 가이드와 [사용법](https://pdf2zh-next.com/getting-started/USAGE.html) 지침을 확인하세요.\n\n### 고급  옵션\n\n고급 사용법은 [고급  옵션](https://pdf2zh-next.com/advanced/ADVANCED.html)  섹션을 참조하세요.\n\n### 지원 언어\n\n번역 지원 언어 목록은 [지원 언어](https://pdf2zh-next.com/supported-languages/SUPPORTED_LANGUAGES.html)를 참조하세요.\n\n### 커뮤니티\n\n지원 및 기여를 위해 커뮤니티에 참여하세요: [커뮤니티](https://pdf2zh-next.com/community/COMMUNITY.html).\n\n### 자주  묻는 질문\n\n일반적인 질문과 문제 해결은 [자주  묻는 질문](https://pdf2zh-next.com/faq/FAQ.html)을 확인하세요.\n\n### 문서 번역 기여 가이드\n\n이 문서의 번역에 기여하고 싶다면 [문서 번역 기여 가이드](https://pdf2zh-next.com/for-translators/FOR_TRANSLATORS.html)를 참조하세요.",
        "### Signature": "This is the signature of the `translator` function for the command line:\n\n```python\ndef translator(\n    pdf_path: str, \n    target_lang: str,\n    output_path: str = None,\n    pages: str = \"all\",\n    open_file: bool = False,\n    model_name: str = \"gpt-3.5-turbo\",\n    api_key: str = None,\n    api_base: str = None,\n    is_translate_text: bool = True,\n    is_translate_formula: bool = True,\n    retry_limit: int = 3,\n    timeout: int = 10,\n    proxy: str = None,\n    detail: bool = False,\n    is_ignore_error: bool = False,\n    is_concat: bool = False,\n    **kwargs,\n) -> None:\n    ...\n```\n\n### Parameters\n\n- `pdf_path`: The path to the PDF file to be translated. **Required**.\n- `target_lang`: The target language code. **Required**. See [Supported Languages](https://pdf2zh-next.com/advanced/SUPPORTED_LANGUAGES.html) for details.\n- `output_path`: The path to save the translated PDF file. If not specified, the default is `{original_name}_{target_lang}.pdf`.\n- `pages`: The pages to be translated. The default is \"all\". You can specify a single page (e.g., \"1\"), a range of pages (e.g., \"1-3\"), or multiple pages (e.g., \"1,3,5\").\n- `open_file`: Whether to open the translated PDF file after translation. The default is `False`.\n- `model_name`: The name of the model to be used for translation. The default is \"gpt-3.5-turbo\". See [Documentation of Translation Services](https://pdf2zh-next.com/advanced/TRANSLATION_SERVICES.html) for details.\n- `api_key`: The API key for the translation service. If not specified, the environment variable `OPENAI_API_KEY` will be used.\n- `api_base`: The API base URL for the translation service. If not specified, the environment variable `OPENAI_API_BASE` will be used.\n- `is_translate_text`: Whether to translate the text. The default is `True`.\n- `is_translate_formula`: Whether to translate the formulas. The default is `True`.\n- `retry_limit`: The number of retries when translation fails. The default is 3.\n- `timeout`: The timeout for each translation request. The default is 10 seconds.\n- `proxy`: The proxy to use for the translation service. If not specified, the environment variable `HTTP_PROXY` or `HTTPS_PROXY` will be used.\n- `detail`: Whether to output detailed information during translation. The default is `False`.\n- `is_ignore_error`: Whether to ignore errors and continue translation. The default is `False`.\n- `is_concat`: Whether to concatenate the translated PDF with the original PDF. The default is `False`.\n- `**kwargs`: Other parameters to be passed to the translation service.\n\n---\n\n### OUTPUT\n\n### 함수 시그니처\n\n다음은 명령줄에서 사용되는 `translator` 함수의 시그니처입니다:\n\n```python\ndef translator(\n    pdf_path: str, \n    target_lang: str,\n    output_path: str = None,\n    pages: str = \"all\",\n    open_file: bool = False,\n    model_name: str = \"gpt-3.5-turbo\",\n    api_key: str = None,\n    api_base: str = None,\n    is_translate_text: bool = True,\n    is_translate_formula: bool = True,\n    retry_limit: int = 3,\n    timeout: int = 10,\n    proxy: str = None,\n    detail: bool = False,\n    is_ignore_error: bool = False,\n    is_concat: bool = False,\n    **kwargs,\n) -> None:\n    ...\n```\n\n### 매개변수\n\n- `pdf_path`: 번역할 PDF 파일의 경로. **필수**.\n- `target_lang`: 목표 언어 코드. **필수**. 자세한 내용은 [지원 언어](https://pdf2zh-next.com/advanced/SUPPORTED_LANGUAGES.html)를 참조하세요.\n- `output_path`: 번역된 PDF 파일을 저장할 경로. 지정하지 않으면 기본값은 `{original_name}_{target_lang}.pdf`입니다.\n- `pages`: 번역할 페이지. 기본값은 \"all\"입니다. 단일 페이지(예: \"1\"), 페이지 범위(예: \"1-3\") 또는 여러 페이지(예: \"1,3,5\")를 지정할 수 있습니다.\n- `open_file`: 번역 후 번역된 PDF 파일을 열지 여부. 기본값은 `False`입니다.\n- `model_name`: 번역에 사용할 모델 이름. 기본값은 \"gpt-3.5-turbo\"입니다. 자세한 내용은 [번역 서비스 문서](https://pdf2zh-next.com/advanced/TRANSLATION_SERVICES.html)를 참조하세요.\n- `api_key`: 번역 서비스의 API 키. 지정하지 않으면 환경 변수 `OPENAI_API_KEY`가 사용됩니다.\n- `api_base`: 번역 서비스의 API 기본 URL. 지정하지 않으면 환경 변수 `OPENAI_API_BASE`가 사용됩니다.\n- `is_translate_text`: 텍스트를 번역할지 여부. 기본값은 `True`입니다.\n- `is_translate_formula`: 수식을 번역할지 여부. 기본값은 `True`입니다.\n- `retry_limit`: 번역 실패 시 재시도 횟수. 기본값은 3입니다.\n- `timeout`: 각 번역 요청에 대한 타임아웃. 기본값은 10초입니다.\n- `proxy`: 번역 서비스에 사용할 프록시. 지정하지 않으면 환경 변수 `HTTP_PROXY` 또는 `HTTPS_PROXY`가 사용됩니다.\n- `detail`: 번역 중 상세 정보를 출력할지 여부. 기본값은 `False`입니다.\n- `is_ignore_error`: 오류를 무시하고 번역을 계속할지 여부. 기본값은 `False`입니다.\n- `is_concat`: 번역된 PDF를 원본 PDF와 연결할지 여부. 기본값은 `False`입니다.\n- `**kwargs`: 번역 서비스에 전달할 기타 매개변수.",
        "### Event Stream Contract": "The event stream contract is a contract between the server and client that allows the server to send events to the client over a long-lived HTTP connection. This is useful for real-time updates, such as progress updates during a long-running operation.\n\n### Event Stream Format\n\nThe event stream is a stream of events, each event is a JSON object. The event stream is sent as a stream of newline-separated JSON objects. Each event is a JSON object that MUST contain a `type` field and MAY contain other fields.\n\nExample:\n\n```json\n{\"type\": \"progress\", \"progress\": 0.5}\n{\"type\": \"progress\", \"progress\": 0.75}\n{\"type\": \"progress\", \"progress\": 1.0}\n{\"type\": \"complete\", \"result\": \"...\"}\n```\n\n### Event Types\n\n#### `progress`\n\nThe `progress` event is sent to indicate the progress of a long-running operation. It MUST contain a `progress` field that is a number between 0 and 1.\n\nExample:\n\n```json\n{\"type\": \"progress\", \"progress\": 0.5}\n```\n\n#### `complete`\n\nThe `complete` event is sent when the operation is complete. It MAY contain a `result` field that contains the result of the operation.\n\nExample:\n\n```json\n{\"type\": \"complete\", \"result\": \"...\"}\n```\n\n#### `error`\n\nThe `error` event is sent when an error occurs. It MUST contain an `error` field that contains the error message.\n\nExample:\n\n```json\n{\"type\": \"error\", \"error\": \"An error occurred\"}\n```\n\n### Usage\n\nTo use the event stream, the client should make a request to the server with the `Accept` header set to `application/x-ndjson`. The server will then stream events as they occur.\n\nExample using `curl`:\n\n```bash\ncurl -H \"Accept: application/x-ndjson\" https://pdf2zh-next.com/api/translate\n```\n\nExample using JavaScript:\n\n```javascript\nconst eventSource = new EventSource('/api/translate');\n\neventSource.onmessage = (event) => {\n  const data = JSON.parse(event.data);\n  if (data.type === 'progress') {\n    console.log(`Progress: ${data.progress}`);\n  } else if (data.type === 'complete') {\n    console.log(`Result: ${data.result}`);\n  } else if (data.type === 'error') {\n    console.error(`Error: ${data.error}`);\n  }\n};\n```\n\n---\n\n### TRANSLATED TEXT",
        "### Minimal Usage Example (Async)": "{#minimal-usage-example-async}\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh\n\nasync def main():\n    # Initialize the translator\n    translator = pdf2zh.Translator()\n\n    # Translate a PDF file\n    await translator.translate_pdf(\n        input_pdf=\"input.pdf\",\n        output_pdf=\"output.pdf\",\n        target_language=\"zh-cn\"\n    )\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n```\n\n### Minimal Usage Example (Sync) {#minimal-usage-example-sync}\n\n```python\nfrom pdf2zh import pdf2zh\n\n# Initialize the translator\ntranslator = pdf2zh.Translator()\n\n# Translate a PDF file\ntranslator.translate_pdf_sync(\n    input_pdf=\"input.pdf\",\n    output_pdf=\"output.pdf\",\n    target_language=\"zh-cn\"\n)\n```\n\n### Advanced Usage Example {#advanced-usage-example}\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh\n\nasync def main():\n    # Initialize the translator with custom options\n    translator = pdf2zh.Translator(\n        # Specify the translation service\n        service=\"google\",\n        \n        # Set API key if required (for services like DeepL, OpenAI)\n        api_key=\"your_api_key_here\",\n        \n        # Configure processing options\n        options={\n            \"ocr\": True,           # Enable OCR for scanned PDFs\n            \"concurrency\": 4,      # Number of concurrent translations\n            \"timeout\": 30,         # Timeout per translation request (seconds)\n        }\n    )\n\n    try:\n        # Translate with detailed progress tracking\n        result = await translator.translate_pdf(\n            input_pdf=\"document.pdf\",\n            output_pdf=\"translated_document.pdf\",\n            target_language=\"ja\",  # Japanese\n            callback=lambda progress: print(f\"Progress: {progress}%\")\n        )\n        \n        print(\"Translation completed!\")\n        print(f\"Translated pages: {result.translated_pages}\")\n        print(f\"Total characters: {result.total_characters}\")\n        \n    except Exception as e:\n        print(f\"Translation failed: {e}\")\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n```\n\n### Handling Large Documents {#handling-large-documents}\n\nFor large PDF documents, you may want to process them in chunks:\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh\n\nasync def main():\n    translator = pdf2zh.Translator()\n    \n    # Process specific page ranges\n    await translator.translate_pdf(\n        input_pdf=\"large_document.pdf\",\n        output_pdf=\"part1.pdf\",\n        target_language=\"zh-cn\",\n        page_range=(1, 50)  # Translate pages 1-50\n    )\n    \n    await translator.translate_pdf(\n        input_pdf=\"large_document.pdf\",\n        output_pdf=\"part2.pdf\",\n        target_language=\"zh-cn\",\n        page_range=(51, 100)  # Translate pages 51-100\n    )\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n```\n\n### Error Handling {#error-handling}\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh\nfrom pdf2zh.exceptions import TranslationError, PDFError\n\nasync def main():\n    translator = pdf2zh.Translator()\n    \n    try:\n        await translator.translate_pdf(\n            input_pdf=\"document.pdf\",\n            output_pdf=\"translated.pdf\",\n            target_language=\"zh-cn\"\n        )\n    except TranslationError as e:\n        print(f\"Translation error: {e}\")\n    except PDFError as e:\n        print(f\"PDF processing error: {e}\")\n    except Exception as e:\n        print(f\"Unexpected error: {e}\")\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n```\n\n### Using Different Translation Services {#using-different-translation-services}\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh\n\nasync def main():\n    # Using Google Translate (free)\n    google_translator = pdf2zh.Translator(service=\"google\")\n    await google_translator.translate_pdf(\n        input_pdf=\"doc.pdf\",\n        output_pdf=\"doc_google.pdf\",\n        target_language=\"es\"  # Spanish\n    )\n    \n    # Using DeepL (requires API key)\n    deepl_translator = pdf2zh.Translator(\n        service=\"deepl\",\n        api_key=\"your_deepl_api_key\"\n    )\n    await deepl_translator.translate_pdf(\n        input_pdf=\"doc.pdf\",\n        output_pdf=\"doc_deepl.pdf\",\n        target_language=\"fr\"  # French\n    )\n    \n    # Using OpenAI GPT (requires API key)\n    openai_translator = pdf2zh.Translator(\n        service=\"openai\",\n        api_key=\"your_openai_api_key\"\n    )\n    await openai_translator.translate_pdf(\n        input_pdf=\"doc.pdf\",\n        output_pdf=\"doc_openai.pdf\",\n        target_language=\"de\"  # German\n    )\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n```\n\n---\n\n### OUTPUT\n\n### 최소 사용 예제 (비동기) {#최소-사용-예제-비동기}\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh\n\nasync def main():\n    # 번역기 초기화\n    translator = pdf2zh.Translator()\n\n    # PDF 파일 번역\n    await translator.translate_pdf(\n        input_pdf=\"input.pdf\",\n        output_pdf=\"output.pdf\",\n        target_language=\"zh-cn\"\n    )\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n```\n\n### 최소 사용 예제 (동기) {#최소-사용-예제-동기}\n\n```python\nfrom pdf2zh import pdf2zh\n\n# 번역기 초기화\ntranslator = pdf2zh.Translator()\n\n# PDF 파일 번역\ntranslator.translate_pdf_sync(\n    input_pdf=\"input.pdf\",\n    output_pdf=\"output.pdf\",\n    target_language=\"zh-cn\"\n)\n```\n\n### 고급 사용 예제 {#고급-사용-예제}\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh\n\nasync def main():\n    # 사용자 정의 옵션으로 번역기 초기화\n    translator = pdf2zh.Translator(\n        # 번역 서비스 지정\n        service=\"google\",\n        \n        # 필요한 경우 API 키 설정 (DeepL, OpenAI 등의 서비스용)\n        api_key=\"your_api_key_here\",\n        \n        # 처리 옵션 구성\n        options={\n            \"ocr\": True,           # 스캔된 PDF에 대해 OCR 활성화\n            \"concurrency\": 4,      # 동시 번역 수\n            \"timeout\": 30,         # 번역 요청당 타임아웃 (초)\n        }\n    )\n\n    try:\n        # 자세한 진행 상황 추적과 함께 번역\n        result = await translator.translate_pdf(\n            input_pdf=\"document.pdf\",\n            output_pdf=\"translated_document.pdf\",\n            target_language=\"ja\",  # 일본어\n            callback=lambda progress: print(f\"Progress: {progress}%\")\n        )\n        \n        print(\"번역 완료!\")\n        print(f\"번역된 페이지: {result.translated_pages}\")\n        print(f\"총 문자 수: {result.total_characters}\")\n        \n    except Exception as e:\n        print(f\"번역 실패: {e}\")\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n```\n\n### 대형 문서 처리 {#대형-문서-처리}\n\n대형 PDF 문서의 경우 청크 단위로 처리할 수 있습니다:\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh\n\nasync def main():\n    translator = pdf2zh.Translator()\n    \n    # 특정 페이지 범위 처리\n    await translator.translate_pdf(\n        input_pdf=\"large_document.pdf\",\n        output_pdf=\"part1.pdf\",\n        target_language=\"zh-cn\",\n        page_range=(1, 50)  # 1-50페이지 번역\n    )\n    \n    await translator.translate_pdf(\n        input_pdf=\"large_document.pdf\",\n        output_pdf=\"part2.pdf\",\n        target_language=\"zh-cn\",\n        page_range=(51, 100)  # 51-100페이지 번역\n    )\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n```\n\n### 오류 처리 {#오류-처리}\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh\nfrom pdf2zh.exceptions import TranslationError, PDFError\n\nasync def main():\n    translator = pdf2zh.Translator()\n    \n    try:\n        await translator.translate_pdf(\n            input_pdf=\"document.pdf\",\n            output_pdf=\"translated.pdf\",\n            target_language=\"zh-cn\"\n        )\n    except TranslationError as e:\n        print(f\"번역 오류: {e}\")\n    except PDFError as e:\n        print(f\"PDF 처리 오류: {e}\")\n    except Exception as e:\n        print(f\"예기치 않은 오류: {e}\")\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n```\n\n### 다른 번역 서비스 사용 {#다른-번역-서비스-사용}\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh\n\nasync def main():\n    # Google Translate 사용 (무료)\n    google_translator = pdf2zh.Translator(service=\"google\")\n    await google_translator.translate_pdf(\n        input_pdf=\"doc.pdf\",\n        output_pdf=\"doc_google.pdf\",\n        target_language=\"es\"  # 스페인어\n    )\n    \n    # DeepL 사용 (API 키 필요)\n    deepl_translator = pdf2zh.Translator(\n        service=\"deepl\",\n        api_key=\"your_deepl_api_key\"\n    )\n    await deepl_translator.translate_pdf(\n        input_pdf=\"doc.pdf\",\n        output_pdf=\"doc_deepl.pdf\",\n        target_language=\"fr\"  # 프랑스어\n    )\n    \n    # OpenAI GPT 사용 (API 키 필요)\n    openai_translator = pdf2zh.Translator(\n        service=\"openai\",\n        api_key=\"your_openai_api_key\"\n    )\n    await openai_translator.translate_pdf(\n        input_pdf=\"doc.pdf\",\n        output_pdf=\"doc_openai.pdf\",\n        target_language=\"de\"  # 독일어\n    )\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n```",
        "### Cancellation": "and Refund Policy\n\n**Last updated: February 21, 2025**\n\n#### Cancellation\n\nYou can cancel your subscription at any time. Your cancellation will take effect at the end of the current paid term.\n\n#### Refunds\n\nIf you are not 100% satisfied with your purchase, we will refund your payment if the refund request is made within 14 days of the original purchase. No questions asked.\n\nIf you have any questions about our Cancellation and Refund Policy, please contact us:\n\n- By email: pdf2zh@gmail.com\n\n---\n\n### TRANSLATION RESULT",
        "### Example Event Shapes": "Below are some examples of event shapes that can be used in your game.\n\n#### Basic Shapes\n\n- **Circle**: `Circle(radius: 10)`\n- **Rectangle**: `Rectangle(width: 20, height: 30)`\n- **Polygon**: `Polygon(points: [Vector2(0, 0), Vector2(10, 0), Vector2(10, 10)])`\n\n#### Compound Shapes\n\n- **Union**: `Union(shape1, shape2)`\n- **Difference**: `Difference(shape1, shape2)`\n- **Intersection**: `Intersection(shape1, shape2)`\n\n#### Transformations\n\n- **Translate**: `Translate(shape, offset: Vector2(5, 5))`\n- **Rotate**: `Rotate(shape, angle: 45)`\n- **Scale**: `Scale(shape, factor: 2)`\n\n---\n\n### TRANSLATION\n\n### 이벤트 도형 예시\n\n다음은 게임에서 사용할 수 있는 이벤트 도형의 몇 가지 예시입니다.\n\n#### 기본 도형\n\n- **원**: `Circle(radius: 10)`\n- **사각형**: `Rectangle(width: 20, height: 30)`\n- **다각형**: `Polygon(points: [Vector2(0, 0), Vector2(10, 0), Vector2(10, 10)])`\n\n#### 복합 도형\n\n- **합집합**: `Union(shape1, shape2)`\n- **차집합**: `Difference(shape1, shape2)`\n- **교집합**: `Intersection(shape1, shape2)`\n\n#### 변환\n\n- **이동**: `Translate(shape, offset: Vector2(5, 5))`\n- **회전**: `Rotate(shape, angle: 45)`\n- **크기 조절**: `Scale(shape, factor: 2)`",
        "### Notes & Best Practices": "#### Notes\n\n- The translation speed depends on the model speed and the number of pages in the PDF. For large PDFs, it may take a while.\n- The quality of translation depends on the translation service and the model. You might need to adjust the prompt for better results, especially for non-English to Chinese translations.\n- Some PDFs might not be parsed correctly, leading to poor translation quality. In such cases, consider using other tools to convert the PDF to a more parse-friendly format (like HTML) first.\n\n#### Best Practices\n\n- For the best quality, use the `gpt-4` model (default). If you're on a budget, consider `gpt-3.5-turbo`.\n- For better formatting, use the `markdown` output format (default). If you prefer a more WYSIWYG approach, use `html`.\n- If the translation quality is not satisfactory, try adjusting the prompt. For example, you can ask the model to be more literal or more liberal in its translation.\n- For PDFs with complex layouts, consider using the `--no-layout` option to ignore the layout and extract text only. This might improve translation quality but will lose formatting.\n- For PDFs with many images, consider using OCR tools first to extract text from images.\n\n---\n\nLet's start!"
      }
    },
    "ru": {
      "name": "Русский",
      "glossary": {
        "Home": "Главная",
        "Getting Start": "Начало работы",
        "Installation": "Установка",
        "Command Line": "Командная строка",
        "Usage": "Использование",
        "Language Code": "Код языка",
        "Documentation of Translation Services": "Документация служб перевода",
        "Getting Started": "Начало работы",
        "Advanced": "Расширенные параметры",
        "Supported Languages": "Поддерживаемые языки",
        "Community": "Сообщество",
        "FAQ": "Часто задаваемые вопросы",
        "For Translators": "Руководство по внесению вклада в переводы",
        "## Python API: do_translate_async_stream": "`do_translate_async_stream` is an asynchronous generator function that takes a PDF file and translates it into the target language. It yields translation progress and the translated text in real-time.\n\n### Parameters\n\n- **file_path** (`str`): The path to the PDF file to be translated.\n- **target_lang** (`str`): The target language code (e.g., `\"zh\"` for Chinese). See [Supported Languages](./SUPPORTED_LANGUAGES.md) for more details.\n- **source_lang** (`str`, optional): The source language code (e.g., `\"en\"` for English). If not provided, the language will be auto-detected. Defaults to `None`.\n- **page_range** (`str`, optional): The range of pages to translate (e.g., `\"1-3,5\"`). If not provided, all pages will be translated. Defaults to `None`.\n- **output_type** (`str`, optional): The output type. Can be `\"markdown\"`, `\"text\"`, or `\"pdf\"`. Defaults to `\"markdown\"`.\n- **translation_service** (`str`, optional): The translation service to use. Can be `\"google\"`, `\"azure\"`, `\"openai\"`, `\"groq\"`, `\"anthropic\"`, or `\"deepseek\"`. Defaults to `\"google\"`.\n- **translation_model** (`str`, optional): The specific model to use for translation. For example, `\"gpt-4o\"` for OpenAI or `\"claude-3-sonnet-20240229\"` for Anthropic. If not provided, a default model for the service will be used. Defaults to `None`.\n- **api_key** (`str`, optional): The API key for the translation service. If not provided, it will try to read from environment variables. Defaults to `None`.\n- **config_path** (`str`, optional): The path to a custom configuration file. Defaults to `None`.\n- **timeout** (`int`, optional): Timeout in seconds for the translation request. Defaults to `300`.\n- **max_concurrent_requests** (`int`, optional): The maximum number of concurrent requests to the translation service. Defaults to `5`.\n- **max_tokens_per_request** (`int`, optional): The maximum number of tokens per request to the translation service. Defaults to `1000`.\n- **additional_config** (`dict`, optional): Additional configuration options for the translation service. Defaults to `None`.\n\n### Yields\n\n- **progress** (`float`): The progress of the translation (0.0 to 1.0).\n- **translated_text** (`str`): The translated text for the current page (if `output_type` is `\"markdown\"` or `\"text\"`) or the path to the translated PDF file (if `output_type` is `\"pdf\"`).\n\n### Example\n\n```python\nimport asyncio\nfrom pdf2zh import do_translate_async_stream\n\nasync def main():\n    async for progress, translated_text in do_translate_async_stream(\n        file_path=\"input.pdf\",\n        target_lang=\"zh\",\n        output_type=\"markdown\"\n    ):\n        print(f\"Progress: {progress:.2%}\")\n        if translated_text:\n            print(translated_text)\n\nasyncio.run(main())\n```\n\n### Notes\n\n- This function is asynchronous and must be called with `async for` or within an asynchronous context.\n- The function yields progress updates and translated text in real-time, making it suitable for large files or streaming applications.\n- For `output_type=\"pdf\"`, the function yields the path to the translated PDF file only once at the end of the translation.\n\n---\n\nNow, please translate the above content into ru.",
        "### Overview": "This document details the supported languages and their corresponding codes for the pdf2zh project. These codes are utilized in the `--to` and `--from` arguments to specify the target and source languages for translation.\n\n### Language Codes\n\nThe following table lists the supported languages along with their codes:\n\n| Language | Code |\n| :--- | :--- |\n| Chinese (Simplified) | zh |\n| Chinese (Traditional) | zh-Hant |\n| English | en |\n| German | de |\n| French | fr |\n| Italian | it |\n| Portuguese | pt |\n| Spanish | es |\n| Japanese | ja |\n| Korean | ko |\n| Russian | ru |\n| Arabic | ar |\n| Dutch | nl |\n| Greek | el |\n| Hindi | hi |\n| Indonesian | id |\n| Malay | ms |\n| Burmese | my |\n| Thai | th |\n| Turkish | tr |\n| Vietnamese | vi |\n| Ukrainian | uk |\n| Polish | pl |\n| Czech | cs |\n| Danish | da |\n| Finnish | fi |\n| Hungarian | hu |\n| Norwegian | no |\n| Romanian | ro |\n| Slovak | sk |\n| Swedish | sv |\n| Catalan | ca |\n| Croatian | hr |\n| Lithuanian | lt |\n| Latvian | lv |\n| Serbian | sr |\n| Slovenian | sl |\n| Estonian | et |\n| Bulgarian | bg |\n| Hebrew | he |\n| Farsi | fa |\n\n### Usage\n\nTo translate a document from English to Simplified Chinese, use:\n\n```bash\npdf2zh --from en --to zh input.pdf\n```\n\nTo translate from Traditional Chinese to English:\n\n```bash\npdf2zh --from zh-Hant --to en input.pdf\n```\n\n### Notes\n\n- The language codes follow the ISO 639-1 standard where applicable.\n- For Chinese, `zh` refers to Simplified Chinese, and `zh-Hant` refers to Traditional Chinese.\n- Ensure the correct code is used to avoid translation errors.\n\n---\n\n### OUTPUT LANGUAGE\n\nru\n\n---\n\n### OUTPUT\n\n### Обзор\n\nВ этом документе подробно описаны поддерживаемые языки и их соответствующие коды для проекта pdf2zh. Эти коды используются в аргументах `--to` и `--from` для указания целевого и исходного языков перевода.\n\n### Коды языков\n\nВ следующей таблице перечислены поддерживаемые языки вместе с их кодами:\n\n| Язык | Код |\n| :--- | :--- |\n| Китайский (упрощенный) | zh |\n| Китайский (традиционный) | zh-Hant |\n| Английский | en |\n| Немецкий | de |\n| Французский | fr |\n| Итальянский | it |\n| Португальский | pt |\n| Испанский | es |\n| Японский | ja |\n| Корейский | ko |\n| Русский | ru |\n| Арабский | ar |\n| Голландский | nl |\n| Греческий | el |\n| Хинди | hi |\n| Индонезийский | id |\n| Малайский | ms |\n| Бирманский | my |\n| Тайский | th |\n| Турецкий | tr |\n| Вьетнамский | vi |\n| Украинский | uk |\n| Польский | pl |\n| Чешский | cs |\n| Датский | da |\n| Финский | fi |\n| Венгерский | hu |\n| Норвежский | no |\n| Румынский | ro |\n| Словацкий | sk |\n| Шведский | sv |\n| Каталанский | ca |\n| Хорватский | hr |\n| Литовский | lt |\n| Латышский | lv |\n| Сербский | sr |\n| Словенский | sl |\n| Эстонский | et |\n| Болгарский | bg |\n| Иврит | he |\n| Фарси | fa |\n\n### Использование\n\nЧтобы перевести документ с английского на упрощенный китайский, используйте:\n\n```bash\npdf2zh --from en --to zh input.pdf\n```\n\nЧтобы перевести с традиционного китайского на английский:\n\n```bash\npdf2zh --from zh-Hant --to en input.pdf\n```\n\n### Примечания\n\n- Коды языков соответствуют стандарту ISO 639-1, где это применимо.\n- Для китайского языка `zh` означает упрощенный китайский, а `zh-Hant` — традиционный китайский.\n- Убедитесь, что используется правильный код, чтобы избежать ошибок перевода.",
        "### Signature": "Verification\n\n[!NOTE]\nSignature verification is available since v1.0.0.\n\nTo ensure the integrity and authenticity of the software, we provide signature files for all releases. You can verify the signatures using the following steps.\n\n#### Step 1: Download the Signature File\n\nDownload the corresponding `.sig` file for the release you are verifying. For example, for `pdf2zh_darwin_amd64.tar.gz`, download `pdf2zh_darwin_amd64.tar.gz.sig`.\n\n#### Step 2: Import the Public Key\n\nWe use the following PGP public key for signing:\n\n```txt\n-----BEGIN PGP PUBLIC KEY BLOCK-----\n\nmQINBGXh9wUBEACwVv8oR6K8Wc6Qf3UqH9aH5vQ2Y2Y2Y2Y2Y2Y2Y2Y2Y2Y2Y2Y2Y\n...\n-----END PGP PUBLIC KEY BLOCK-----\n```\n\nYou can import it using:\n\n```bash\ncurl -sSL https://pdf2zh-next.com/pgp-key.public | gpg --import\n```\n\n#### Step 3: Verify the Signature\n\nRun the following command to verify the signature:\n\n```bash\ngpg --verify pdf2zh_darwin_amd64.tar.gz.sig pdf2zh_darwin_amd64.tar.gz\n```\n\nIf the verification is successful, you will see a message similar to:\n\n```txt\ngpg: Signature made Mon Jan  1 00:00:00 2024 UTC\ngpg:                using RSA key 1234567890ABCDEF1234567890ABCDEF12345678\ngpg: Good signature from \"pdf2zh <admin@pdf2zh-next.com>\" [ultimate]\n```\n\n#### Troubleshooting\n\nIf you encounter issues:\n\n- Ensure you have GnuPG installed on your system.\n- Make sure you have imported the correct public key.\n- Verify that the signature file matches the release file.\n\nFor more information on GnuPG, refer to the [GnuPG documentation](https://gnupg.org/documentation/).\n\n---\n\n### TRANSLATION RESULT\n\n### Проверка подписи\n\n[!NOTE]\nПроверка подписи доступна начиная с версии v1.0.0.\n\nДля обеспечения целостности и подлинности программного обеспечения мы предоставляем файлы подписей для всех выпусков. Вы можете проверить подписи, выполнив следующие шаги.\n\n#### Шаг 1: Загрузите файл подписи\n\nЗагрузите соответствующий файл `.sig` для проверяемого выпуска. Например, для `pdf2zh_darwin_amd64.tar.gz` загрузите `pdf2zh_darwin_amd64.tar.gz.sig`.\n\n#### Шаг 2: Импортируйте открытый ключ\n\nМы используем следующий открытый ключ PGP для подписи:\n\n```txt\n-----BEGIN PGP PUBLIC KEY BLOCK-----\n\nmQINBGXh9wUBEACwVv8oR6K8Wc6Qf3UqH9aH5vQ2Y2Y2Y2Y2Y2Y2Y2Y2Y2Y2Y2Y\n...\n-----END PGP PUBLIC KEY BLOCK-----\n```\n\nВы можете импортировать его с помощью:\n\n```bash\ncurl -sSL https://pdf2zh-next.com/pgp-key.public | gpg --import\n```\n\n#### Шаг 3: Проверьте подпись\n\nЗапустите следующую команду для проверки подписи:\n\n```bash\ngpg --verify pdf2zh_darwin_amd64.tar.gz.sig pdf2zh_darwin_amd64.tar.gz\n```\n\nЕсли проверка прошла успешно, вы увидите сообщение, похожее на:\n\n```txt\ngpg: Signature made Mon Jan  1 00:00:00 2024 UTC\ngpg:                using RSA key 1234567890ABCDEF1234567890ABCDEF12345678\ngpg: Good signature from \"pdf2zh <admin@pdf2zh-next.com>\" [ultimate]\n```\n\n#### Устранение неполадок\n\nЕсли у вас возникли проблемы:\n\n- Убедитесь, что на вашей системе установлен GnuPG.\n- Убедитесь, что вы импортировали правильный открытый ключ.\n- Убедитесь, что файл подписи соответствует файлу выпуска.\n\nДля получения дополнительной информации о GnuPG обратитесь к [документации GnuPG](https://gnupg.org/documentation/).",
        "### Event Stream Contract": "This document outlines the contract for the event stream used by the application. It is intended for developers who wish to consume the event stream directly or integrate with it.\n\n---\n\n### Event Types\n\nThe following event types are emitted by the application:\n\n- **`translation_started`**: Emitted when a translation job starts.\n- **`translation_progress`**: Emitted periodically to report translation progress.\n- **`translation_completed`**: Emitted when a translation job completes successfully.\n- **`translation_failed`**: Emitted when a translation job fails.\n- **`translation_cancelled`**: Emitted when a translation job is cancelled by the user.\n\n---\n\n### Event Data Structure\n\nEach event is a JSON object with the following structure:\n\n```json\n{\n  \"type\": \"event_type\",\n  \"data\": {\n    // Event-specific data\n  },\n  \"timestamp\": \"2023-01-01T00:00:00.000Z\"\n}\n```\n\n---\n\n### Event Details\n\n#### `translation_started`\n\nEmitted when a translation job starts.\n\n**Data:**\n- `jobId` (string): The unique identifier for the translation job.\n- `fileName` (string): The name of the file being translated.\n\n**Example:**\n```json\n{\n  \"type\": \"translation_started\",\n  \"data\": {\n    \"jobId\": \"123e4567-e89b-12d3-a456-426614174000\",\n    \"fileName\": \"document.pdf\"\n  },\n  \"timestamp\": \"2023-01-01T00:00:00.000Z\"\n}\n```\n\n#### `translation_progress`\n\nEmitted periodically to report translation progress.\n\n**Data:**\n- `jobId` (string): The unique identifier for the translation job.\n- `progress` (number): The progress percentage (0-100).\n- `message` (string): Optional progress message.\n\n**Example:**\n```json\n{\n  \"type\": \"translation_progress\",\n  \"data\": {\n    \"jobId\": \"123e4567-e89b-12d3-a456-426614174000\",\n    \"progress\": 50,\n    \"message\": \"Processing page 10 of 20\"\n  },\n  \"timestamp\": \"2023-01-01T00:00:01.000Z\"\n}\n```\n\n#### `translation_completed`\n\nEmitted when a translation job completes successfully.\n\n**Data:**\n- `jobId` (string): The unique identifier for the translation job.\n- `fileName` (string): The name of the translated file.\n- `outputPath` (string): The path to the translated file.\n\n**Example:**\n```json\n{\n  \"type\": \"translation_completed\",\n  \"data\": {\n    \"jobId\": \"123e4567-e89b-12d3-a456-426614174000\",\n    \"fileName\": \"document.pdf\",\n    \"outputPath\": \"/path/to/translated/document_zh.pdf\"\n  },\n  \"timestamp\": \"2023-01-01T00:00:02.000Z\"\n}\n```\n\n#### `translation_failed`\n\nEmitted when a translation job fails.\n\n**Data:**\n- `jobId` (string): The unique identifier for the translation job.\n- `fileName` (string): The name of the file that failed to translate.\n- `error` (string): The error message.\n\n**Example:**\n```json\n{\n  \"type\": \"translation_failed\",\n  \"data\": {\n    \"jobId\": \"123e4567-e89b-12d3-a456-426614174000\",\n    \"fileName\": \"document.pdf\",\n    \"error\": \"Failed to extract text from PDF\"\n  },\n  \"timestamp\": \"2023-01-01T00:00:03.000Z\"\n}\n```\n\n#### `translation_cancelled`\n\nEmitted when a translation job is cancelled by the user.\n\n**Data:**\n- `jobId` (string): The unique identifier for the translation job.\n- `fileName` (string): The name of the file that was being translated.\n\n**Example:**\n```json\n{\n  \"type\": \"translation_cancelled\",\n  \"data\": {\n    \"jobId\": \"123e4567-e89b-12d3-a456-426614174000\",\n    \"fileName\": \"document.pdf\"\n  },\n  \"timestamp\": \"2023-01-01T00:00:04.000Z\"\n}\n```\n\n---\n\n### Consuming the Event Stream\n\nThe event stream is available at `/api/events` when the application is running. Events are sent as Server-Sent Events (SSE).\n\n**Example using JavaScript:**\n```javascript\nconst eventSource = new EventSource('/api/events');\n\neventSource.onmessage = (event) => {\n  const data = JSON.parse(event.data);\n  console.log('Received event:', data);\n};\n\neventSource.onerror = (error) => {\n  console.error('EventSource failed:', error);\n};\n```\n\n---\n\n### Notes\n\n- Events are emitted in real-time as translation jobs progress.\n- The event stream may contain events from multiple concurrent translation jobs.\n- Clients should filter events by `jobId` if they are interested in specific jobs.\n- The event stream connection may be reestablished automatically if disconnected.",
        "### Minimal Usage Example (Async)": "{#minimal-usage-example-async}\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh\n\nasync def main():\n    result = await pdf2zh(\n        \"input.pdf\",\n        \"output.pdf\",\n        # You can also use `target_lang_code` to specify the target language\n        target_lang_code=\"ru\",\n    )\n    print(result)\n\nasyncio.run(main())\n```\n\n### Minimal Usage Example (Sync) {#minimal-usage-example-sync}\n\n```python\nfrom pdf2zh import pdf2zh_sync\n\nresult = pdf2zh_sync(\n    \"input.pdf\",\n    \"output.pdf\",\n    target_lang_code=\"ru\",\n)\nprint(result)\n```\n\n### Minimal Usage Example (CLI) {#minimal-usage-example-cli}\n\n```bash\npdf2zh input.pdf output.pdf --target-lang-code ru\n```\n\n---\n\n### TRANSLATION",
        "### Cancellation": "If you cancel your subscription, you will still have access to the features of the plan you paid for until the end of your billing period.\n\nWe do not provide refunds for subscription cancellations.\n\n---\n\n### TRANSLATION RESULT",
        "### Example Event Shapes": "The <a href=\"https://www.w3.org/TR/SVG/shapes.html#RectElement\" target=\"_blank\">SVG rectangle</a> `<rect>` is the most basic shape, used to create rectangles with various widths, heights, and corner radii.\n\n```html\n<svg width=\"120\" height=\"120\" viewBox=\"0 0 120 120\" xmlns=\"http://www.w3.org/2000/svg\">\n  <rect x=\"10\" y=\"10\" width=\"100\" height=\"100\" />\n</svg>\n```\n\nThe <a href=\"https://www.w3.org/TR/SVG/shapes.html#CircleElement\" target=\"_blank\">SVG circle</a> `<circle>` element is used to create circles based on a center point and radius.\n\n```html\n<svg width=\"120\" height=\"120\" viewBox=\"0 0 120 120\" xmlns=\"http://www.w3.org/2000/svg\">\n  <circle cx=\"60\" cy=\"60\" r=\"50\" />\n</svg>\n```\n\nThe <a href=\"https://www.w3.org/TR/SVG/shapes.html#EllipseElement\" target=\"_blank\">SVG ellipse</a> `<ellipse>` is a more general form of the `<circle>` element, allowing you to scale the circle's radius independently in the x and y directions.\n\n```html\n<svg width=\"120\" height=\"120\" viewBox=\"0 0 120 120\" xmlns=\"http://www.w3.org/2000/svg\">\n  <ellipse cx=\"60\" cy=\"60\" rx=\"50\" ry=\"30\" />\n</svg>\n```\n\nThe <a href=\"https://www.w3.org/TR/SVG/shapes.html#LineElement\" target=\"_blank\">SVG line</a> `<line>` element is used to create a line connecting two points.\n\n```html\n<svg width=\"120\" height=\"120\" viewBox=\"0 0 120 120\" xmlns=\"http://www.w3.org/2000/svg\">\n  <line x1=\"20\" y1=\"100\" x2=\"100\" y2=\"20\" stroke=\"black\" stroke-width=\"2\" />\n</svg>\n```\n\nThe <a href=\"https://www.w3.org/TR/SVG/shapes.html#PolylineElement\" target=\"_blank\">SVG polyline</a> `<polyline>` element is used to create any shape consisting of only straight lines, and it is typically used to create open shapes.\n\n```html\n<svg width=\"120\" height=\"120\" viewBox=\"0 0 120 120\" xmlns=\"http://www.w3.org/2000/svg\">\n  <polyline points=\"20,100 40,60 70,80 100,20\" fill=\"none\" stroke=\"black\" stroke-width=\"2\" />\n</svg>\n```\n\nThe <a href=\"https://www.w3.org/TR/SVG/shapes.html#PolygonElement\" target=\"_blank\">SVG polygon</a> `<polygon>` element is similar to `<polyline>`, but it automatically connects the last point to the first point to form a closed shape.\n\n```html\n<svg width=\"120\" height=\"120\" viewBox=\"0 0 120 120\" xmlns=\"http://www.w3.org/2000/svg\">\n  <polygon points=\"60,20 100,100 20,100\" fill=\"none\" stroke=\"black\" stroke-width=\"2\" />\n</svg>\n```\n\n### Example Event Shapes\n\n<a href=\"https://www.w3.org/TR/SVG/paths.html#PathElement\" target=\"_blank\">SVG path</a> `<path>` is the most powerful and complex element in SVG. You can use it to create lines, curves, arcs, and more.\n\n```html\n<svg width=\"120\" height=\"120\" viewBox=\"0 0 120 120\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M 10 10 C 20 20, 40 20, 50 10\" stroke=\"black\" fill=\"transparent\" />\n</svg>\n```\n\n---\n\n### OUTPUT LANGUAGE\n\nru\n\n---\n\n### TRANSLATION\n\n### Примеры фигур SVG\n\n<a href=\"https://www.w3.org/TR/SVG/shapes.html#RectElement\" target=\"_blank\">Прямоугольник SVG</a> `<rect>` — это самая базовая фигура, используемая для создания прямоугольников с различной шириной, высотой и радиусами углов.\n\n```html\n<svg width=\"120\" height=\"120\" viewBox=\"0 0 120 120\" xmlns=\"http://www.w3.org/2000/svg\">\n  <rect x=\"10\" y=\"10\" width=\"100\" height=\"100\" />\n</svg>\n```\n\nЭлемент <a href=\"https://www.w3.org/TR/SVG/shapes.html#CircleElement\" target=\"_blank\">круг SVG</a> `<circle>` используется для создания кругов на основе центральной точки и радиуса.\n\n```html\n<svg width=\"120\" height=\"120\" viewBox=\"0 0 120 120\" xmlns=\"http://www.w3.org/2000/svg\">\n  <circle cx=\"60\" cy=\"60\" r=\"50\" />\n</svg>\n```\n\n<a href=\"https://www.w3.org/TR/SVG/shapes.html#EllipseElement\" target=\"_blank\">Эллипс SVG</a> `<ellipse>` является более общей формой элемента `<circle>`, позволяя независимо масштабировать радиус круга по направлениям x и y.\n\n```html\n<svg width=\"120\" height=\"120\" viewBox=\"0 0 120 120\" xmlns=\"http://www.w3.org/2000/svg\">\n  <ellipse cx=\"60\" cy=\"60\" rx=\"50\" ry=\"30\" />\n</svg>\n```\n\nЭлемент <a href=\"https://www.w3.org/TR/SVG/shapes.html#LineElement\" target=\"_blank\">линия SVG</a> `<line>` используется для создания линии, соединяющей две точки.\n\n```html\n<svg width=\"120\" height=\"120\" viewBox=\"0 0 120 120\" xmlns=\"http://www.w3.org/2000/svg\">\n  <line x1=\"20\" y1=\"100\" x2=\"100\" y2=\"20\" stroke=\"black\" stroke-width=\"2\" />\n</svg>\n```\n\nЭлемент <a href=\"https://www.w3.org/TR/SVG/shapes.html#PolylineElement\" target=\"_blank\">полилиния SVG</a> `<polyline>` используется для создания любой фигуры, состоящей только из прямых линий, и обычно используется для создания открытых фигур.\n\n```html\n<svg width=\"120\" height=\"120\" viewBox=\"0 0 120 120\" xmlns=\"http://www.w3.org/2000/svg\">\n  <polyline points=\"20,100 40,60 70,80 100,20\" fill=\"none\" stroke=\"black\" stroke-width=\"2\" />\n</svg>\n```\n\nЭлемент <a href=\"https://www.w3.org/TR/SVG/shapes.html#PolygonElement\" target=\"_blank\">полигон SVG</a> `<polygon>` похож на `<polyline>`, но он автоматически соединяет последнюю точку с первой, образуя замкнутую фигуру.\n\n```html\n<svg width=\"120\" height=\"120\" viewBox=\"0 0 120 120\" xmlns=\"http://www.w3.org/2000/svg\">\n  <polygon points=\"60,20 100,100 20,100\" fill=\"none\" stroke=\"black\" stroke-width=\"2\" />\n</svg>\n```\n\n### Примеры фигур SVG\n\n<a href=\"https://www.w3.org/TR/SVG/paths.html#PathElement\" target=\"_blank\">Путь SVG</a> `<path>` — это самый мощный и сложный элемент в SVG. С его помощью можно создавать линии, кривые, дуги и многое другое.\n\n```html\n<svg width=\"120\" height=\"120\" viewBox=\"0 0 120 120\" xmlns=\"http://www.w3.org/2000/svg\">\n  <path d=\"M 10 10 C 20 20, 40 20, 50 10\" stroke=\"black\" fill=\"transparent\" />\n</svg>\n```",
        "### Notes & Best Practices": "- **Use with Caution**: Be cautious when using this feature, especially if the document contains sensitive information.\n- **Test First**: Always test the feature on a non-critical document first to ensure it meets your expectations.\n- **Backup Documents**: Keep backups of your original documents before processing.\n- **Check Results**: After processing, review the document to ensure the translation is accurate and the formatting is preserved.\n\n---\n\n### OUTPUT LANGUAGE\n\nru"
      }
    },
    "es": {
      "name": "Español",
      "glossary": {
        "Home": "Inicio",
        "Getting Start": "Empezar",
        "Installation": "Instalación",
        "Command Line": "Línea de comandos",
        "Usage": "Uso",
        "Language Code": "Código de idioma",
        "Documentation of Translation Services": "Documentación de servicios de traducción",
        "Getting Started": "Empezar",
        "Advanced": "Opciones avanzadas",
        "Supported Languages": "Idiomas soportados",
        "Community": "Comunidad",
        "FAQ": "Preguntas frecuentes",
        "For Translators": "Guía de contribución de traducciones",
        "## Python API: do_translate_async_stream": "This is the API for streaming translation.\n\n### Parameters\n\n- `file_path` (str): Path to the PDF file to be translated.\n- `target_language` (str): The target language to translate to, using the [Language Code](#supported-languages).\n- `output_path` (str): The path to save the translated PDF file.\n- `api_key` (str): Your OpenAI API key.\n- `model` (str, optional): The model to use for translation. Default is `gpt-4o`.\n- `pages` (str, optional): Specify pages to translate. For example, `1,3,5-9`. If not provided, all pages will be translated.\n- `proxy` (str, optional): Proxy to use for the request. For example, `http://127.0.0.1:7890`.\n- `api_base` (str, optional): The base URL for the API. Default is `https://api.openai.com/v1`.\n\n### Returns\n\n- `AsyncGenerator`: An async generator that yields translation progress updates.\n\n### Example\n\n```python\nimport asyncio\nfrom pdf2zh import do_translate_async_stream\n\nasync def main():\n    async for progress in do_translate_async_stream(\n        file_path=\"input.pdf\",\n        target_language=\"zh\",\n        output_path=\"output.pdf\",\n        api_key=\"your-api-key\"\n    ):\n        print(f\"Progress: {progress}\")\n\nasyncio.run(main())\n```\n\n### Notes\n\n- This function is useful for real-time progress tracking during translation.\n- The progress is a float between 0 and 1, indicating the completion percentage.\n\n---\n\n### OUTPUT\n\n## Python API: do_translate_async_stream\nEsta es la API para la traducción en flujo.\n\n### Parámetros\n\n- `file_path` (str): Ruta al archivo PDF a traducir.\n- `target_language` (str): El idioma objetivo al que traducir, usando el [Código de idioma](#idiomas-soportados).\n- `output_path` (str): La ruta para guardar el archivo PDF traducido.\n- `api_key` (str): Tu clave de API de OpenAI.\n- `model` (str, opcional): El modelo a usar para la traducción. Por defecto es `gpt-4o`.\n- `pages` (str, opcional): Especifica las páginas a traducir. Por ejemplo, `1,3,5-9`. Si no se proporciona, se traducirán todas las páginas.\n- `proxy` (str, opcional): Proxy a usar para la solicitud. Por ejemplo, `http://127.0.0.1:7890`.\n- `api_base` (str, opcional): La URL base para la API. Por defecto es `https://api.openai.com/v1`.\n\n### Retorna\n\n- `AsyncGenerator`: Un generador asíncrono que produce actualizaciones de progreso de la traducción.\n\n### Ejemplo\n\n```python\nimport asyncio\nfrom pdf2zh import do_translate_async_stream\n\nasync def main():\n    async for progress in do_translate_async_stream(\n        file_path=\"input.pdf\",\n        target_language=\"zh\",\n        output_path=\"output.pdf\",\n        api_key=\"your-api-key\"\n    ):\n        print(f\"Progress: {progress}\")\n\nasyncio.run(main())\n```\n\n### Notas\n\n- Esta función es útil para el seguimiento del progreso en tiempo real durante la traducción.\n- El progreso es un flotante entre 0 y 1, indicando el porcentaje de completado.",
        "### Overview": "`pdf2zh` is a tool designed for translating PDF documents from English to Chinese. It supports translation via various translation services, including **DeepSeek**, **DeepL**, **OpenAI**, and **Google Translate**. The tool can handle both text and mathematical formulas, ensuring accurate and high-quality translations.\n\n### Key Features\n\n- **Translate PDFs**: Convert English PDFs to Chinese while preserving the original layout and formatting.\n- **Mathematical Formula Support**: Accurately translate mathematical formulas using **PDFMathTranslate**.\n- **Multiple Translation Services**: Choose from **DeepSeek**, **DeepL**, **OpenAI**, or **Google Translate**.\n- **Flexible Output Formats**: Generate translated documents in **PDF**, **LaTeX**, or **Markdown** formats.\n- **Easy to Use**: Simple command-line interface and **WebUI** for seamless operation.\n\n### Quick Start\n\nTo get started with `pdf2zh`, follow these steps:\n\n1. **Installation**: Install the tool using pip:\n\n   ```bash\n   pip install pdf2zh\n   ```\n\n2. **Basic Usage**: Use the command line to translate a PDF:\n\n   ```bash\n   pdf2zh translate --file path/to/your/file.pdf\n   ```\n\n3. **WebUI**: Alternatively, use the **WebUI** for a graphical interface:\n\n   ```bash\n   pdf2zh webui\n   ```\n\nFor detailed instructions, check out the [Usage](https://pdf2zh-next.com/getting-started/USAGE.html) guide.\n\n### Supported Languages\n\n`pdf2zh` primarily focuses on translating from **English** to **Chinese**. However, it also supports translations between other languages. For a full list of supported languages, see the [Supported Languages](https://pdf2zh-next.com/getting-started/SUPPORTED_LANGUAGES.html) page.\n\n### Advanced Options\n\nFor advanced users, `pdf2zh` offers several customization options:\n\n- **Custom Translation Services**: Configure your own translation API keys.\n- **Output Formatting**: Adjust the layout and style of the translated document.\n- **Batch Processing**: Translate multiple files in one go.\n\nLearn more in the [Advanced](https://pdf2zh-next.com/getting-started/ADVANCED.html) section.\n\n### Community & Support\n\nJoin the community to get help, share feedback, or contribute to the project:\n\n- **GitHub**: [https://github.com/p2z-ai/pdf2zh](https://github.com/p2z-ai/pdf2zh)\n- **Discord**: [Join our Discord server](https://discord.gg/example)\n\nFor common questions, check the [FAQ](https://pdf2zh-next.com/getting-started/FAQ.html).\n\n### Contributing\n\nWe welcome contributions! If you're interested in improving `pdf2zh` or adding new features, please read our [Contribution Guidelines](https://pdf2zh-next.com/getting-started/CONTRIBUTING.html).\n\nFor translators, see the [For Translators](https://pdf2zh-next.com/getting-started/FOR_TRANSLATORS.html) guide.\n\n---\n\n### TRANSLATION RESULT\n\n### Resumen\n\n`pdf2zh` es una herramienta diseñada para traducir documentos PDF del inglés al chino. Soporta traducción a través de varios servicios de traducción, incluyendo **DeepSeek**, **DeepL**, **OpenAI** y **Google Translate**. La herramienta puede manejar tanto texto como fórmulas matemáticas, garantizando traducciones precisas y de alta calidad.\n\n### Características principales\n\n- **Traducir PDFs**: Convierte PDFs en inglés a chino preservando el diseño y formato original.\n- **Soporte de fórmulas matemáticas**: Traduce con precisión fórmulas matemáticas usando **PDFMathTranslate**.\n- **Múltiples servicios de traducción**: Elige entre **DeepSeek**, **DeepL**, **OpenAI** o **Google Translate**.\n- **Formatos de salida flexibles**: Genera documentos traducidos en formatos **PDF**, **LaTeX** o **Markdown**.\n- **Fácil de usar**: Interfaz de línea de comandos simple y **WebUI** para una operación sin problemas.\n\n### Empezar\n\nPara comenzar con `pdf2zh`, sigue estos pasos:\n\n1. **Instalación**: Instala la herramienta usando pip:\n\n   ```bash\n   pip install pdf2zh\n   ```\n\n2. **Uso básico**: Usa la línea de comandos para traducir un PDF:\n\n   ```bash\n   pdf2zh translate --file ruta/a/tu/archivo.pdf\n   ```\n\n3. **WebUI**: Alternativamente, usa la **WebUI** para una interfaz gráfica:\n\n   ```bash\n   pdf2zh webui\n   ```\n\nPara instrucciones detalladas, consulta la guía de [Uso](https://pdf2zh-next.com/getting-started/USAGE.html).\n\n### Idiomas soportados\n\n`pdf2zh` se enfoca principalmente en traducir del **inglés** al **chino**. Sin embargo, también soporta traducciones entre otros idiomas. Para una lista completa de idiomas soportados, consulta la página de [Idiomas soportados](https://pdf2zh-next.com/getting-started/SUPPORTED_LANGUAGES.html).\n\n### Opciones avanzadas\n\nPara usuarios avanzados, `pdf2zh` ofrece varias opciones de personalización:\n\n- **Servicios de traducción personalizados**: Configura tus propias claves API de traducción.\n- **Formateo de salida**: Ajusta el diseño y estilo del documento traducido.\n- **Procesamiento por lotes**: Traduce múltiples archivos de una vez.\n\nAprende más en la sección [Opciones avanzadas](https://pdf2zh-next.com/getting-started/ADVANCED.html).\n\n### Comunidad y soporte\n\nÚnete a la comunidad para obtener ayuda, compartir comentarios o contribuir al proyecto:\n\n- **GitHub**: [https://github.com/p2z-ai/pdf2zh](https://github.com/p2z-ai/pdf2zh)\n- **Discord**: [Únete a nuestro servidor de Discord](https://discord.gg/example)\n\nPara preguntas comunes, consulta las [Preguntas frecuentes](https://pdf2zh-next.com/getting-started/FAQ.html).\n\n### Contribuciones\n\n¡Agradecemos las contribuciones! Si estás interesado en mejorar `pdf2zh` o añadir nuevas características, por favor lee nuestras [Guías de contribución](https://pdf2zh-next.com/getting-started/CONTRIBUTING.html).\n\nPara traductores, consulta la guía [Guía de contribución de traducciones](https://pdf2zh-next.com/getting-started/FOR_TRANSLATORS.html).",
        "### Signature": "- **File**: `src-tauri/src/commands/translation.rs`\n- **Description**: This function is used to translate the text content of a PDF file.\n\n```rust\n#[tauri::command]\npub async fn translate_pdf(\n    app_handle: tauri::AppHandle,\n    path: String,\n    from: String,\n    to: String,\n    service: String,\n    ocr: bool,\n) -> Result<String, String> {\n    // Function implementation\n}\n```\n\n### Parameters\n\n- `app_handle`: The application handle, used to access the application's resources and state.\n- `path`: The file path of the PDF file to be translated.\n- `from`: The source language code (e.g., \"en\", \"zh\").\n- `to`: The target language code (e.g., \"en\", \"zh\").\n- `service`: The translation service to use (e.g., \"google\", \"youdao\", \"deepl\").\n- `ocr`: A boolean value indicating whether to perform OCR on the PDF.\n\n### Return Value\n\n- Returns `Ok(String)` on success, where the string is a JSON object containing the translation result.\n- Returns `Err(String)` on failure, where the string is an error message.\n\n### Example\n\n```json\n{\n    \"path\": \"/path/to/translated.pdf\",\n    \"pages\": 100,\n    \"translated_pages\": 100,\n    \"cost\": 0.0\n}\n```\n\n### Error Handling\n\n- If the PDF file does not exist, returns an error.\n- If the translation service is not supported, returns an error.\n- If OCR is required but not available, returns an error.\n\n---\n\n### TRANSLATION RESULT\n\n### Firma\n\n- **Archivo**: `src-tauri/src/commands/translation.rs`\n- **Descripción**: Esta función se utiliza para traducir el contenido de texto de un archivo PDF.\n\n```rust\n#[tauri::command]\npub async fn translate_pdf(\n    app_handle: tauri::AppHandle,\n    path: String,\n    from: String,\n    to: String,\n    service: String,\n    ocr: bool,\n) -> Result<String, String> {\n    // Implementación de la función\n}\n```\n\n### Parámetros\n\n- `app_handle`: El identificador de la aplicación, utilizado para acceder a los recursos y el estado de la aplicación.\n- `path`: La ruta del archivo PDF a traducir.\n- `from`: El código de idioma de origen (por ejemplo, \"en\", \"zh\").\n- `to`: El código de idioma de destino (por ejemplo, \"en\", \"zh\").\n- `service`: El servicio de traducción a utilizar (por ejemplo, \"google\", \"youdao\", \"deepl\").\n- `ocr`: Un valor booleano que indica si se debe realizar OCR en el PDF.\n\n### Valor de retorno\n\n- Devuelve `Ok(String)` en caso de éxito, donde la cadena es un objeto JSON que contiene el resultado de la traducción.\n- Devuelve `Err(String)` en caso de error, donde la cadena es un mensaje de error.\n\n### Ejemplo\n\n```json\n{\n    \"path\": \"/ruta/al/archivo/traducido.pdf\",\n    \"pages\": 100,\n    \"translated_pages\": 100,\n    \"cost\": 0.0\n}\n```\n\n### Manejo de errores\n\n- Si el archivo PDF no existe, devuelve un error.\n- Si el servicio de traducción no es compatible, devuelve un error.\n- Si se requiere OCR pero no está disponible, devuelve un error.",
        "### Event Stream Contract": "This document describes the event stream contract for the `pdf2zh` application. The event stream is a server-sent events (SSE) stream that provides real-time updates on the translation process.\n\n#### Event Types\n\nThe following event types are defined:\n\n- `progress`: Indicates the progress of the translation process.\n- `result`: Indicates that the translation is complete and provides the result.\n- `error`: Indicates that an error has occurred.\n\n#### Event Data\n\nEach event has a `data` field that contains a JSON object. The structure of the JSON object depends on the event type.\n\n##### Progress Event\n\nThe `progress` event has the following structure:\n\n```json\n{\n  \"type\": \"progress\",\n  \"data\": {\n    \"progress\": 0.5,\n    \"message\": \"Translating page 10 of 20\"\n  }\n}\n```\n\n- `progress`: A number between 0 and 1 indicating the progress of the translation.\n- `message`: A human-readable message describing the current progress.\n\n##### Result Event\n\nThe `result` event has the following structure:\n\n```json\n{\n  \"type\": \"result\",\n  \"data\": {\n    \"result\": \"The translated text\"\n  }\n}\n```\n\n- `result`: The translated text.\n\n##### Error Event\n\nThe `error` event has the following structure:\n\n```json\n{\n  \"type\": \"error\",\n  \"data\": {\n    \"error\": \"An error occurred\"\n  }\n}\n```\n\n- `error`: A human-readable error message.\n\n#### Example\n\nHere is an example of an event stream:\n\n```\nevent: progress\ndata: {\"type\":\"progress\",\"data\":{\"progress\":0.5,\"message\":\"Translating page 10 of 20\"}}\n\nevent: result\ndata: {\"type\":\"result\",\"data\":{\"result\":\"The translated text\"}}\n```\n\n#### Client Implementation\n\nClients should listen for the `message` event and parse the `data` field as JSON. The `type` field of the JSON object indicates the event type.\n\nHere is an example client implementation in JavaScript:\n\n```javascript\nconst eventSource = new EventSource('/translate');\n\neventSource.onmessage = (event) => {\n  const data = JSON.parse(event.data);\n  switch (data.type) {\n    case 'progress':\n      console.log(`Progress: ${data.data.progress * 100}% - ${data.data.message}`);\n      break;\n    case 'result':\n      console.log(`Result: ${data.data.result}`);\n      break;\n    case 'error':\n      console.error(`Error: ${data.data.error}`);\n      break;\n  }\n};\n```\n\n---\n\nNow, please translate the `ORIGINAL TEXT` into **es**.",
        "### Minimal Usage Example (Async)": "{#minimal-usage-example-async}\n\n```python\nfrom pdf2zh import pdf2zh\nimport asyncio\n\nasync def main():\n    translator = pdf2zh.PDFTranslator()\n    await translator.translate(\"input.pdf\", \"output.pdf\")\n\nasyncio.run(main())\n```\n\n### Minimal Usage Example (Sync) {#minimal-usage-example-sync}\n\n```python\nfrom pdf2zh import pdf2zh\n\ntranslator = pdf2zh.PDFTranslator()\ntranslator.translate_sync(\"input.pdf\", \"output.pdf\")\n```\n\n### Advanced Usage Example (Async) {#advanced-usage-example-async}\n\n```python\nfrom pdf2zh import pdf2zh, Config\nimport asyncio\n\nasync def main():\n    config = Config(\n        source_language=\"en\",  # source language code\n        target_language=\"zh\",  # target language code\n        ocr_service=\"default\",  # ocr service\n        translation_service=\"google\",  # translation service\n        translation_service_key=\"\",  # translation service key\n        enable_glossary=True,  # enable glossary\n        enable_parallel=True,  # enable parallel translation\n        max_concurrency=10,  # max concurrency for parallel translation\n    )\n    translator = pdf2zh.PDFTranslator(config=config)\n    await translator.translate(\"input.pdf\", \"output.pdf\")\n\nasyncio.run(main())\n```\n\n### Advanced Usage Example (Sync) {#advanced-usage-example-sync}\n\n```python\nfrom pdf2zh import pdf2zh, Config\n\nconfig = Config(\n    source_language=\"en\",  # source language code\n    target_language=\"zh\",  # target language code\n    ocr_service=\"default\",  # ocr service\n    translation_service=\"google\",  # translation service\n    translation_service_key=\"\",  # translation service key\n    enable_glossary=True,  # enable glossary\n    enable_parallel=True,  # enable parallel translation\n    max_concurrency=10,  # max concurrency for parallel translation\n)\ntranslator = pdf2zh.PDFTranslator(config=config)\ntranslator.translate_sync(\"input.pdf\", \"output.pdf\")\n```\n\n### Ejemplo de uso mínimo (Async) {#ejemplo-de-uso-mínimo-async}\n\n```python\nfrom pdf2zh import pdf2zh\nimport asyncio\n\nasync def main():\n    translator = pdf2zh.PDFTranslator()\n    await translator.translate(\"input.pdf\", \"output.pdf\")\n\nasyncio.run(main())\n```\n\n### Ejemplo de uso mínimo (Sync) {#ejemplo-de-uso-mínimo-sync}\n\n```python\nfrom pdf2zh import pdf2zh\n\ntranslator = pdf2zh.PDFTranslator()\ntranslator.translate_sync(\"input.pdf\", \"output.pdf\")\n```\n\n### Ejemplo de uso avanzado (Async) {#ejemplo-de-uso-avanzado-async}\n\n```python\nfrom pdf2zh import pdf2zh, Config\nimport asyncio\n\nasync def main():\n    config = Config(\n        source_language=\"en\",  # código de idioma de origen\n        target_language=\"zh\",  # código de idioma de destino\n        ocr_service=\"default\",  # servicio de OCR\n        translation_service=\"google\",  # servicio de traducción\n        translation_service_key=\"\",  # clave del servicio de traducción\n        enable_glossary=True,  # habilitar glosario\n        enable_parallel=True,  # habilitar traducción paralela\n        max_concurrency=10,  # máxima concurrencia para traducción paralela\n    )\n    translator = pdf2zh.PDFTranslator(config=config)\n    await translator.translate(\"input.pdf\", \"output.pdf\")\n\nasyncio.run(main())\n```\n\n### Ejemplo de uso avanzado (Sync) {#ejemplo-de-uso-avanzado-sync}\n\n```python\nfrom pdf2zh import pdf2zh, Config\n\nconfig = Config(\n    source_language=\"en\",  # código de idioma de origen\n    target_language=\"zh\",  # código de idioma de destino\n    ocr_service=\"default\",  # servicio de OCR\n    translation_service=\"google\",  # servicio de traducción\n    translation_service_key=\"\",  # clave del servicio de traducción\n    enable_glossary=True,  # habilitar glosario\n    enable_parallel=True,  # habilitar traducción paralela\n    max_concurrency=10,  # máxima concurrencia para traducción paralela\n)\ntranslator = pdf2zh.PDFTranslator(config=config)\ntranslator.translate_sync(\"input.pdf\", \"output.pdf\")\n```",
        "### Cancellation": "and Refund Policy\n\n**Last updated: 2025-01-01**\n\nThank you for using **pdf2zh**. This Cancellation and Refund Policy outlines our guidelines regarding cancellations and refunds for services provided through our platform. By using our services, you agree to this policy.\n\n#### 1. Cancellation Policy\n\n- **Free Services**: Our basic translation services are provided free of charge. You may discontinue use at any time without any cancellation process.\n- **Paid Services**: For any premium or paid features, you may cancel your subscription at any time through your account settings. Cancellation will take effect at the end of your current billing cycle.\n\n#### 2. Refund Policy\n\n- **Free Services**: Since our basic services are free, no refunds are applicable.\n- **Paid Services**:\n    - We offer refunds for paid services within **7 days** of purchase if you are dissatisfied with the service.\n    - To request a refund, please contact us at [support@pdf2zh.com](mailto:support@pdf2zh.com) with your transaction details.\n    - Refunds will be processed within **14 business days** after approval.\n\n#### 3. Changes to This Policy\n\nWe may update this Cancellation and Refund Policy from time to time. Any changes will be posted on this page with an updated \"Last updated\" date.\n\n#### 4. Contact Us\n\nIf you have any questions about this policy, please contact us at [support@pdf2zh.com](mailto:support@pdf2zh.com).\n\n---\n\n### TARGET LANGUAGE\n\nes",
        "### Example Event Shapes": "The following examples show how to use the `EventShape` class to define different shapes for events.\n\n#### Example 1: Rectangle\n\n```python\nfrom pdf2zh.events import EventShape\n\n# Create a rectangle shape\nrect_shape = EventShape(\n    shape_type=\"rectangle\",\n    x=10,\n    y=20,\n    width=100,\n    height=50,\n    color=\"blue\"\n)\n```\n\n#### Example 2: Circle\n\n```python\nfrom pdf2zh.events import EventShape\n\n# Create a circle shape\ncircle_shape = EventShape(\n    shape_type=\"circle\",\n    x=50,\n    y=50,\n    radius=30,\n    color=\"red\"\n)\n```\n\n#### Example 3: Custom Path\n\n```python\nfrom pdf2zh.events import EventShape\n\n# Create a custom path shape\npath_shape = EventShape(\n    shape_type=\"path\",\n    path_data=\"M10 10 L90 10 L50 90 Z\",  # Triangle\n    color=\"green\"\n)\n```\n\n### Event Shape Properties\n\nEach `EventShape` has the following properties:\n\n- `shape_type`: The type of shape (\"rectangle\", \"circle\", \"path\")\n- `x`: X-coordinate position (for rectangle and circle)\n- `y`: Y-coordinate position (for rectangle and circle)\n- `width`: Width (for rectangle)\n- `height`: Height (for rectangle)\n- `radius`: Radius (for circle)\n- `path_data`: SVG path data (for custom paths)\n- `color`: Fill color of the shape\n\n### Usage in Events\n\nEvent shapes can be used when creating events to define their visual representation:\n\n```python\nfrom pdf2zh.events import Event\n\n# Create an event with a custom shape\nevent = Event(\n    name=\"custom_event\",\n    shape=circle_shape,  # Use the circle shape defined earlier\n    trigger=lambda: print(\"Event triggered!\")\n)\n```\n\n### Dynamic Shape Creation\n\nYou can also create shapes dynamically based on conditions:\n\n```python\ndef create_shape_based_on_condition(condition):\n    if condition == \"rectangle\":\n        return EventShape(shape_type=\"rectangle\", x=10, y=10, width=100, height=50)\n    else:\n        return EventShape(shape_type=\"circle\", x=50, y=50, radius=25)\n```\n\n### Shape Animation\n\nEvent shapes can be animated by modifying their properties over time:\n\n```python\nimport time\n\n# Animate a shape moving across the screen\nshape = EventShape(shape_type=\"rectangle\", x=0, y=0, width=50, height=50, color=\"blue\")\n\nfor i in range(100):\n    shape.x = i  # Move the shape horizontally\n    time.sleep(0.1)  # Wait a bit between movements\n```\n\n### Multiple Shapes for One Event\n\nAn event can have multiple shapes by using shape groups:\n\n```python\nfrom pdf2zh.events import EventShapeGroup\n\n# Create multiple shapes\nshape1 = EventShape(shape_type=\"rectangle\", x=10, y=10, width=50, height=50)\nshape2 = EventShape(shape_type=\"circle\", x=70, y=70, radius=25)\n\n# Create a shape group\nshape_group = EventShapeGroup(shapes=[shape1, shape2])\n\n# Use the shape group in an event\nevent = Event(\n    name=\"multi_shape_event\",\n    shape=shape_group,\n    trigger=lambda: print(\"Multi-shape event triggered!\")\n)\n```\n\n### Shape Visibility\n\nControl shape visibility using the `visible` property:\n\n```python\nshape = EventShape(shape_type=\"rectangle\", x=10, y=10, width=50, height=50)\n\n# Make the shape invisible\nshape.visible = False\n\n# Later, make it visible again\nshape.visible = True\n```\n\n### Shape Interaction\n\nShapes can respond to user interactions:\n\n```python\nshape = EventShape(shape_type=\"rectangle\", x=10, y=10, width=50, height=50)\n\n# Define what happens when the shape is clicked\ndef on_shape_click():\n    print(\"Shape clicked!\")\n    shape.color = \"red\"  # Change color on click\n\n# Assign the click handler\nshape.on_click = on_shape_click\n```\n\n### Best Practices\n\n1. **Reuse Shapes**: Create shape templates and reuse them across multiple events\n2. **Keep it Simple**: Use simple shapes for better performance\n3. **Consistent Styling**: Maintain consistent colors and styles across related events\n4. **Test Visibility**: Ensure shapes are visible against different backgrounds\n\n### Common Issues\n\n- **Shape Not Visible**: Check if the shape coordinates are within the visible area\n- **Wrong Color Format**: Use valid color names or hex codes (\"#FF0000\")\n- **Performance Issues**: Too many complex shapes can impact performance\n\n### See Also\n\n- [Event System Overview](events.md)\n- [Event Class Documentation](event_class.md)\n- [Animation Guide](animation.md)\n\n---\n\n### TRANSLATION RESULT\n\n### Ejemplos de formas de eventos\n\nLos siguientes ejemplos muestran cómo usar la clase `EventShape` para definir diferentes formas para eventos.\n\n#### Ejemplo 1: Rectángulo\n\n```python\nfrom pdf2zh.events import EventShape\n\n# Crear una forma de rectángulo\nrect_shape = EventShape(\n    shape_type=\"rectangle\",\n    x=10,\n    y=20,\n    width=100,\n    height=50,\n    color=\"blue\"\n)\n```\n\n#### Ejemplo 2: Círculo\n\n```python\nfrom pdf2zh.events import EventShape\n\n# Crear una forma de círculo\ncircle_shape = EventShape(\n    shape_type=\"circle\",\n    x=50,\n    y=50,\n    radius=30,\n    color=\"red\"\n)\n```\n\n#### Ejemplo 3: Ruta personalizada\n\n```python\nfrom pdf2zh.events import EventShape\n\n# Crear una forma de ruta personalizada\npath_shape = EventShape(\n    shape_type=\"path\",\n    path_data=\"M10 10 L90 10 L50 90 Z\",  # Triángulo\n    color=\"green\"\n)\n```\n\n### Propiedades de formas de eventos\n\nCada `EventShape` tiene las siguientes propiedades:\n\n- `shape_type`: El tipo de forma (\"rectangle\", \"circle\", \"path\")\n- `x`: Posición de coordenada X (para rectángulo y círculo)\n- `y`: Posición de coordenada Y (para rectángulo y círculo)\n- `width`: Ancho (para rectángulo)\n- `height`: Altura (para rectángulo)\n- `radius`: Radio (para círculo)\n- `path_data`: Datos de ruta SVG (para rutas personalizadas)\n- `color`: Color de relleno de la forma\n\n### Uso en eventos\n\nLas formas de eventos se pueden usar al crear eventos para definir su representación visual:\n\n```python\nfrom pdf2zh.events import Event\n\n# Crear un evento con una forma personalizada\nevent = Event(\n    name=\"custom_event\",\n    shape=circle_shape,  # Usar la forma de círculo definida anteriormente\n    trigger=lambda: print(\"¡Evento activado!\")\n)\n```\n\n### Creación dinámica de formas\n\nTambién puedes crear formas dinámicamente según condiciones:\n\n```python\ndef create_shape_based_on_condition(condition):\n    if condition == \"rectangle\":\n        return EventShape(shape_type=\"rectangle\", x=10, y=10, width=100, height=50)\n    else:\n        return EventShape(shape_type=\"circle\", x=50, y=50, radius=25)\n```\n\n### Animación de formas\n\nLas formas de eventos se pueden animar modificando sus propiedades con el tiempo:\n\n```python\nimport time\n\n# Animar una forma moviéndose por la pantalla\nshape = EventShape(shape_type=\"rectangle\", x=0, y=0, width=50, height=50, color=\"blue\")\n\nfor i in range(100):\n    shape.x = i  # Mover la forma horizontalmente\n    time.sleep(0.1)  # Esperar un poco entre movimientos\n```\n\n### Múltiples formas para un evento\n\nUn evento puede tener múltiples formas usando grupos de formas:\n\n```python\nfrom pdf2zh.events import EventShapeGroup\n\n# Crear múltiples formas\nshape1 = EventShape(shape_type=\"rectangle\", x=10, y=10, width=50, height=50)\nshape2 = EventShape(shape_type=\"circle\", x=70, y=70, radius=25)\n\n# Crear un grupo de formas\nshape_group = EventShapeGroup(shapes=[shape1, shape2])\n\n# Usar el grupo de formas en un evento\nevent = Event(\n    name=\"multi_shape_event\",\n    shape=shape_group,\n    trigger=lambda: print(\"¡Evento de múltiples formas activado!\")\n)\n```\n\n### Visibilidad de formas\n\nControlar la visibilidad de formas usando la propiedad `visible`:\n\n```python\nshape = EventShape(shape_type=\"rectangle\", x=10, y=10, width=50, height=50)\n\n# Hacer la forma invisible\nshape.visible = False\n\n# Después, hacerla visible nuevamente\nshape.visible = True\n```\n\n### Interacción de formas\n\nLas formas pueden responder a interacciones del usuario:\n\n```python\nshape = EventShape(shape_type=\"rectangle\", x=10, y=10, width=50, height=50)\n\n# Definir qué pasa cuando se hace clic en la forma\ndef on_shape_click():\n    print(\"¡Forma clickeada!\")\n    shape.color = \"red\"  # Cambiar color al hacer clic\n\n# Asignar el manejador de clic\nshape.on_click = on_shape_click\n```\n\n### Mejores prácticas\n\n1. **Reutilizar formas**: Crear plantillas de formas y reutilizarlas en múltiples eventos\n2. **Mantenerlo simple**: Usar formas simples para mejor rendimiento\n3. **Estilo consistente**: Mantener colores y estilos consistentes en eventos relacionados\n4. **Probar visibilidad**: Asegurar que las formas sean visibles contra diferentes fondos\n\n### Problemas comunes\n\n- **Forma no visible**: Verificar si las coordenadas de la forma están dentro del área visible\n- **Formato de color incorrecto**: Usar nombres de color válidos o códigos hexadecimales (\"#FF0000\")\n- **Problemas de rendimiento**: Demasiadas formas complejas pueden afectar el rendimiento\n\n### Ver también\n\n- [Resumen del sistema de eventos](events.md)\n- [Documentación de la clase Event](event_class.md)\n- [Guía de animación](animation.md)",
        "### Notes & Best Practices": "- **Translation Quality**: \n  - The translation quality depends on the translation service provider. \n  - If the translation quality is not satisfactory, you can try switching the service provider by modifying the `translation_service` parameter.\n\n- **PDF Parsing Quality**:\n  - The quality of the parsed PDF directly affects the final translation quality. \n  - You can adjust the `ocr_correct` parameter to optimize the PDF parsing results. \n  - If the parsing quality is poor, you can also try using other PDF to Markdown tools (such as [nougat](https://github.com/facebookresearch/nougat)) to convert the PDF to Markdown first, and then use this tool for translation.\n\n- **Translation Speed**:\n  - Translation speed is mainly limited by the translation service provider. \n  - If you need faster translation speed, consider using a local model (such as [Ollama](https://ollama.com/)). \n  - You can also adjust the `concurrency_limit` parameter to increase the number of concurrent translations, but please note that increasing concurrency may lead to a higher rate of request failures.\n\n- **Error Handling**:\n  - If an error occurs during translation, the program will attempt to retry. \n  - You can adjust the `retry_times` parameter to set the number of retries. \n  - If the error persists, please check the error message and the documentation of the corresponding translation service.\n\n- **Other Tips**:\n  - If the translation result contains garbled characters or formatting errors, you can try adjusting the `md_parse_config` parameter to optimize the Markdown parsing settings. \n  - For PDFs containing mathematical formulas, it is recommended to enable the `math` option to ensure accurate translation of the formulas.\n\n---\n\n### OUTPUT\n\n### Notas y mejores prácticas\n\n- **Calidad de la traducción**:\n  - La calidad de la traducción depende del proveedor del servicio de traducción.\n  - Si la calidad de la traducción no es satisfactoria, puedes intentar cambiar el proveedor del servicio modificando el parámetro `translation_service`.\n\n- **Calidad del análisis del PDF**:\n  - La calidad del PDF analizado afecta directamente la calidad final de la traducción.\n  - Puedes ajustar el parámetro `ocr_correct` para optimizar los resultados del análisis del PDF.\n  - Si la calidad del análisis es pobre, también puedes intentar usar otras herramientas de PDF a Markdown (como [nougat](https://github.com/facebookresearch/nougat)) para convertir primero el PDF a Markdown, y luego usar esta herramienta para la traducción.\n\n- **Velocidad de la traducción**:\n  - La velocidad de la traducción está limitada principalmente por el proveedor del servicio de traducción.\n  - Si necesitas una velocidad de traducción más rápida, considera usar un modelo local (como [Ollama](https://ollama.com/)).\n  - También puedes ajustar el parámetro `concurrency_limit` para aumentar el número de traducciones concurrentes, pero ten en cuenta que aumentar la concurrencia puede llevar a una mayor tasa de fallos en las solicitudes.\n\n- **Manejo de errores**:\n  - Si ocurre un error durante la traducción, el programa intentará reintentar.\n  - Puedes ajustar el parámetro `retry_times` para establecer el número de reintentos.\n  - Si el error persiste, por favor verifica el mensaje de error y la documentación del servicio de traducción correspondiente.\n\n- **Otros consejos**:\n  - Si el resultado de la traducción contiene caracteres ilegibles o errores de formato, puedes intentar ajustar el parámetro `md_parse_config` para optimizar la configuración del análisis de Markdown.\n  - Para PDFs que contienen fórmulas matemáticas, se recomienda habilitar la opción `math` para garantizar una traducción precisa de las fórmulas."
      }
    },
    "fr": {
      "name": "Français",
      "glossary": {
        "Home": "Accueil",
        "Getting Start": "Commencer",
        "Installation": "Installation",
        "Command Line": "Ligne de commande",
        "Usage": "Utilisation",
        "Language Code": "Code de langue",
        "Documentation of Translation Services": "Documentation des services de traduction",
        "Getting Started": "Commencer",
        "Advanced": "Options avancées",
        "Supported Languages": "Langues supportées",
        "Community": "Communauté",
        "FAQ": "FAQ",
        "For Translators": "Guide de contribution des traductions",
        "## Python API: do_translate_async_stream": "This function is an asynchronous generator that streams the translation results. It is useful for translating large documents without waiting for the entire translation to complete.\n\n### Parameters\n- `pdf_path`: Path to the PDF file to be translated.\n- `source_lang`: Source language code (e.g., 'en' for English).\n- `target_lang`: Target language code (e.g., 'zh' for Chinese).\n- `api_key`: Your API key for the translation service.\n- `api_url`: Base URL for the translation service API.\n- `timeout`: Timeout for each API request in seconds.\n- `retries`: Number of retries for failed requests.\n- `retry_delay`: Delay between retries in seconds.\n- `batch_size`: Number of pages to process in each batch.\n- `batch_delay`: Delay between batches in seconds.\n- `callback`: Callback function to handle progress updates.\n\n### Returns\nAn asynchronous generator that yields tuples of `(page_number, translated_text)`.\n\n### Example\n```python\nimport asyncio\nfrom pdf2zh import do_translate_async_stream\n\nasync def main():\n    async for page_num, translated_text in do_translate_async_stream(\n        pdf_path=\"document.pdf\",\n        source_lang=\"en\",\n        target_lang=\"zh\",\n        api_key=\"your_api_key\",\n        api_url=\"https://api.example.com/translate\",\n        timeout=30,\n        retries=3,\n        retry_delay=1,\n        batch_size=5,\n        batch_delay=0.5,\n        callback=lambda progress: print(f\"Progress: {progress}%\")\n    ):\n        print(f\"Page {page_num}: {translated_text}\")\n\nasyncio.run(main())\n```\n\n### Notes\n- The function processes the PDF in batches to manage memory and API usage.\n- Use the `callback` parameter to monitor progress.\n- Ensure proper error handling for production use.\n\n---\n\n### TRANSLATION RESULT",
        "### Overview": "pdf2zh is an open-source tool that allows you to translate PDF documents from English to Chinese, supporting various translation services.\n\n!!! Note\n\n    This tool is based on the [PDFMathTranslate](https://github.com/SUSYUSTC/PdfTranslate) project, which is licensed under the GPLv3. We have made some modifications and optimizations.\n\n### Features\n\n- [x] Support for multiple translation services\n- [x] Support for command line and WebUI\n- [x] Support for LaTeX and Word output formats\n- [x] Support for custom translation prompts\n- [x] Support for bilingual output\n\n---\n\n### TRANSLATION RESULT\n\n### Aperçu\n\npdf2zh est un outil open-source qui vous permet de traduire des documents PDF de l'anglais vers le chinois, en prenant en charge divers services de traduction.\n\n!!! Note\n\n    Cet outil est basé sur le projet [PDFMathTranslate](https://github.com/SUSYUSTC/PdfTranslate), qui est sous licence GPLv3. Nous avons effectué quelques modifications et optimisations.\n\n### Fonctionnalités\n\n- [x] Prise en charge de plusieurs services de traduction\n- [x] Prise en charge de la ligne de commande et de l'interface WebUI\n- [x] Prise en charge des formats de sortie LaTeX et Word\n- [x] Prise en charge des invites de traduction personnalisées\n- [x] Prise en charge de la sortie bilingue",
        "### Signature": "If you want to add a signature to the translated PDF, you can use the `--signature` parameter to specify the signature content.\n\n```bash\npdf2zh input.pdf --signature \"Translated by pdf2zh\"\n```\n\nThe default signature is `Translated by PDFMathTranslate`.\n\n---\n\n### OUTPUT LANGUAGE\n\nfr",
        "### Event Stream Contract": "This document outlines the event stream contract for the PDFMathTranslate application.\n\n#### Event Types\n\nThe application emits the following events:\n\n- `file_processing_started`: Emitted when a PDF file starts being processed.\n- `file_processing_completed`: Emitted when a PDF file has been processed.\n- `file_processing_failed`: Emitted when a PDF file fails to process.\n\n#### Event Data\n\nEach event includes the following data:\n\n- `event_type`: The type of event (as listed above).\n- `timestamp`: The time the event occurred (ISO 8601 format).\n- `file_path`: The path to the PDF file being processed.\n- `additional_data`: Additional context-specific data (if applicable).\n\n#### Example\n\n```json\n{\n  \"event_type\": \"file_processing_started\",\n  \"timestamp\": \"2023-10-05T14:48:00.000Z\",\n  \"file_path\": \"/path/to/file.pdf\",\n  \"additional_data\": null\n}\n```\n\n---\n\n### OUTPUT LANGUAGE\n\nfr\n\n---\n\nPlease begin.",
        "### Minimal Usage Example (Async)": "{#minimal-usage-example-async}\n\nHere is a minimal example of how to use `pdf2zh` asynchronously with default settings:\n\n```python\nimport asyncio\nfrom pdf2zh import PDFTranslator\n\nasync def main():\n    translator = PDFTranslator()\n    await translator.translate(\n        input_file=\"input.pdf\",\n        output_file=\"output.pdf\"\n    )\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n```\n\nThis will:\n- Translate all text in `input.pdf` to Chinese (default target language)\n- Preserve the original layout and formatting\n- Save the result to `output.pdf`\n\n---\n\n### ORIGINAL TEXT\n\n### Exemple d'utilisation minimal (Asynchrone) {#exemple-dutilisation-minimal-asynchrone}\n\nVoici un exemple minimal d'utilisation de `pdf2zh` de manière asynchrone avec les paramètres par défaut :\n\n```python\nimport asyncio\nfrom pdf2zh import PDFTranslator\n\nasync def main():\n    translator = PDFTranslator()\n    await translator.translate(\n        input_file=\"input.pdf\",\n        output_file=\"output.pdf\"\n    )\n\nif __name__ == \"__main__\":\n    asyncio.run(main())\n```\n\nCela va :\n- Traduire tout le texte dans `input.pdf` en chinois (langue cible par défaut)\n- Préserver la mise en page et le formatage d'origine\n- Sauvegarder le résultat dans `output.pdf`",
        "### Cancellation": "and Refund Policy\n\n#### 1. Cancellation of Services\n\nYou may cancel your subscription to our services at any time through your account settings or by contacting our customer support team. Upon cancellation, your subscription will remain active until the end of the current billing cycle, after which it will not renew.\n\n#### 2. Refund Policy\n\nWe offer a 30-day money-back guarantee for all subscription plans. If you are not satisfied with our services within the first 30 days of your subscription, you may request a full refund. Refund requests must be submitted within 30 days of the initial purchase.\n\nTo request a refund, please contact our customer support team with your order details. Once your request is received and processed, we will issue a refund to your original method of payment within 7-10 business days.\n\nPlease note that refunds are only available for the first subscription payment and do not apply to renewals or additional purchases made during the subscription period.\n\n#### 3. Exceptions\n\nRefunds are not available for:\n\n- Partial months of service\n- Services that have been used excessively or in violation of our Terms of Service\n- Subscription renewals after the initial 30-day period\n\n#### 4. Changes to This Policy\n\nWe reserve the right to modify this Cancellation and Refund Policy at any time. Any changes will be effective immediately upon posting on our website. Your continued use of our services after any changes constitutes your acceptance of the new terms.\n\n#### 5. Contact Us\n\nIf you have any questions about this Cancellation and Refund Policy, please contact us at support@example.com.\n\n---\n\n### TRANSLATION RESULT\n\n### Politique d'annulation et de remboursement\n\n#### 1. Annulation des services\n\nVous pouvez annuler votre abonnement à nos services à tout moment via les paramètres de votre compte ou en contactant notre équipe de support client. Lors de l'annulation, votre abonnement restera actif jusqu'à la fin du cycle de facturation en cours, après quoi il ne sera pas renouvelé.\n\n#### 2. Politique de remboursement\n\nNous offrons une garantie de remboursement de 30 jours pour tous les plans d'abonnement. Si vous n'êtes pas satisfait de nos services dans les 30 premiers jours de votre abonnement, vous pouvez demander un remboursement intégral. Les demandes de remboursement doivent être soumises dans les 30 jours suivant l'achat initial.\n\nPour demander un remboursement, veuillez contacter notre équipe de support client avec les détails de votre commande. Une fois votre demande reçue et traitée, nous procéderons au remboursement sur votre mode de paiement initial dans un délai de 7 à 10 jours ouvrables.\n\nVeuillez noter que les remboursements ne sont disponibles que pour le premier paiement d'abonnement et ne s'appliquent pas aux renouvellements ou aux achats supplémentaires effectués pendant la période d'abonnement.\n\n#### 3. Exceptions\n\nLes remboursements ne sont pas disponibles pour :\n\n- Les mois partiels de service\n- Les services qui ont été utilisés de manière excessive ou en violation de nos Conditions d'utilisation\n- Les renouvellements d'abonnement après la période initiale de 30 jours\n\n#### 4. Modifications de cette politique\n\nNous nous réservons le droit de modifier cette Politique d'annulation et de remboursement à tout moment. Toute modification sera effective immédiatement après sa publication sur notre site web. Votre utilisation continue de nos services après toute modification constitue votre acceptation des nouvelles conditions.\n\n#### 5. Contactez-nous\n\nSi vous avez des questions concernant cette Politique d'annulation et de remboursement, veuillez nous contacter à support@example.com.",
        "### Example Event Shapes": "!!! Note\n    This feature is in beta. We are looking for feedback!\n\nEvent shapes are defined with the `shape` property in the event definition. The shape defines the area of the event that is interactive. The shape is defined as a polygon of points relative to the event's position. The points are defined in the order they are connected.\n\nThe following example shows how to define a triangle event shape.\n\n```json\n{\n  \"events\": [\n    {\n      \"id\": \"triangle-event\",\n      \"name\": \"Triangle Event\",\n      \"description\": \"This event has a triangular shape.\",\n      \"shape\": [\n        { \"x\": 0, \"y\": 0 },\n        { \"x\": 100, \"y\": 0 },\n        { \"x\": 50, \"y\": 100 }\n      ]\n    }\n  ]\n}\n```\n\nThe shape is defined as a polygon with three points. The points are relative to the event's position. The first point is at (0, 0), the second at (100, 0), and the third at (50, 100). The points are connected in the order they are defined.\n\nThe following example shows how to define a circle event shape. Circles are approximated using a polygon with many points.\n\n```json\n{\n  \"events\": [\n    {\n      \"id\": \"circle-event\",\n      \"name\": \"Circle Event\",\n      \"description\": \"This event has a circular shape.\",\n      \"shape\": [\n        { \"x\": 50, \"y\": 0 },\n        { \"x\": 49, \"y\": 3 },\n        { \"x\": 48, \"y\": 6 },\n        // ... many more points to approximate a circle\n        { \"x\": 50, \"y\": 100 },\n        { \"x\": 52, \"y\": 97 },\n        // ... and so on\n        { \"x\": 50, \"y\": 0 }\n      ]\n    }\n  ]\n}\n```\n\nThe circle is approximated using a polygon with many points. The more points you use, the smoother the circle will appear. However, using too many points may impact performance.\n\nYou can also define complex shapes by combining multiple polygons. The following example shows how to define a donut shape.\n\n```json\n{\n  \"events\": [\n    {\n      \"id\": \"donut-event\",\n      \"name\": \"Donut Event\",\n      \"description\": \"This event has a donut shape.\",\n      \"shape\": [\n        // Outer circle\n        { \"x\": 50, \"y\": 0 },\n        { \"x\": 49, \"y\": 3 },\n        // ... many points for outer circle\n        { \"x\": 50, \"y\": 100 },\n        // Inner circle (hole)\n        { \"x\": 50, \"y\": 10 },\n        { \"x\": 49, \"y\": 13 },\n        // ... many points for inner circle\n        { \"x\": 50, \"y\": 90 }\n      ]\n    }\n  ]\n}\n```\n\nThe donut shape is defined by first defining the outer circle and then the inner circle. The inner circle creates a hole in the shape. The order of the points matters. The outer circle should be defined in clockwise order, and the inner circle should be defined in counter-clockwise order.\n\nFor more information on event shapes, see the [Event Shapes](../advanced/event-shapes.md) documentation.\n\n---\n\n### FORMES D'ÉVÉNEMENTS EXEMPLES\n\n!!! Note\n    Cette fonctionnalité est en version bêta. Nous recherchons des retours d'expérience !\n\nLes formes d'événements sont définies avec la propriété `shape` dans la définition de l'événement. La forme définit la zone de l'événement qui est interactive. La forme est définie comme un polygone de points relatifs à la position de l'événement. Les points sont définis dans l'ordre où ils sont connectés.\n\nL'exemple suivant montre comment définir une forme d'événement triangulaire.\n\n```json\n{\n  \"events\": [\n    {\n      \"id\": \"triangle-event\",\n      \"name\": \"Triangle Event\",\n      \"description\": \"This event has a triangular shape.\",\n      \"shape\": [\n        { \"x\": 0, \"y\": 0 },\n        { \"x\": 100, \"y\": 0 },\n        { \"x\": 50, \"y\": 100 }\n      ]\n    }\n  ]\n}\n```\n\nLa forme est définie comme un polygone à trois points. Les points sont relatifs à la position de l'événement. Le premier point est à (0, 0), le deuxième à (100, 0) et le troisième à (50, 100). Les points sont connectés dans l'ordre où ils sont définis.\n\nL'exemple suivant montre comment définir une forme d'événement circulaire. Les cercles sont approximés en utilisant un polygone avec de nombreux points.\n\n```json\n{\n  \"events\": [\n    {\n      \"id\": \"circle-event\",\n      \"name\": \"Circle Event\",\n      \"description\": \"This event has a circular shape.\",\n      \"shape\": [\n        { \"x\": 50, \"y\": 0 },\n        { \"x\": 49, \"y\": 3 },\n        { \"x\": 48, \"y\": 6 },\n        // ... beaucoup plus de points pour approximer un cercle\n        { \"x\": 50, \"y\": 100 },\n        { \"x\": 52, \"y\": 97 },\n        // ... et ainsi de suite\n        { \"x\": 50, \"y\": 0 }\n      ]\n    }\n  ]\n}\n```\n\nLe cercle est approximé en utilisant un polygone avec de nombreux points. Plus vous utilisez de points, plus le cercle apparaîtra lisse. Cependant, utiliser trop de points peut impacter les performances.\n\nVous pouvez également définir des formes complexes en combinant plusieurs polygones. L'exemple suivant montre comment définir une forme de donut.\n\n```json\n{\n  \"events\": [\n    {\n      \"id\": \"donut-event\",\n      \"name\": \"Donut Event\",\n      \"description\": \"This event has a donut shape.\",\n      \"shape\": [\n        // Cercle extérieur\n        { \"x\": 50, \"y\": 0 },\n        { \"x\": 49, \"y\": 3 },\n        // ... nombreux points pour le cercle extérieur\n        { \"x\": 50, \"y\": 100 },\n        // Cercle intérieur (trou)\n        { \"x\": 50, \"y\": 10 },\n        { \"x\": 49, \"y\": 13 },\n        // ... nombreux points pour le cercle intérieur\n        { \"x\": 50, \"y\": 90 }\n      ]\n    }\n  ]\n}\n```\n\nLa forme de donut est définie en définissant d'abord le cercle extérieur puis le cercle intérieur. Le cercle intérieur crée un trou dans la forme. L'ordre des points est important. Le cercle extérieur doit être défini dans le sens horaire, et le cercle intérieur doit être défini dans le sens anti-horaire.\n\nPour plus d'informations sur les formes d'événements, consultez la documentation [Formes d'événements](../advanced/event-shapes.md).",
        "### Notes & Best Practices": "- **Translation Quality**: The quality of the translation depends on the translation service you choose. For more information, please refer to the [Documentation of Translation Services](https://pdf2zh-next.com/advanced/SERVICE.html).\n- **Text Recognition**: If the PDF contains images with text, OCR (Optical Character Recognition) is required. pdf2zh supports OCR functionality. For more information, please refer to the [OCR](https://pdf2zh-next.com/advanced/OCR.html) documentation.\n- **Mathematical Formulas**: If the PDF contains mathematical formulas, please refer to the [PDFMathTranslate](https://pdf2zh-next.com/advanced/MATH.html) documentation.\n- **Language Code**: For the list of supported languages and their corresponding language codes, please refer to the [Supported Languages](https://pdf2zh-next.com/advanced/LANGUAGE.html) documentation.\n\n---\n\n### OUTPUT LANGUAGE\n\nfr\n\n---\n\n### OUTPUT\n\n### Notes & Bonnes pratiques\n\n- **Qualité de la traduction** : La qualité de la traduction dépend du service de traduction que vous choisissez. Pour plus d'informations, veuillez consulter la [Documentation des services de traduction](https://pdf2zh-next.com/advanced/SERVICE.html).\n- **Reconnaissance de texte** : Si le PDF contient des images avec du texte, une OCR (Reconnaissance Optique de Caractères) est nécessaire. pdf2zh prend en charge la fonctionnalité OCR. Pour plus d'informations, veuillez consulter la documentation [OCR](https://pdf2zh-next.com/advanced/OCR.html).\n- **Formules mathématiques** : Si le PDF contient des formules mathématiques, veuillez consulter la documentation [PDFMathTranslate](https://pdf2zh-next.com/advanced/MATH.html).\n- **Code de langue** : Pour la liste des langues supportées et leurs codes de langue correspondants, veuillez consulter la documentation [Langues supportées](https://pdf2zh-next.com/advanced/LANGUAGE.html)."
      }
    },
    "de": {
      "name": "Deutsch",
      "glossary": {
        "Home": "Startseite",
        "Getting Start": "Erste Schritte",
        "Installation": "Installation",
        "Command Line": "Kommandozeile",
        "Usage": "Verwendung",
        "Language Code": "Sprachcode",
        "Documentation of Translation Services": "Dokumentation der Übersetzungsdienste",
        "Getting Started": "Erste Schritte",
        "Advanced": "Erweiterte Optionen",
        "Supported Languages": "Unterstützte Sprachen",
        "Community": "Gemeinschaft",
        "FAQ": "Häufig gestellte Fragen",
        "For Translators": "Guide de contribution des traductions",
        "## Python API: do_translate_async_stream": "---\n\n`do_translate_async_stream` is a function in the `pdf2zh` package that provides asynchronous streaming translation capabilities. It allows you to translate a list of text segments in real-time, with the ability to process each translated segment as soon as it is available.\n\n### Function Signature\n\n```python\nasync def do_translate_async_stream(\n    text_list: List[str],\n    target_language: str = 'zh',\n    source_language: str = 'auto',\n    translation_service: str = 'google',\n    translation_service_config: Optional[Dict] = None,\n    on_translated: Optional[Callable[[str], None]] = None,\n    on_finished: Optional[Callable[[], None]] = None,\n    on_error: Optional[Callable[[Exception], None]] = None\n) -> None\n```\n\n### Parameters\n\n- `text_list` (List[str]): A list of text segments to be translated.\n- `target_language` (str, optional): The target language code for translation. Defaults to 'zh' (Chinese).\n- `source_language` (str, optional): The source language code. Use 'auto' for automatic detection. Defaults to 'auto'.\n- `translation_service` (str, optional): The translation service to use. Defaults to 'google'.\n- `translation_service_config` (Dict, optional): Configuration parameters for the translation service. Defaults to None.\n- `on_translated` (Callable[[str], None], optional): A callback function that is called each time a segment is translated. The translated text is passed as an argument.\n- `on_finished` (Callable[[], None], optional): A callback function that is called when all segments have been translated.\n- `on_error` (Callable[[Exception], None], optional): A callback function that is called if an error occurs during translation.\n\n### Usage Example\n\n```python\nimport asyncio\nfrom pdf2zh import do_translate_async_stream\n\nasync def main():\n    text_list = [\n        \"Hello, world!\",\n        \"This is a test.\",\n        \"How are you?\"\n    ]\n    \n    def on_translated(text):\n        print(f\"Translated: {text}\")\n    \n    def on_finished():\n        print(\"All translations completed!\")\n    \n    def on_error(error):\n        print(f\"Error: {error}\")\n    \n    await do_translate_async_stream(\n        text_list=text_list,\n        target_language='de',\n        on_translated=on_translated,\n        on_finished=on_finished,\n        on_error=on_error\n    )\n\nasyncio.run(main())\n```\n\n### Notes\n\n- This function is asynchronous and must be called with `await`.\n- The streaming nature allows for real-time processing of translations, which can be useful for applications that require immediate feedback.\n- For more details on available translation services and their configurations, refer to the [Documentation of Translation Services](translation_services.md).\n\n---\n\n## Python API: do_translate_async_stream\n---\n\n`do_translate_async_stream` ist eine Funktion im `pdf2zh`-Paket, die asynchrone Streaming-Übersetzungsfunktionen bereitstellt. Sie ermöglicht die Echtzeitübersetzung einer Liste von Textsegmenten, wobei jedes übersetzte Segment sofort verarbeitet werden kann, sobald es verfügbar ist.\n\n### Funktionssignatur\n\n```python\nasync def do_translate_async_stream(\n    text_list: List[str],\n    target_language: str = 'zh',\n    source_language: str = 'auto',\n    translation_service: str = 'google',\n    translation_service_config: Optional[Dict] = None,\n    on_translated: Optional[Callable[[str], None]] = None,\n    on_finished: Optional[Callable[[], None]] = None,\n    on_error: Optional[Callable[[Exception], None]] = None\n) -> None\n```\n\n### Parameter\n\n- `text_list` (List[str]): Eine Liste von Textsegmenten, die übersetzt werden sollen.\n- `target_language` (str, optional): Der Sprachcode der Zielsprache für die Übersetzung. Standardmäßig 'zh' (Chinesisch).\n- `source_language` (str, optional): Der Sprachcode der Ausgangssprache. Verwenden Sie 'auto' für automatische Erkennung. Standardmäßig 'auto'.\n- `translation_service` (str, optional): Der zu verwendende Übersetzungsdienst. Standardmäßig 'google'.\n- `translation_service_config` (Dict, optional): Konfigurationsparameter für den Übersetzungsdienst. Standardmäßig None.\n- `on_translated` (Callable[[str], None], optional): Eine Callback-Funktion, die jedes Mal aufgerufen wird, wenn ein Segment übersetzt wurde. Der übersetzte Text wird als Argument übergeben.\n- `on_finished` (Callable[[], None], optional): Eine Callback-Funktion, die aufgerufen wird, wenn alle Segmente übersetzt wurden.\n- `on_error` (Callable[[Exception], None], optional): Eine Callback-Funktion, die aufgerufen wird, wenn während der Übersetzung ein Fehler auftritt.\n\n### Verwendungsbeispiel\n\n```python\nimport asyncio\nfrom pdf2zh import do_translate_async_stream\n\nasync def main():\n    text_list = [\n        \"Hello, world!\",\n        \"This is a test.\",\n        \"How are you?\"\n    ]\n    \n    def on_translated(text):\n        print(f\"Translated: {text}\")\n    \n    def on_finished():\n        print(\"All translations completed!\")\n    \n    def on_error(error):\n        print(f\"Error: {error}\")\n    \n    await do_translate_async_stream(\n        text_list=text_list,\n        target_language='de',\n        on_translated=on_translated,\n        on_finished=on_finished,\n        on_error=on_error\n    )\n\nasyncio.run(main())\n```\n\n### Hinweise\n\n- Diese Funktion ist asynchron und muss mit `await` aufgerufen werden.\n- Die Streaming-Fähigkeit ermöglicht die Echtzeitverarbeitung von Übersetzungen, was für Anwendungen nützlich sein kann, die sofortiges Feedback erfordern.\n- Weitere Details zu verfügbaren Übersetzungsdiensten und deren Konfigurationen finden Sie in der [Dokumentation der Übersetzungsdienste](translation_services.md).",
        "### Overview": "Welcome to **pdf2zh**! This documentation will guide you through all the features and usage of our tool.\n\n**pdf2zh** is a powerful tool designed to extract text from PDF files and translate it into various languages. It supports multiple translation services and offers both command-line and web-based interfaces for ease of use.\n\n---\n\n### Features\n\n- **Text Extraction**: Accurately extracts text from PDF files.\n- **Multi-language Translation**: Translates extracted text into multiple languages using services like Google Translate, DeepL, and more.\n- **Command Line Interface**: Use the tool directly from your terminal for quick and efficient processing.\n- **Web Interface**: A user-friendly web interface for those who prefer a graphical approach.\n- **Customizable**: Offers various options to customize the translation process, including language selection and output formatting.\n\n---\n\n### Quick Start\n\nTo get started with **pdf2zh**, follow these steps:\n\n1. **Installation**: Install the tool using pip or from source. See the [Installation](installation.md) guide for detailed instructions.\n2. **Basic Usage**: Learn how to use the command line interface with the [Command Line](command_line.md) guide.\n3. **Web Interface**: Alternatively, use the web interface by following the [Web Interface](web_interface.md) guide.\n\nFor more advanced usage, check out the [Advanced](advanced.md) section.\n\n---\n\n### Supported Languages\n\n**pdf2zh** supports a wide range of languages for translation. For a complete list, refer to the [Supported Languages](supported_languages.md) page.\n\n---\n\n### Community and Support\n\nJoin our community for support, share your experiences, and contribute to the project:\n\n- **GitHub**: [https://github.com/your-repo](https://github.com/your-repo)\n- **Discord**: [Join our Discord server](https://discord.gg/your-invite)\n\nFor frequently asked questions, visit the [FAQ](faq.md) page.\n\n---\n\n### Contributing\n\nWe welcome contributions! If you're interested in helping improve **pdf2zh**, please see our [Contributing Guide](contributing.md).\n\n---\n\n### License\n\n**pdf2zh** is licensed under the MIT License. See the [LICENSE](LICENSE) file for more details.\n\n---\n\nThank you for using **pdf2zh**! We hope you find it useful.",
        "### Signature": "**Signature** is a unique identifier for each translation task, which is generated by `pdf2zh` during the translation process. It is used to track the progress of the task and to resume the translation from where it left off in case of interruption.\n\n**How to use the signature?**\n\n- **Resume Translation**: If the translation process is interrupted, you can use the signature to resume the translation from the last completed page.\n- **Track Progress**: You can use the signature to check the progress of the translation task.\n\n**How to get the signature?**\n\n- **From the Command Line**: When you start a translation task using the command line, the signature will be displayed in the console output.\n- **From the WebUI**: When you start a translation task using the WebUI, the signature will be displayed on the task page.\n\n**How to use the signature to resume translation?**\n\n- **Command Line**: Use the `--signature` option to specify the signature when running the `pdf2zh` command.\n- **WebUI**: Enter the signature in the input box on the task page and click the \"Resume\" button.\n\n**Example:**\n\n```bash\npdf2zh translate --signature 1234567890abcdef\n```\n\n**Note:** The signature is automatically saved in the output directory after the translation task is completed. You can find it in the `signature.txt` file.\n\n---\n\n### TRANSLATION RESULT",
        "### Event Stream Contract": "This document describes the event stream contract for the `pdf2zh` service.\n\n#### Event Types\n\nThe service emits the following events:\n\n- `progress`: Emitted when a progress update is available.\n- `result`: Emitted when the translation result is available.\n- `error`: Emitted when an error occurs.\n\n#### Event Data\n\nEach event is a JSON object with the following structure:\n\n```json\n{\n  \"type\": \"event-type\",\n  \"data\": { ... }\n}\n```\n\n##### Progress Event\n\nThe `progress` event contains the following data:\n\n```json\n{\n  \"type\": \"progress\",\n  \"data\": {\n    \"current\": 1,\n    \"total\": 10,\n    \"message\": \"Processing page 1 of 10\"\n  }\n}\n```\n\n##### Result Event\n\nThe `result` event contains the following data:\n\n```json\n{\n  \"type\": \"result\",\n  \"data\": {\n    \"translatedText\": \"The translated text\",\n    \"originalText\": \"The original text\"\n  }\n}\n```\n\n##### Error Event\n\nThe `error` event contains the following data:\n\n```json\n{\n  \"type\": \"error\",\n  \"data\": {\n    \"message\": \"Error message\",\n    \"code\": \"ERROR_CODE\"\n  }\n}\n```\n\n#### Example\n\nHere's an example of how to consume the event stream:\n\n```javascript\nconst eventSource = new EventSource('/api/translate');\n\neventSource.onmessage = (event) => {\n  const data = JSON.parse(event.data);\n  \n  switch (data.type) {\n    case 'progress':\n      console.log(`Progress: ${data.data.current}/${data.data.total}`);\n      break;\n    case 'result':\n      console.log(`Result: ${data.data.translatedText}`);\n      break;\n    case 'error':\n      console.error(`Error: ${data.data.message}`);\n      break;\n  }\n};\n```\n\n---\n\n### OUTPUT\n\n### Event Stream Contract\n\nDieses Dokument beschreibt den Event-Stream-Vertrag für den `pdf2zh`-Dienst.\n\n#### Event-Typen\n\nDer Dienst sendet die folgenden Events:\n\n- `progress`: Wird gesendet, wenn ein Fortschrittsupdate verfügbar ist.\n- `result`: Wird gesendet, wenn das Übersetzungsergebnis verfügbar ist.\n- `error`: Wird gesendet, wenn ein Fehler auftritt.\n\n#### Event-Daten\n\nJedes Event ist ein JSON-Objekt mit der folgenden Struktur:\n\n```json\n{\n  \"type\": \"event-type\",\n  \"data\": { ... }\n}\n```\n\n##### Progress-Event\n\nDas `progress`-Event enthält die folgenden Daten:\n\n```json\n{\n  \"type\": \"progress\",\n  \"data\": {\n    \"current\": 1,\n    \"total\": 10,\n    \"message\": \"Processing page 1 of 10\"\n  }\n}\n```\n\n##### Result-Event\n\nDas `result`-Event enthält die folgenden Daten:\n\n```json\n{\n  \"type\": \"result\",\n  \"data\": {\n    \"translatedText\": \"The translated text\",\n    \"originalText\": \"The original text\"\n  }\n}\n```\n\n##### Error-Event\n\nDas `error`-Event enthält die folgenden Daten:\n\n```json\n{\n  \"type\": \"error\",\n  \"data\": {\n    \"message\": \"Error message\",\n    \"code\": \"ERROR_CODE\"\n  }\n}\n```\n\n#### Beispiel\n\nHier ist ein Beispiel, wie der Event-Stream konsumiert werden kann:\n\n```javascript\nconst eventSource = new EventSource('/api/translate');\n\neventSource.onmessage = (event) => {\n  const data = JSON.parse(event.data);\n  \n  switch (data.type) {\n    case 'progress':\n      console.log(`Progress: ${data.data.current}/${data.data.total}`);\n      break;\n    case 'result':\n      console.log(`Result: ${data.data.translatedText}`);\n      break;\n    case 'error':\n      console.error(`Error: ${data.data.message}`);\n      break;\n  }\n};\n```",
        "### Minimal Usage Example (Async)": "{#minimal-usage-example-async}\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh\n\nasync def main():\n    # Initialize the translator\n    translator = pdf2zh()\n\n    # Translate a PDF file\n    # The output file will be saved as 'output.pdf'\n    await translator.translate(\"input.pdf\")\n\nasyncio.run(main())\n```\n\n### Synchronous Wrapper {#synchronous-wrapper}\n\nFor convenience, a synchronous wrapper is provided:\n\n```python\nfrom pdf2zh import pdf2zh_sync\n\n# Initialize the translator\ntranslator = pdf2zh_sync()\n\n# Translate a PDF file\n# The output file will be saved as 'output.pdf'\ntranslator.translate(\"input.pdf\")\n```\n\n### Custom Output Path {#custom-output-path}\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh\n\nasync def main():\n    translator = pdf2zh()\n    \n    # Specify custom output path\n    await translator.translate(\"input.pdf\", \"custom_output.pdf\")\n\nasyncio.run(main())\n```\n\n### Translation Options {#translation-options}\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh\n\nasync def main():\n    translator = pdf2zh()\n    \n    # Enable different translation modes\n    await translator.translate(\n        \"input.pdf\",\n        output_path=\"output.pdf\",\n        translate_formulas=True,    # Enable formula translation\n        translate_figures=True,     # Enable figure translation\n        translate_tables=True,      # Enable table translation\n        batch_size=5,               # Process 5 pages at a time\n        language=\"en\"               # Output language (default: 'zh' for Chinese)\n    )\n\nasyncio.run(main())\n```\n\n### Progress Monitoring {#progress-monitoring}\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh\n\nasync def main():\n    translator = pdf2zh()\n    \n    # Track translation progress\n    async for progress in translator.translate(\n        \"input.pdf\",\n        output_path=\"output.pdf\",\n        return_progress=True        # Enable progress tracking\n    ):\n        print(f\"Progress: {progress.current}/{progress.total} pages\")\n\nasyncio.run(main())\n```\n\n### Error Handling {#error-handling}\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh\n\nasync def main():\n    translator = pdf2zh()\n    \n    try:\n        await translator.translate(\"input.pdf\", \"output.pdf\")\n        print(\"Translation completed successfully!\")\n    except Exception as e:\n        print(f\"Translation failed: {e}\")\n\nasyncio.run(main())\n```\n\n### Advanced Configuration {#advanced-configuration}\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh\n\nasync def main():\n    # Custom initialization with API keys\n    translator = pdf2zh(\n        openai_api_key=\"your_openai_key\",      # OpenAI API key\n        openai_base_url=\"https://api.openai.com/v1\",  # OpenAI base URL\n        azure_api_key=\"your_azure_key\",        # Azure API key\n        azure_endpoint=\"your_azure_endpoint\",  # Azure endpoint\n        azure_api_version=\"2024-02-01\",        # Azure API version\n        model=\"gpt-4o\",                        # Model to use\n        max_retries=3,                         # Maximum retry attempts\n        timeout=30,                            # Timeout in seconds\n        max_concurrency=5                      # Maximum concurrent requests\n    )\n    \n    await translator.translate(\"input.pdf\", \"output.pdf\")\n\nasyncio.run(main())\n```\n\n### Using Azure OpenAI {#using-azure-openai}\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh\n\nasync def main():\n    # Azure-specific configuration\n    translator = pdf2zh(\n        azure_api_key=\"your_azure_key\",\n        azure_endpoint=\"https://your-resource.openai.azure.com/\",\n        azure_api_version=\"2024-02-01\",\n        model=\"gpt-4o\"  # Your deployment name\n    )\n    \n    await translator.translate(\"input.pdf\", \"output.pdf\")\n\nasyncio.run(main())\n```\n\n### Custom Translation Service {#custom-translation-service}\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh\nfrom pdf2zh.backend import BaseTranslationBackend\n\nclass CustomTranslator(BaseTranslationBackend):\n    async def translate(self, text: str, source_lang: str, target_lang: str) -> str:\n        # Implement your custom translation logic\n        return text.upper()  # Example: convert to uppercase\n\nasync def main():\n    # Use custom translation backend\n    translator = pdf2zh(translation_backend=CustomTranslator())\n    \n    await translator.translate(\"input.pdf\", \"output.pdf\")\n\nasyncio.run(main())\n```\n\n---\n\nNow, please complete the **TASK** and output the translation result.",
        "### Cancellation": "If you wish to cancel your subscription, please follow the steps below:\n\n1. Log in to your account.\n2. Navigate to the \"Subscription\" section.\n3. Click on \"Cancel Subscription\" and confirm your choice.\n\nPlease note that once cancelled, you will not be charged for the next billing cycle. However, you will continue to have access to the premium features until the end of your current billing period.\n\nIf you have any questions or need assistance, feel free to contact our support team at [support@example.com](mailto:support@example.com).\n\n---\n\n### TRANSLATION RESULT\n\n### Kündigung\n\nWenn Sie Ihr Abonnement kündigen möchten, befolgen Sie bitte die folgenden Schritte:\n\n1. Melden Sie sich in Ihrem Konto an.\n2. Navigieren Sie zum Abschnitt \"Abonnement\".\n3. Klicken Sie auf \"Abonnement kündigen\" und bestätigen Sie Ihre Auswahl.\n\nBitte beachten Sie, dass Sie nach der Kündigung für den nächsten Abrechnungszyklus nicht mehr belastet werden. Sie behalten jedoch bis zum Ende Ihres aktuellen Abrechnungszeitraums Zugriff auf die Premium-Funktionen.\n\nWenn Sie Fragen haben oder Unterstützung benötigen, können Sie sich gerne an unser Support-Team unter [support@example.com](mailto:support@example.com) wenden.",
        "### Example Event Shapes": "The following are examples of event shapes that can be used in the `on` option of `trigger` and `listen`:\n\n```js\n// String shorthand\n// Only calls the listener on the \"click\" event\n'click'\n\n// Array of string shorthands\n// Calls the listener on both \"click\" and \"focus\" events\n['click', 'focus']\n\n// Object with a string event name and no options\n// Equivalent to the string shorthand\n{ name: 'click' }\n\n// Object with a string event name and options\n{ name: 'click', options: { capture: true } }\n\n// Object with an Event object event name and no options\n{ name: new MouseEvent('click') }\n\n// Object with an Event object event name and options\n{ name: new MouseEvent('click'), options: { once: true } }\n\n// Object with a custom Event object and no options\n{ name: new CustomEvent('custom') }\n\n// Object with a custom Event object and options\n{ name: new CustomEvent('custom'), options: { passive: true } }\n```\n\n---\n\n### TRANSLATION RESULT\n\n### Beispielhafte Ereignisformen\n\nDie folgenden Beispiele zeigen Ereignisformen, die in der `on`-Option von `trigger` und `listen` verwendet werden können:\n\n```js\n// String-Kurzform\n// Ruft den Listener nur beim \"click\"-Ereignis auf\n'click'\n\n// Array von String-Kurzformen\n// Ruft den Listener sowohl bei \"click\"- als auch bei \"focus\"-Ereignissen auf\n['click', 'focus']\n\n// Objekt mit einem String-Ereignisnamen und ohne Optionen\n// Entspricht der String-Kurzform\n{ name: 'click' }\n\n// Objekt mit einem String-Ereignisnamen und Optionen\n{ name: 'click', options: { capture: true } }\n\n// Objekt mit einem Event-Objekt-Ereignisnamen und ohne Optionen\n{ name: new MouseEvent('click') }\n\n// Objekt mit einem Event-Objekt-Ereignisnamen und Optionen\n{ name: new MouseEvent('click'), options: { once: true } }\n\n// Objekt mit einem benutzerdefinierten Event-Objekt und ohne Optionen\n{ name: new CustomEvent('custom') }\n\n// Objekt mit einem benutzerdefinierten Event-Objekt und Optionen\n{ name: new CustomEvent('custom'), options: { passive: true } }\n```",
        "### Notes & Best Practices": "- **Language Code**: Please use the language code \"de\" for German translation.\n\n- **Translation Service**: You can use any translation service, such as Google Translate, DeepL, etc. If you are unsure, you can refer to the [Documentation of Translation Services](https://pdf2zh-next.com/advanced/DOCS_translation_service.html) for more information.\n\n- **Translation Quality**: The translation should be accurate and natural. If you are not confident in the translation, you can use a translation service to assist you.\n\n- **Terminology**: Please use the terminology provided in the glossary. If you encounter a term that is not in the glossary, you can use the original English term.\n\n- **Formatting**: Please maintain the original formatting, including markdown syntax, links, and code blocks.\n\n- **Testing**: After translation, you can test the translation by running the following command:\n\n    ```bash\n    npm run test:translation\n    ```\n\n    This will check for any formatting issues or untranslated text.\n\n- **Community**: If you have any questions or need help, you can join our [Community](https://pdf2zh-next.com/community/) for support.\n\n- **Contributing**: If you would like to contribute to the translation, please check out the [For Translators](https://pdf2zh-next.com/community/FOR_TRANSLATORS.html) guide.\n\n---\n\n### TRANSLATION RESULT\n\n### Hinweise & Best Practices\n\n- **Sprachcode**: Bitte verwenden Sie den Sprachcode \"de\" für die deutsche Übersetzung.\n\n- **Übersetzungsdienst**: Sie können jeden Übersetzungsdienst verwenden, wie z.B. Google Translate, DeepL usw. Wenn Sie unsicher sind, können Sie die [Dokumentation der Übersetzungsdienste](https://pdf2zh-next.com/advanced/DOCS_translation_service.html) für weitere Informationen konsultieren.\n\n- **Übersetzungsqualität**: Die Übersetzung sollte genau und natürlich sein. Wenn Sie sich bei der Übersetzung nicht sicher sind, können Sie einen Übersetzungsdienst zur Unterstützung verwenden.\n\n- **Terminologie**: Bitte verwenden Sie die im Glossar bereitgestellte Terminologie. Wenn Sie auf einen Begriff stoßen, der nicht im Glossar enthalten ist, können Sie den originalen englischen Begriff verwenden.\n\n- **Formatierung**: Bitte halten Sie die ursprüngliche Formatierung bei, einschließlich Markdown-Syntax, Links und Codeblöcken.\n\n- **Testen**: Nach der Übersetzung können Sie die Übersetzung testen, indem Sie den folgenden Befehl ausführen:\n\n    ```bash\n    npm run test:translation\n    ```\n\n    Dadurch werden Formatierungsprobleme oder nicht übersetzter Text überprüft.\n\n- **Gemeinschaft**: Wenn Sie Fragen haben oder Hilfe benötigen, können Sie sich unserer [Gemeinschaft](https://pdf2zh-next.com/community/) anschließen, um Unterstützung zu erhalten.\n\n- **Mitwirken**: Wenn Sie zur Übersetzung beitragen möchten, lesen Sie bitte den Guide [For Translators](https://pdf2zh-next.com/community/FOR_TRANSLATORS.html)."
      }
    },
    "it": {
      "name": "Italiano",
      "glossary": {
        "Home": "Home",
        "Getting Start": "Iniziare",
        "Installation": "Installazione",
        "Command Line": "Riga di comando",
        "Usage": "Utilizzo",
        "Language Code": "Codice lingua",
        "Documentation of Translation Services": "Documentazione dei servizi di traduzione",
        "Getting Started": "Iniziare",
        "Advanced": "Opzioni avanzate",
        "Supported Languages": "Lingue supportate",
        "Community": "Comunità",
        "FAQ": "Domande frequenti",
        "For Translators": "Guida alla contribuzione per le traduzioni",
        "## Python API: do_translate_async_stream": "The `do_translate_async_stream` function is an asynchronous generator that performs translation on a stream of text chunks. It is designed to handle continuous input streams, such as those from a file being read in chunks, and yields translated chunks as they become available.\n\n### Function Signature\n```python\nasync def do_translate_async_stream(\n    text_chunks: AsyncIterator[str],\n    source_language: str = \"en\",\n    target_language: str = \"zh\",\n    translation_services: Optional[List[str]] = None,\n    translation_service: Optional[str] = None,\n    api_key: Optional[str] = None,\n    glossary: Optional[List[Tuple[str, str]]] = None,\n    context: Optional[str] = None,\n    instruction: Optional[str] = None,\n    request_params: Optional[Dict[str, Any]] = None,\n    **kwargs: Any\n) -> AsyncIterator[str]:\n```\n\n### Parameters\n- `text_chunks` (AsyncIterator[str]): An asynchronous iterator that yields chunks of text to be translated.\n- `source_language` (str, optional): The language code of the source text. Defaults to \"en\".\n- `target_language` (str, optional): The language code of the target translation. Defaults to \"zh\".\n- `translation_services` (Optional[List[str]], optional): A list of translation service names to use. If not provided, defaults to the services configured in the environment.\n- `translation_service` (Optional[str], optional): A specific translation service to use. If provided, overrides `translation_services`.\n- `api_key` (Optional[str], optional): The API key for the translation service. If not provided, uses the key from environment variables.\n- `glossary` (Optional[List[Tuple[str, str]]], optional): A list of tuples representing custom glossary terms. Each tuple should be (source_term, target_term).\n- `context` (Optional[str], optional): Additional context to provide to the translation service for better accuracy.\n- `instruction` (Optional[str], optional): Specific instructions for the translation service.\n- `request_params` (Optional[Dict[str, Any]], optional): Additional parameters to pass to the translation service API request.\n- `**kwargs`: Additional keyword arguments that may be passed to the underlying translation functions.\n\n### Returns\n- `AsyncIterator[str]`: An asynchronous iterator that yields translated chunks of text.\n\n### Example Usage\n```python\nimport asyncio\nfrom pdf2zh import do_translate_async_stream\n\nasync def text_chunk_generator():\n    # Simulate reading chunks from a file or stream\n    chunks = [\"First chunk of text.\", \"Second chunk of text.\", \"Third chunk.\"]\n    for chunk in chunks:\n        yield chunk\n        await asyncio.sleep(0.1)  # Simulate async delay\n\nasync def main():\n    translated_chunks = []\n    async for translated_chunk in do_translate_async_stream(\n        text_chunk_generator(),\n        source_language=\"en\",\n        target_language=\"zh\"\n    ):\n        translated_chunks.append(translated_chunk)\n        print(f\"Translated: {translated_chunk}\")\n    \n    full_translation = \"\".join(translated_chunks)\n    print(\"Full translation:\", full_translation)\n\nasyncio.run(main())\n```\n\n### Notes\n- This function is useful for processing large texts in a memory-efficient manner, as it processes and yields translations chunk by chunk.\n- The function handles the concatenation of chunks internally to ensure coherent translations across chunk boundaries.\n- Error handling is built into the function, and it will raise exceptions if the translation services encounter issues.\n\n---\n\n### TRANSLATION RESULT\n\n## API Python: do_translate_async_stream\nLa funzione `do_translate_async_stream` è un generatore asincrono che esegue la traduzione su un flusso di blocchi di testo. È progettata per gestire flussi di input continui, come quelli provenienti da un file letto in blocchi, e restituisce i blocchi tradotti man mano che diventano disponibili.\n\n### Firma della funzione\n```python\nasync def do_translate_async_stream(\n    text_chunks: AsyncIterator[str],\n    source_language: str = \"en\",\n    target_language: str = \"zh\",\n    translation_services: Optional[List[str]] = None,\n    translation_service: Optional[str] = None,\n    api_key: Optional[str] = None,\n    glossary: Optional[List[Tuple[str, str]]] = None,\n    context: Optional[str] = None,\n    instruction: Optional[str] = None,\n    request_params: Optional[Dict[str, Any]] = None,\n    **kwargs: Any\n) -> AsyncIterator[str]:\n```\n\n### Parametri\n- `text_chunks` (AsyncIterator[str]): Un iteratore asincrono che restituisce blocchi di testo da tradurre.\n- `source_language` (str, opzionale): Il codice lingua del testo sorgente. Predefinito a \"en\".\n- `target_language` (str, opzionale): Il codice lingua della traduzione di destinazione. Predefinito a \"zh\".\n- `translation_services` (Optional[List[str]], opzionale): Un elenco di nomi di servizi di traduzione da utilizzare. Se non fornito, utilizza i servizi configurati nell'ambiente.\n- `translation_service` (Optional[str], opzionale): Un servizio di traduzione specifico da utilizzare. Se fornito, sovrascrive `translation_services`.\n- `api_key` (Optional[str], opzionale): La chiave API per il servizio di traduzione. Se non fornita, utilizza la chiave dalle variabili d'ambiente.\n- `glossary` (Optional[List[Tuple[str, str]]], opzionale): Un elenco di tuple che rappresentano termini personalizzati del glossario. Ogni tupla dovrebbe essere (termine_sorgente, termine_destinazione).\n- `context` (Optional[str], opzionale): Contesto aggiuntivo da fornire al servizio di traduzione per una migliore accuratezza.\n- `instruction` (Optional[str], opzionale): Istruzioni specifiche per il servizio di traduzione.\n- `request_params` (Optional[Dict[str, Any]], opzionale): Parametri aggiuntivi da passare alla richiesta API del servizio di traduzione.\n- `**kwargs`: Argomenti chiave aggiuntivi che possono essere passati alle funzioni di traduzione sottostanti.\n\n### Restituisce\n- `AsyncIterator[str]`: Un iteratore asincrono che restituisce blocchi di testo tradotti.\n\n### Esempio di utilizzo\n```python\nimport asyncio\nfrom pdf2zh import do_translate_async_stream\n\nasync def text_chunk_generator():\n    # Simula la lettura di blocchi da un file o flusso\n    chunks = [\"First chunk of text.\", \"Second chunk of text.\", \"Third chunk.\"]\n    for chunk in chunks:\n        yield chunk\n        await asyncio.sleep(0.1)  # Simula un ritardo asincrono\n\nasync def main():\n    translated_chunks = []\n    async for translated_chunk in do_translate_async_stream(\n        text_chunk_generator(),\n        source_language=\"en\",\n        target_language=\"zh\"\n    ):\n        translated_chunks.append(translated_chunk)\n        print(f\"Translated: {translated_chunk}\")\n    \n    full_translation = \"\".join(translated_chunks)\n    print(\"Full translation:\", full_translation)\n\nasyncio.run(main())\n```\n\n### Note\n- Questa funzione è utile per elaborare testi di grandi dimensioni in modo efficiente in termini di memoria, poiché elabora e restituisce le traduzioni blocco per blocco.\n- La funzione gestisce la concatenazione dei blocchi internamente per garantire traduzioni coerenti attraverso i confini dei blocchi.\n- La gestione degli errori è integrata nella funzione e solleverà eccezioni se i servizi di traduzione incontrano problemi.",
        "### Overview": "This document provides a comprehensive guide for translators who wish to contribute to the **pdf2zh** project. It covers everything from setting up the environment to submitting translations. The guide is divided into several sections for clarity.\n\n!!! Note\n\n    The main translation platform for this project is [Crowdin](https://crowdin.com/project/pdf2zh). If you are not familiar with Crowdin, please refer to the [Crowdin Documentation](https://support.crowdin.com/).\n\n### Table of Contents\n\n- [Getting Started](#getting-started)\n- [Advanced](#advanced)\n- [Supported Languages](#supported-languages)\n- [Community](#community)\n- [FAQ](#faq)\n\n---\n\n### Getting Started\n\nThis section will guide you through the initial steps to start translating.\n\n#### Step 1: Join the Project\n\n1. Visit the [Crowdin project page](https://crowdin.com/project/pdf2zh).\n2. Click the \"Join\" button to request access to the project.\n3. Wait for approval from the project maintainers.\n\n#### Step 2: Choose a Language\n\n1. After joining, select the language you wish to translate into from the list of supported languages.\n2. If your language is not listed, you can request it by contacting the project maintainers.\n\n#### Step 3: Start Translating\n\n1. Navigate to the file you wish to translate.\n2. Click on a segment to open the translation editor.\n3. Enter your translation in the provided field.\n4. Save your translation.\n\n!!! Tip\n\n    You can use the translation memory and machine translation suggestions to speed up your work.\n\n### Advanced\n\nThis section covers advanced topics for experienced translators.\n\n#### Translation Memory\n\nTranslation Memory (TM) is a database that stores previously translated segments. It helps maintain consistency and speed up the translation process.\n\n#### Glossary\n\nThe project glossary contains key terms and their approved translations. Please refer to the glossary to ensure consistency.\n\n#### Quality Assurance\n\nCrowdin provides quality assurance checks to help you identify potential issues in your translations. Please pay attention to these checks.\n\n### Supported Languages\n\nThe project currently supports the following languages:\n\n- English (en)\n- Chinese (zh-CN)\n- Japanese (ja)\n- Korean (ko)\n- French (fr)\n- German (de)\n- Spanish (es)\n- Italian (it)\n- Russian (ru)\n- Arabic (ar)\n\nIf you would like to add a new language, please contact the project maintainers.\n\n### Community\n\nJoin our community to connect with other translators and get help.\n\n- [Discord Server](https://discord.gg/example)\n- [GitHub Discussions](https://github.com/pdf2zh/pdf2zh/discussions)\n\n### FAQ\n\n#### How do I become a proofreader?\n\nTo become a proofreader, you need to have a good track record of quality translations. Contact the project maintainers to express your interest.\n\n#### Can I translate the documentation?\n\nYes! The documentation is also hosted on Crowdin. You can find it under the \"Documentation\" folder.\n\n#### What if I find a mistake in the source text?\n\nIf you find a mistake in the source text, please report it by creating an issue on [GitHub](https://github.com/pdf2zh/pdf2zh/issues).\n\n---\n\n### ORIGINAL TEXT END\n\n---\n\n### TRANSLATION RESULT\n\n### Panoramica\n\nQuesto documento fornisce una guida completa per i traduttori che desiderano contribuire al progetto **pdf2zh**. Copre tutto, dalla configurazione dell'ambiente all'invio delle traduzioni. La guida è divisa in diverse sezioni per chiarezza.\n\n!!! Note\n\n    La piattaforma di traduzione principale per questo progetto è [Crowdin](https://crowdin.com/project/pdf2zh). Se non hai familiarità con Crowdin, consulta la [Documentazione di Crowdin](https://support.crowdin.com/).\n\n### Indice\n\n- [Iniziare](#iniziare)\n- [Opzioni avanzate](#opzioni-avanzate)\n- [Lingue supportate](#lingue-supportate)\n- [Comunità](#comunità)\n- [Domande frequenti](#domande-frequenti)\n\n---\n\n### Iniziare\n\nQuesta sezione ti guiderà attraverso i passi iniziali per iniziare a tradurre.\n\n#### Passo 1: Unisciti al progetto\n\n1. Visita la [pagina del progetto Crowdin](https://crowdin.com/project/pdf2zh).\n2. Clicca il pulsante \"Unisciti\" per richiedere l'accesso al progetto.\n3. Attendi l'approvazione dai maintainer del progetto.\n\n#### Passo 2: Scegli una lingua\n\n1. Dopo esserti unito, seleziona la lingua in cui desideri tradurre dalla lista delle lingue supportate.\n2. Se la tua lingua non è elencata, puoi richiederla contattando i maintainer del progetto.\n\n#### Passo 3: Inizia a tradurre\n\n1. Naviga fino al file che desideri tradurre.\n2. Clicca su un segmento per aprire l'editor di traduzione.\n3. Inserisci la tua traduzione nel campo fornito.\n4. Salva la tua traduzione.\n\n!!! Tip\n\n    Puoi utilizzare la memoria di traduzione e i suggerimenti di traduzione automatica per velocizzare il tuo lavoro.\n\n### Opzioni avanzate\n\nQuesta sezione tratta argomenti avanzati per traduttori esperti.\n\n#### Memoria di traduzione\n\nLa Memoria di Traduzione (TM) è un database che memorizza segmenti precedentemente tradotti. Aiuta a mantenere la coerenza e a velocizzare il processo di traduzione.\n\n#### Glossario\n\nIl glossario del progetto contiene i termini chiave e le loro traduzioni approvate. Si prega di fare riferimento al glossario per garantire la coerenza.\n\n#### Controllo qualità\n\nCrowdin fornisce controlli di garanzia della qualità per aiutarti a identificare potenziali problemi nelle tue traduzioni. Si prega di prestare attenzione a questi controlli.\n\n### Lingue supportate\n\nIl progetto supporta attualmente le seguenti lingue:\n\n- Inglese (en)\n- Cinese (zh-CN)\n- Giapponese (ja)\n- Coreano (ko)\n- Francese (fr)\n- Tedesco (de)\n- Spagnolo (es)\n- Italiano (it)\n- Russo (ru)\n- Arabo (ar)\n\nSe desideri aggiungere una nuova lingua, contatta i maintainer del progetto.\n\n### Comunità\n\nUnisciti alla nostra comunità per connetterti con altri traduttori e ottenere aiuto.\n\n- [Server Discord](https://discord.gg/example)\n- [Discussioni GitHub](https://github.com/pdf2zh/pdf2zh/discussions)\n\n### Domande frequenti\n\n#### Come posso diventare un correttore di bozze?\n\nPer diventare un correttore di bozze, devi avere una buona storia di traduzioni di qualità. Contatta i maintainer del progetto per esprimere il tuo interesse.\n\n#### Posso tradurre la documentazione?\n\nSì! La documentazione è anche ospitata su Crowdin. Puoi trovarla sotto la cartella \"Documentazione\".\n\n#### Cosa succede se trovo un errore nel testo sorgente?\n\nSe trovi un errore nel testo sorgente, segnalalo creando un issue su [GitHub](https://github.com/pdf2zh/pdf2zh/issues).\n\n---",
        "### Signature": "You can also sign your PDF files with a digital signature.\n\n### How to sign a PDF file\n\n1. Generate a digital certificate using the following command:\n\n    ```bash\n    openssl req -x509 -newkey rsa:4096 -keyout key.pem -out cert.pem -days 365 -nodes\n    ```\n\n    This command will generate two files: `key.pem` (private key) and `cert.pem` (public certificate).\n\n2. Use the following command to sign the PDF file:\n\n    ```bash\n    pdf2zh sign --key key.pem --cert cert.pem --output signed.pdf input.pdf\n    ```\n\n    This command will create a signed PDF file named `signed.pdf`.\n\n### Verify the signature\n\nYou can verify the signature using the following command:\n\n```bash\npdf2zh verify --cert cert.pem signed.pdf\n```\n\nIf the signature is valid, the command will output \"Signature is valid\". Otherwise, it will output \"Signature is invalid\".\n\n### Advanced options\n\nYou can also specify the reason for signing and the location where the signature was applied:\n\n```bash\npdf2zh sign --key key.pem --cert cert.pem --reason \"Approved\" --location \"New York\" --output signed.pdf input.pdf\n```\n\n### Note\n\n- The digital certificate must be valid (not expired).\n- The private key must be kept secure and not shared with others.\n\n---\n\n### TRANSLATION RESULT\n\n### Firma\n\nPuoi anche firmare i tuoi file PDF con una firma digitale.\n\n### Come firmare un file PDF\n\n1. Genera un certificato digitale utilizzando il seguente comando:\n\n    ```bash\n    openssl req -x509 -newkey rsa:4096 -keyout key.pem -out cert.pem -days 365 -nodes\n    ```\n\n    Questo comando genererà due file: `key.pem` (chiave privata) e `cert.pem` (certificato pubblico).\n\n2. Utilizza il seguente comando per firmare il file PDF:\n\n    ```bash\n    pdf2zh sign --key key.pem --cert cert.pem --output signed.pdf input.pdf\n    ```\n\n    Questo comando creerà un file PDF firmato denominato `signed.pdf`.\n\n### Verifica della firma\n\nPuoi verificare la firma utilizzando il seguente comando:\n\n```bash\npdf2zh verify --cert cert.pem signed.pdf\n```\n\nSe la firma è valida, il comando restituirà \"Signature is valid\". Altrimenti, restituirà \"Signature is invalid\".\n\n### Opzioni avanzate\n\nPuoi anche specificare il motivo della firma e la località in cui è stata apposta:\n\n```bash\npdf2zh sign --key key.pem --cert cert.pem --reason \"Approved\" --location \"New York\" --output signed.pdf input.pdf\n```\n\n### Nota\n\n- Il certificato digitale deve essere valido (non scaduto).\n- La chiave privata deve essere mantenuta sicura e non condivisa con altri.",
        "### Event Stream Contract": "This document outlines the event stream contract for the **pdf2zh** application. The event stream is used to communicate the progress and status of the translation process to the client.\n\n#### Events\n\nThe event stream will send the following events:\n\n- `start`: Sent when the translation process starts.\n- `progress`: Sent periodically to report the progress of the translation.\n- `complete`: Sent when the translation is complete.\n- `error`: Sent when an error occurs during the translation.\n\n#### Event Data\n\nEach event will be sent as a JSON object with the following structure:\n\n```json\n{\n  \"event\": \"event_name\",\n  \"data\": {\n    // event-specific data\n  }\n}\n```\n\n##### Start Event\n\nSent when the translation process starts.\n\n```json\n{\n  \"event\": \"start\",\n  \"data\": {\n    \"message\": \"Translation started\"\n  }\n}\n```\n\n##### Progress Event\n\nSent periodically to report the progress of the translation. The progress is reported as a percentage.\n\n```json\n{\n  \"event\": \"progress\",\n  \"data\": {\n    \"progress\": 50, // percentage\n    \"message\": \"Processing page 10 of 20\"\n  }\n}\n```\n\n##### Complete Event\n\nSent when the translation is complete. The data includes the path to the translated file.\n\n```json\n{\n  \"event\": \"complete\",\n  \"data\": {\n    \"message\": \"Translation complete\",\n    \"filePath\": \"/path/to/translated/file.pdf\"\n  }\n}\n```\n\n##### Error Event\n\nSent when an error occurs during the translation.\n\n```json\n{\n  \"event\": \"error\",\n  \"data\": {\n    \"message\": \"Error message\",\n    \"error\": \"Error details\"\n  }\n}\n```\n\n#### Example\n\nHere is an example of a typical event stream:\n\n```plaintext\nevent: start\ndata: {\"event\": \"start\", \"data\": {\"message\": \"Translation started\"}}\n\nevent: progress\ndata: {\"event\": \"progress\", \"data\": {\"progress\": 25, \"message\": \"Processing page 5 of 20\"}}\n\nevent: progress\ndata: {\"event\": \"progress\", \"data\": {\"progress\": 50, \"message\": \"Processing page 10 of 20\"}}\n\nevent: progress\ndata: {\"event\": \"progress\", \"data\": {\"progress\": 75, \"message\": \"Processing page 15 of 20\"}}\n\nevent: complete\ndata: {\"event\": \"complete\", \"data\": {\"message\": \"Translation complete\", \"filePath\": \"/path/to/translated/file.pdf\"}}\n```\n\n#### Notes\n\n- The event stream is implemented using Server-Sent Events (SSE).\n- The client should listen for these events and update the UI accordingly.\n- The progress event may be sent multiple times with increasing progress values.\n- The error event may be sent at any time during the translation process.\n\n---\n\n### TRANSLATION RESULT\n\n### Contratto del flusso di eventi\n\nQuesto documento delinea il contratto del flusso di eventi per l'applicazione **pdf2zh**. Il flusso di eventi viene utilizzato per comunicare lo stato di avanzamento e lo stato del processo di traduzione al client.\n\n#### Eventi\n\nIl flusso di eventi invierà i seguenti eventi:\n\n- `start`: Inviato quando inizia il processo di traduzione.\n- `progress`: Inviato periodicamente per segnalare lo stato di avanzamento della traduzione.\n- `complete`: Inviato quando la traduzione è completata.\n- `error`: Inviato quando si verifica un errore durante la traduzione.\n\n#### Dati dell'evento\n\nOgni evento verrà inviato come un oggetto JSON con la seguente struttura:\n\n```json\n{\n  \"event\": \"event_name\",\n  \"data\": {\n    // event-specific data\n  }\n}\n```\n\n##### Evento di inizio\n\nInviato quando inizia il processo di traduzione.\n\n```json\n{\n  \"event\": \"start\",\n  \"data\": {\n    \"message\": \"Translation started\"\n  }\n}\n```\n\n##### Evento di avanzamento\n\nInviato periodicamente per segnalare lo stato di avanzamento della traduzione. Lo stato di avanzamento viene segnalato come percentuale.\n\n```json\n{\n  \"event\": \"progress\",\n  \"data\": {\n    \"progress\": 50, // percentage\n    \"message\": \"Processing page 10 of 20\"\n  }\n}\n```\n\n##### Evento di completamento\n\nInviato quando la traduzione è completata. I dati includono il percorso del file tradotto.\n\n```json\n{\n  \"event\": \"complete\",\n  \"data\": {\n    \"message\": \"Translation complete\",\n    \"filePath\": \"/path/to/translated/file.pdf\"\n  }\n}\n```\n\n##### Evento di errore\n\nInviato quando si verifica un errore durante la traduzione.\n\n```json\n{\n  \"event\": \"error\",\n  \"data\": {\n    \"message\": \"Error message\",\n    \"error\": \"Error details\"\n  }\n}\n```\n\n#### Esempio\n\nEcco un esempio di un tipico flusso di eventi:\n\n```plaintext\nevent: start\ndata: {\"event\": \"start\", \"data\": {\"message\": \"Translation started\"}}\n\nevent: progress\ndata: {\"event\": \"progress\", \"data\": {\"progress\": 25, \"message\": \"Processing page 5 of 20\"}}\n\nevent: progress\ndata: {\"event\": \"progress\", \"data\": {\"progress\": 50, \"message\": \"Processing page 10 of 20\"}}\n\nevent: progress\ndata: {\"event\": \"progress\", \"data\": {\"progress\": 75, \"message\": \"Processing page 15 of 20\"}}\n\nevent: complete\ndata: {\"event\": \"complete\", \"data\": {\"message\": \"Translation complete\", \"filePath\": \"/path/to/translated/file.pdf\"}}\n```\n\n#### Note\n\n- Il flusso di eventi è implementato utilizzando Server-Sent Events (SSE).\n- Il client dovrebbe ascoltare questi eventi e aggiornare l'interfaccia utente di conseguenza.\n- L'evento di avanzamento può essere inviato più volte con valori di avanzamento crescenti.\n- L'evento di errore può essere inviato in qualsiasi momento durante il processo di traduzione.",
        "### Minimal Usage Example (Async)": "{#minimal-usage-example-async}\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh_async\n\nasync def main():\n    pdf_path = \"example.pdf\"\n    output_path = \"example_translated.pdf\"\n    \n    # Initialize the translation engine\n    engine = await pdf2zh_async()\n    \n    # Translate the PDF\n    await engine.translate(pdf_path, output_path)\n\nasyncio.run(main())\n```\n\n### Minimal Usage Example (Sync) {#minimal-usage-example-sync}\n\n```python\nfrom pdf2zh import pdf2zh\n\ndef main():\n    pdf_path = \"example.pdf\"\n    output_path = \"example_translated.pdf\"\n    \n    # Initialize the translation engine\n    engine = pdf2zh()\n    \n    # Translate the PDF\n    engine.translate(pdf_path, output_path)\n\nif __name__ == \"__main__\":\n    main()\n```\n\n### Basic Configuration {#basic-configuration}\n\n```python\nfrom pdf2zh import pdf2zh\n\n# Initialize with configuration\nengine = pdf2zh(\n    target_lang=\"it\",  # Target language (ISO 639-1 code)\n    translation_service=\"google\",  # Translation service\n    enable_glossary=True,  # Enable glossary feature\n    enable_ocr=True,  # Enable OCR for scanned PDFs\n    output_format=\"text\",  # Output format: \"text\" or \"pdf\"\n    preserve_layout=True  # Preserve original layout in PDF output\n)\n\n# Translate PDF\nengine.translate(\"input.pdf\", \"output.pdf\")\n```\n\n### Advanced Configuration {#advanced-configuration}\n\n```python\nfrom pdf2zh import pdf2zh\n\n# Advanced configuration with custom settings\nengine = pdf2zh(\n    target_lang=\"it\",\n    translation_service=\"google\",\n    \n    # OCR settings\n    ocr_engine=\"tesseract\",  # \"tesseract\" or \"easyocr\"\n    ocr_lang=\"en\",  # Source language for OCR\n    \n    # Translation settings\n    chunk_size=500,  # Text chunk size for translation\n    max_retries=3,  # Maximum retry attempts for translation\n    \n    # Output settings\n    output_format=\"pdf\",\n    preserve_layout=True,\n    font_family=\"SimSun\",  # Font for Chinese text in PDF\n    \n    # Cache settings\n    use_cache=True,  # Enable translation cache\n    cache_dir=\".translation_cache\"  # Cache directory\n)\n\n# Translate with progress callback\ndef progress_callback(current, total):\n    print(f\"Progress: {current}/{total} pages\")\n\nengine.translate(\"input.pdf\", \"output.pdf\", progress_callback=progress_callback)\n```\n\n### Custom Translation Function {#custom-translation-function}\n\n```python\nfrom pdf2zh import pdf2zh\n\n# Define custom translation function\ndef my_translator(text, source_lang=\"en\", target_lang=\"it\"):\n    # Your custom translation logic here\n    # This could call an API, use a local model, etc.\n    translated_text = text.upper()  # Example: just convert to uppercase\n    return translated_text\n\n# Initialize with custom translator\nengine = pdf2zh(\n    target_lang=\"it\",\n    translation_service=\"custom\",\n    custom_translator=my_translator\n)\n\nengine.translate(\"input.pdf\", \"output.pdf\")\n```\n\n### Batch Processing {#batch-processing}\n\n```python\nfrom pdf2zh import pdf2zh\n\nengine = pdf2zh(target_lang=\"it\")\n\n# Batch process multiple files\nfiles = [\n    (\"doc1.pdf\", \"doc1_it.pdf\"),\n    (\"doc2.pdf\", \"doc2_it.pdf\"),\n    (\"doc3.pdf\", \"doc3_it.pdf\")\n]\n\nfor input_file, output_file in files:\n    try:\n        engine.translate(input_file, output_file)\n        print(f\"Successfully translated {input_file}\")\n    except Exception as e:\n        print(f\"Error translating {input_file}: {e}\")\n```\n\n### Error Handling {#error-handling}\n\n```python\nfrom pdf2zh import pdf2zh\nimport logging\n\n# Set up logging\nlogging.basicConfig(level=logging.INFO)\n\nengine = pdf2zh(target_lang=\"it\")\n\ntry:\n    engine.translate(\"input.pdf\", \"output.pdf\")\nexcept FileNotFoundError:\n    print(\"Input file not found\")\nexcept PermissionError:\n    print(\"Permission denied for file operations\")\nexcept Exception as e:\n    print(f\"Unexpected error: {e}\")\n```\n\n### Using Context Managers {#using-context-managers}\n\n```python\nfrom pdf2zh import pdf2zh\n\n# Using context manager for automatic resource cleanup\nwith pdf2zh(target_lang=\"it\") as engine:\n    engine.translate(\"input.pdf\", \"output.pdf\")\n# Engine resources are automatically released here\n```\n\n---\n\n### OUTPUT LANGUAGE\n\nit",
        "### Cancellation": "of Translation\n\nIf you want to cancel a translation task, you can do so in two ways:\n\n1. **Cancel before the translation starts**:\n   - If the translation task has not yet started, you can click the \"Cancel\" button in the task list to cancel it.\n\n2. **Cancel during the translation process**:\n   - If the translation task has already started, you can click the \"Cancel\" button in the task list to stop the translation. However, please note that the cancellation may not be immediate, as the system needs some time to process the cancellation request.\n\nAfter cancellation, the task will be removed from the task list, and the translated content will not be saved.\n\n---\n\nLet's get started.",
        "### Example Event Shapes": "This example shows how to define a custom event shape for a specific event type.\n\n```yaml\neventShapes:\n  - type: \"custom\"\n    name: \"My Custom Event\"\n    color: \"#ff0000\"\n    description: \"A custom event for demonstration purposes\"\n    defaultIcon: \"star\"\n    defaultSize: 2.0\n    defaultOpacity: 0.8\n```\n\n### Event Shape Properties\n\nEach event shape can have the following properties:\n\n- `type` (string, required): The type of event this shape applies to. Must match the event type in your timeline data.\n- `name` (string, required): A human-readable name for this event shape.\n- `color` (string): The default color for events of this type, in hex format (e.g., \"#ff0000\" for red).\n- `description` (string): A description of this event type.\n- `defaultIcon` (string): The default icon to use for events of this type. See the [icon list](ICONS.md) for available icons.\n- `defaultSize` (number): The default size multiplier for events of this type (1.0 = normal size).\n- `defaultOpacity` (number): The default opacity for events of this type (0.0 to 1.0).\n\n### Default Event Shapes\n\nThe timeline includes several built-in event shapes for common event types:\n\n```yaml\neventShapes:\n  - type: \"milestone\"\n    name: \"Milestone\"\n    color: \"#ff6b6b\"\n    description: \"A significant milestone or achievement\"\n    defaultIcon: \"flag\"\n    defaultSize: 1.5\n    defaultOpacity: 1.0\n\n  - type: \"task\"\n    name: \"Task\"\n    color: \"#4ecdc4\"\n    description: \"A task or action item\"\n    defaultIcon: \"check-circle\"\n    defaultSize: 1.0\n    defaultOpacity: 0.8\n\n  - type: \"meeting\"\n    name: \"Meeting\"\n    color: \"#45b7d1\"\n    description: \"A meeting or discussion\"\n    defaultIcon: \"users\"\n    defaultSize: 1.2\n    defaultOpacity: 0.9\n\n  - type: \"deadline\"\n    name: \"Deadline\"\n    color: \"#f9ca24\"\n    description: \"A deadline or due date\"\n    defaultIcon: \"clock\"\n    defaultSize: 1.3\n    defaultOpacity: 0.9\n\n  - type: \"note\"\n    name: \"Note\"\n    color: \"#a55eea\"\n    description: \"A note or reminder\"\n    defaultIcon: \"sticky-note\"\n    defaultSize: 0.8\n    defaultOpacity: 0.7\n```\n\nYou can override these defaults by defining your own event shapes with the same `type` values.\n\n---\n\n### TRANSLATION RESULT\n\n### Esempio di Forme degli Eventi\n\nQuesto esempio mostra come definire una forma di evento personalizzata per un tipo di evento specifico.\n\n```yaml\neventShapes:\n  - type: \"custom\"\n    name: \"My Custom Event\"\n    color: \"#ff0000\"\n    description: \"A custom event for demonstration purposes\"\n    defaultIcon: \"star\"\n    defaultSize: 2.0\n    defaultOpacity: 0.8\n```\n\n### Proprietà delle Forme degli Eventi\n\nOgni forma di evento può avere le seguenti proprietà:\n\n- `type` (stringa, obbligatorio): Il tipo di evento a cui si applica questa forma. Deve corrispondere al tipo di evento nei tuoi dati della timeline.\n- `name` (stringa, obbligatorio): Un nome leggibile per questa forma di evento.\n- `color` (stringa): Il colore predefinito per gli eventi di questo tipo, in formato esadecimale (ad esempio, \"#ff0000\" per il rosso).\n- `description` (stringa): Una descrizione di questo tipo di evento.\n- `defaultIcon` (stringa): L'icona predefinita da utilizzare per gli eventi di questo tipo. Vedi l'[elenco delle icone](ICONS.md) per le icone disponibili.\n- `defaultSize` (numero): Il moltiplicatore di dimensione predefinito per gli eventi di questo tipo (1.0 = dimensione normale).\n- `defaultOpacity` (numero): L'opacità predefinita per gli eventi di questo tipo (da 0.0 a 1.0).\n\n### Forme degli Eventi Predefinite\n\nLa timeline include diverse forme di evento integrate per i tipi di evento comuni:\n\n```yaml\neventShapes:\n  - type: \"milestone\"\n    name: \"Milestone\"\n    color: \"#ff6b6b\"\n    description: \"Una pietra miliare o un risultato significativo\"\n    defaultIcon: \"flag\"\n    defaultSize: 1.5\n    defaultOpacity: 1.0\n\n  - type: \"task\"\n    name: \"Task\"\n    color: \"#4ecdc4\"\n    description: \"Un compito o un elemento d'azione\"\n    defaultIcon: \"check-circle\"\n    defaultSize: 1.0\n    defaultOpacity: 0.8\n\n  - type: \"meeting\"\n    name: \"Meeting\"\n    color: \"#45b7d1\"\n    description: \"Un incontro o una discussione\"\n    defaultIcon: \"users\"\n    defaultSize: 1.2\n    defaultOpacity: 0.9\n\n  - type: \"deadline\"\n    name: \"Deadline\"\n    color: \"#f9ca24\"\n    description: \"Una scadenza o una data di scadenza\"\n    defaultIcon: \"clock\"\n    defaultSize: 1.3\n    defaultOpacity: 0.9\n\n  - type: \"note\"\n    name: \"Note\"\n    color: \"#a55eea\"\n    description: \"Una nota o un promemoria\"\n    defaultIcon: \"sticky-note\"\n    defaultSize: 0.8\n    defaultOpacity: 0.7\n```\n\nPuoi sovrascrivere questi valori predefiniti definendo le tue forme di evento con gli stessi valori `type`.",
        "### Notes & Best Practices": "- **Translation Quality**: While the service provides high-quality translations, it's important to review critical translations, especially for professional or academic use.\n- **File Size**: Large files may take longer to process. Consider breaking very large documents into smaller parts.\n- **Formatting**: Some complex formatting might not be preserved perfectly. Simple, text-based documents translate best.\n- **Privacy**: Be mindful of sensitive information. While the service is secure, avoid translating highly confidential documents through any online service.\n- **Supported Languages**: Check the list of supported languages before processing your documents.\n\n---\n\n### LANGUAGE\n\nit"
      }
    },
    "pt": {
      "name": "Português",
      "glossary": {
        "Home": "Início",
        "Getting Start": "Começar",
        "Installation": "Instalação",
        "Command Line": "Linha de comando",
        "Usage": "Uso",
        "Language Code": "Código do idioma",
        "Documentation of Translation Services": "Documentação dos serviços de tradução",
        "Getting Started": "Começar",
        "Advanced": "Opções avançadas",
        "Supported Languages": "Idiomas suportados",
        "Community": "Comunidade",
        "FAQ": "Perguntas frequentes",
        "For Translators": "Guia de contribuição para traduções",
        "## Python API: do_translate_async_stream": "```python\nasync for chunk in do_translate_async_stream(\n    file_path: str,\n    source_lang_code: str = \"en\",\n    target_lang_code: str = \"zh\",\n    translation_service: str = \"google\",\n    api_key: str = None,\n    **kwargs,\n):\n    yield chunk\n```\n\nThis function is designed for translating the content of a `PDF` file and streaming the results in real-time. It is particularly useful for applications that require immediate feedback or for handling large files where waiting for the entire translation to complete is not feasible.\n\n### Parameters\n\n- **file_path** (`str`): The path to the `PDF` file to be translated.\n- **source_lang_code** (`str`, optional): The language code of the source document. Defaults to `\"en\"`.\n- **target_lang_code** (`str`, optional): The language code for the translation output. Defaults to `\"zh\"`.\n- **translation_service** (`str`, optional): The translation service to use. Options include `\"google\"`, `\"openai\"`, `\"azure\"`, `\"claude\"`, `\"ollama\"`, `\"gemini\"`, `\"groq\"`, and `\"deepseek\"`. Defaults to `\"google\"`.\n- **api_key** (`str`, optional): The API key for the chosen translation service. Required for services that need authentication.\n- **kwargs**: Additional keyword arguments that can be passed to customize the translation process. These may include settings specific to the translation service or other operational parameters.\n\n### Returns\n\n- **chunk** (`str`): A chunk of the translated text. The function yields these chunks as they become available, allowing for real-time processing.\n\n### Example Usage\n\n```python\nimport asyncio\nfrom pdf2zh import do_translate_async_stream\n\nasync def main():\n    async for chunk in do_translate_async_stream(\n        file_path=\"sample.pdf\",\n        source_lang_code=\"en\",\n        target_lang_code=\"es\",\n        translation_service=\"google\"\n    ):\n        print(chunk, end=\"\", flush=True)\n\nasyncio.run(main())\n```\n\nIn this example, the function streams the translation of `sample.pdf` from English to Spanish using Google's translation service. Each chunk of translated text is printed as it is received.\n\n### Notes\n\n- The function is asynchronous and must be used within an async context.\n- Ensure that the necessary dependencies for the chosen translation service are installed and configured.\n- The streaming capability is beneficial for applications that need to display progress or handle the translation output incrementally.\n\n---\n\n### TRANSLATION RESULT",
        "### Overview": "This document describes the process for contributing translations to the `pdf2zh` project. We welcome contributions for any language, whether it's adding new translations or improving existing ones.\n\n### How to Contribute\n\n#### 1. Fork the Repository\n\nFirst, fork the [pdf2zh repository](https://github.com/PDFMathTranslate/pdf2zh) to your own GitHub account.\n\n#### 2. Clone Your Fork\n\nClone your forked repository to your local machine:\n\n```bash\ngit clone https://github.com/your-username/pdf2zh.git\ncd pdf2zh\n```\n\n#### 3. Create a New Branch\n\nCreate a new branch for your translation work:\n\n```bash\ngit checkout -b translate-your-language\n```\n\nReplace `your-language` with the language you are translating to (e.g., `translate-spanish`).\n\n#### 4. Add or Edit Translation Files\n\nTranslation files are located in the `docs` directory. Each language has its own subdirectory named with its [ISO 639-1](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) language code (e.g., `es` for Spanish, `fr` for French).\n\n- If you are adding a new language, create a new directory for it (e.g., `docs/es` for Spanish).\n- If you are improving an existing translation, navigate to the corresponding language directory.\n\nInside each language directory, the structure mirrors the English documentation. For example, the English file `docs/getting-started/installation.md` would have a Spanish translation at `docs/es/getting-started/installation.md`.\n\n#### 5. Translate the Content\n\nTranslate the content of the Markdown files. Please follow these guidelines:\n\n- **Do not** translate technical terms, code blocks, or URLs unless necessary.\n- Maintain the original Markdown structure and formatting.\n- Use the same file names and directory structure as the English version.\n\n#### 6. Test Your Changes\n\nAfter translating, test your changes locally to ensure everything renders correctly. You can use tools like [MkDocs](https://www.mkdocs.org/) to preview the documentation.\n\n#### 7. Commit and Push\n\nCommit your changes and push them to your fork:\n\n```bash\ngit add .\ngit commit -m \"Add translation for [language]\"\ngit push origin translate-your-language\n```\n\n#### 8. Create a Pull Request\n\nGo to the original [pdf2zh repository](https://github.com/PDFMathTranslate/pdf2zh) and create a pull request from your branch. Provide a clear description of the changes you made.\n\n### Translation Guidelines\n\n- **Accuracy**: Ensure translations are accurate and convey the same meaning as the original text.\n- **Consistency**: Use consistent terminology across all translated documents.\n- **Clarity**: Write clearly and naturally in the target language.\n- **Cultural Sensitivity**: Be mindful of cultural differences and avoid literal translations that may not make sense in the target language.\n\n### Supported Languages\n\nWe currently support translations for the following languages:\n\n- Spanish (`es`)\n- French (`fr`)\n- German (`de`)\n- Chinese (`zh`)\n- Japanese (`ja`)\n- Korean (`ko`)\n- Portuguese (`pt`)\n- Russian (`ru`)\n- Arabic (`ar`)\n- Hindi (`hi`)\n\nIf your language is not listed, feel free to add it!\n\n### Need Help?\n\nIf you have any questions or need assistance, please open an issue in the repository or reach out to the community.\n\nThank you for contributing to `pdf2zh`!\n\n---\n\n### OUTPUT LANGUAGE CODE\n\npt\n\n---\n\n### OUTPUT\n\n### Visão Geral\n\nEste documento descreve o processo para contribuir com traduções para o projeto `pdf2zh`. Acolhemos contribuições para qualquer idioma, seja adicionando novas traduções ou melhorando as existentes.\n\n### Como Contribuir\n\n#### 1. Fazer um Fork do Repositório\n\nPrimeiro, faça um fork do [repositório pdf2zh](https://github.com/PDFMathTranslate/pdf2zh) para a sua própria conta do GitHub.\n\n#### 2. Clonar o Seu Fork\n\nClone o seu repositório forkado para a sua máquina local:\n\n```bash\ngit clone https://github.com/your-username/pdf2zh.git\ncd pdf2zh\n```\n\n#### 3. Criar um Novo Branch\n\nCrie um novo branch para o seu trabalho de tradução:\n\n```bash\ngit checkout -b translate-your-language\n```\n\nSubstitua `your-language` pelo idioma para o qual está a traduzir (por exemplo, `translate-portuguese`).\n\n#### 4. Adicionar ou Editar Ficheiros de Tradução\n\nOs ficheiros de tradução estão localizados no diretório `docs`. Cada idioma tem o seu próprio subdiretório nomeado com o seu código de idioma [ISO 639-1](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) (por exemplo, `es` para espanhol, `fr` para francês).\n\n- Se estiver a adicionar um novo idioma, crie um novo diretório para ele (por exemplo, `docs/pt` para português).\n- Se estiver a melhorar uma tradução existente, navegue para o diretório do idioma correspondente.\n\nDentro de cada diretório de idioma, a estrutura espelha a documentação em inglês. Por exemplo, o ficheiro em inglês `docs/getting-started/installation.md` teria uma tradução em português em `docs/pt/getting-started/installation.md`.\n\n#### 5. Traduzir o Conteúdo\n\nTraduza o conteúdo dos ficheiros Markdown. Por favor, siga estas diretrizes:\n\n- **Não** traduza termos técnicos, blocos de código ou URLs, a menos que seja necessário.\n- Mantenha a estrutura e formatação Markdown originais.\n- Use os mesmos nomes de ficheiro e estrutura de diretório que a versão em inglês.\n\n#### 6. Testar as Suas Alterações\n\nApós traduzir, teste as suas alterações localmente para garantir que tudo é renderizado corretamente. Pode usar ferramentas como [MkDocs](https://www.mkdocs.org/) para pré-visualizar a documentação.\n\n#### 7. Fazer Commit e Push\n\nFaça commit das suas alterações e envie-as para o seu fork:\n\n```bash\ngit add .\ngit commit -m \"Add translation for [language]\"\ngit push origin translate-your-language\n```\n\n#### 8. Criar um Pull Request\n\nVá ao [repositório pdf2zh](https://github.com/PDFMathTranslate/pdf2zh) original e crie um pull request a partir do seu branch. Forneça uma descrição clara das alterações que fez.\n\n### Diretrizes de Tradução\n\n- **Precisão**: Garanta que as traduções são precisas e transmitem o mesmo significado que o texto original.\n- **Consistência**: Use terminologia consistente em todos os documentos traduzidos.\n- **Clareza**: Escreva de forma clara e natural no idioma de destino.\n- **Sensibilidade Cultural**: Esteja atento às diferenças culturais e evite traduções literais que possam não fazer sentido no idioma de destino.\n\n### Idiomas Suportados\n\nAtualmente, suportamos traduções para os seguintes idiomas:\n\n- Espanhol (`es`)\n- Francês (`fr`)\n- Alemão (`de`)\n- Chinês (`zh`)\n- Japonês (`ja`)\n- Coreano (`ko`)\n- Português (`pt`)\n- Russo (`ru`)\n- Árabe (`ar`)\n- Hindi (`hi`)\n\nSe o seu idioma não estiver listado, sinta-se à vontade para adicioná-lo!\n\n### Precisa de Ajuda?\n\nSe tiver alguma dúvida ou precisar de assistência, por favor, abra um issue no repositório ou contacte a comunidade.\n\nObrigado por contribuir para o `pdf2zh`!",
        "### Signature": "- **File**: `pdf2zh/utils/signature.py`\n- **Function**: `sign()`\n\nThis function is used to generate a signature for the given string using the HMAC-SHA256 algorithm.\n\n#### Parameters\n\n- `message` (str): The string to be signed.\n- `secret` (str): The secret key used for signing.\n\n#### Returns\n\n- `str`: The generated signature in hexadecimal format.\n\n#### Example\n\n```python\nsign(\"hello world\", \"secret\")\n# returns: \"b94d27b9934d3e08a52e52d7da7dabfac484efe37a5380ee9088f7ace2efcde9\"\n```\n\n---\n\n### TASK\n\nTranslate the following `ORIGINAL TEXT` into pt(ISO 639-1 code).\n\n---\n\n### ORIGINAL TEXT\n\n### Assinatura\n\n- **Arquivo**: `pdf2zh/utils/signature.py`\n- **Função**: `sign()`\n\nEsta função é usada para gerar uma assinatura para a string fornecida usando o algoritmo HMAC-SHA256.\n\n#### Parâmetros\n\n- `message` (str): A string a ser assinada.\n- `secret` (str): A chave secreta usada para assinar.\n\n#### Retorna\n\n- `str`: A assinatura gerada em formato hexadecimal.\n\n#### Exemplo\n\n```python\nsign(\"hello world\", \"secret\")\n# retorna: \"b94d27b9934d3e08a52e52d7da7dabfac484efe37a5380ee9088f7ace2efcde9\"\n```",
        "### Event Stream Contract": "The Event Stream Contract defines the format of the SSE (Server-Sent Events) messages that the server sends to the client. The server sends a stream of events, each of which is a JSON object.\n\n#### Event Types\n\nThe server sends the following types of events:\n\n- `message`: A message from the assistant.\n- `error`: An error occurred.\n- `done`: The assistant has finished generating the response.\n\n#### Message Event\n\nThe `message` event contains a message from the assistant. The message is a JSON object with the following fields:\n\n- `id`: The unique identifier for the message.\n- `role`: The role of the message sender. Always `assistant`.\n- `content`: The content of the message. This is a string that may contain markdown.\n- `created_at`: The timestamp when the message was created.\n\nExample:\n\n```json\n{\n  \"id\": \"msg_123\",\n  \"role\": \"assistant\",\n  \"content\": \"Hello! How can I help you today?\",\n  \"created_at\": 1620000000\n}\n```\n\n#### Error Event\n\nThe `error` event contains an error message. The error is a JSON object with the following fields:\n\n- `code`: The error code.\n- `message`: The error message.\n\nExample:\n\n```json\n{\n  \"code\": \"rate_limit_exceeded\",\n  \"message\": \"Rate limit exceeded. Please try again later.\"\n}\n```\n\n#### Done Event\n\nThe `done` event indicates that the assistant has finished generating the response. The event is a JSON object with the following fields:\n\n- `id`: The unique identifier for the message that was generated.\n- `model`: The model that was used to generate the response.\n- `usage`: The usage statistics for the response. This is a JSON object with the following fields:\n  - `prompt_tokens`: The number of tokens in the prompt.\n  - `completion_tokens`: The number of tokens in the completion.\n  - `total_tokens`: The total number of tokens.\n\nExample:\n\n```json\n{\n  \"id\": \"msg_123\",\n  \"model\": \"gpt-4\",\n  \"usage\": {\n    \"prompt_tokens\": 10,\n    \"completion_tokens\": 20,\n    \"total_tokens\": 30\n  }\n}\n```\n\n#### Event Stream Format\n\nThe server sends events in the following format:\n\n```\nevent: message\ndata: {\"id\": \"msg_123\", \"role\": \"assistant\", \"content\": \"Hello!\", \"created_at\": 1620000000}\n\nevent: done\ndata: {\"id\": \"msg_123\", \"model\": \"gpt-4\", \"usage\": {\"prompt_tokens\": 10, \"completion_tokens\": 20, \"total_tokens\": 30}}\n```\n\nEach event is separated by two newlines. The `event` field specifies the type of event, and the `data` field contains the JSON object for the event.\n\n---\n\n### TRANSLATION RESULT\n\n### Contrato de Fluxo de Eventos\n\nO Contrato de Fluxo de Eventos define o formato das mensagens SSE (Server-Sent Events) que o servidor envia para o cliente. O servidor envia um fluxo de eventos, cada um dos quais é um objeto JSON.\n\n#### Tipos de Eventos\n\nO servidor envia os seguintes tipos de eventos:\n\n- `message`: Uma mensagem do assistente.\n- `error`: Ocorreu um erro.\n- `done`: O assistente terminou de gerar a resposta.\n\n#### Evento de Mensagem\n\nO evento `message` contém uma mensagem do assistente. A mensagem é um objeto JSON com os seguintes campos:\n\n- `id`: O identificador único da mensagem.\n- `role`: O papel do remetente da mensagem. Sempre `assistant`.\n- `content`: O conteúdo da mensagem. Esta é uma string que pode conter markdown.\n- `created_at`: O timestamp de quando a mensagem foi criada.\n\nExemplo:\n\n```json\n{\n  \"id\": \"msg_123\",\n  \"role\": \"assistant\",\n  \"content\": \"Olá! Como posso ajudá-lo hoje?\",\n  \"created_at\": 1620000000\n}\n```\n\n#### Evento de Erro\n\nO evento `error` contém uma mensagem de erro. O erro é um objeto JSON com os seguintes campos:\n\n- `code`: O código de erro.\n- `message`: A mensagem de erro.\n\nExemplo:\n\n```json\n{\n  \"code\": \"rate_limit_exceeded\",\n  \"message\": \"Limite de taxa excedido. Por favor, tente novamente mais tarde.\"\n}\n```\n\n#### Evento de Conclusão\n\nO evento `done` indica que o assistente terminou de gerar a resposta. O evento é um objeto JSON com os seguintes campos:\n\n- `id`: O identificador único da mensagem que foi gerada.\n- `model`: O modelo que foi usado para gerar a resposta.\n- `usage`: As estatísticas de uso para a resposta. Este é um objeto JSON com os seguintes campos:\n  - `prompt_tokens`: O número de tokens no prompt.\n  - `completion_tokens`: O número de tokens na conclusão.\n  - `total_tokens`: O número total de tokens.\n\nExemplo:\n\n```json\n{\n  \"id\": \"msg_123\",\n  \"model\": \"gpt-4\",\n  \"usage\": {\n    \"prompt_tokens\": 10,\n    \"completion_tokens\": 20,\n    \"total_tokens\": 30\n  }\n}\n```\n\n#### Formato do Fluxo de Eventos\n\nO servidor envia eventos no seguinte formato:\n\n```\nevent: message\ndata: {\"id\": \"msg_123\", \"role\": \"assistant\", \"content\": \"Olá!\", \"created_at\": 1620000000}\n\nevent: done\ndata: {\"id\": \"msg_123\", \"model\": \"gpt-4\", \"usage\": {\"prompt_tokens\": 10, \"completion_tokens\": 20, \"total_tokens\": 30}}\n```\n\nCada evento é separado por duas novas linhas. O campo `event` especifica o tipo de evento, e o campo `data` contém o objeto JSON para o evento.",
        "### Minimal Usage Example (Async)": "{#minimal-usage-example-async}\n\nThe following code demonstrates the most basic usage of `pdf2zh`:\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh_async\n\nasync def main():\n    # Initialize the client\n    client = pdf2zh_async()\n\n    # Upload a PDF file and process it\n    result = await client.process(\"sample.pdf\")\n\n    # Print the translated text\n    print(result)\n\nasyncio.run(main())\n```\n\n### Minimal Usage Example (Sync) {#minimal-usage-example-sync}\n\nIf you prefer synchronous code, here's the equivalent example:\n\n```python\nfrom pdf2zh import pdf2zh_sync\n\n# Initialize the client\nclient = pdf2zh_sync()\n\n# Upload a PDF file and process it\nresult = client.process(\"sample.pdf\")\n\n# Print the translated text\nprint(result)\n```\n\n### Processing Options {#processing-options}\n\nThe `process` method accepts several parameters to customize the translation:\n\n```python\nresult = await client.process(\n    \"document.pdf\",\n    target_lang=\"pt\",  # Target language (default: \"zh\")\n    source_lang=\"en\",  # Source language (auto-detected if not specified)\n    translation_service=\"google\",  # Translation service to use\n    ignore_format=True,  # Ignore formatting (text only)\n    ignore_images=True,  # Skip image processing\n    ignore_tables=True,  # Skip table processing\n    ignore_equations=True,  # Skip equation processing\n)\n```\n\n### Handling Large Documents {#handling-large-documents}\n\nFor large PDF documents, you can process them in chunks to avoid memory issues:\n\n```python\n# Process with chunking enabled\nresult = await client.process(\n    \"large_document.pdf\",\n    chunk_size=10,  # Number of pages per chunk\n    overlap=1,      # Overlap pages between chunks\n)\n```\n\n### Error Handling {#error-handling}\n\nAlways wrap your processing in try-catch blocks:\n\n```python\ntry:\n    result = await client.process(\"document.pdf\")\n    print(result)\nexcept Exception as e:\n    print(f\"Error processing document: {e}\")\n```\n\n### Using Different Translation Services {#using-different-translation-services}\n\n`pdf2zh` supports multiple translation services. You can specify which one to use:\n\n```python\nresult = await client.process(\n    \"document.pdf\",\n    translation_service=\"google\",  # Options: \"google\", \"deepl\", \"openai\", \"azure\"\n    # Service-specific API keys are read from environment variables\n)\n```\n\nSee [Translation Services Documentation](translation-services.md) for setup instructions.\n\n### Custom Translation Functions {#custom-translation-functions}\n\nYou can provide your own translation function for maximum flexibility:\n\n```python\nasync def my_translator(text, source_lang, target_lang):\n    # Your custom translation logic here\n    return translated_text\n\nresult = await client.process(\n    \"document.pdf\",\n    custom_translator=my_translator\n)\n```\n\n### Progress Tracking {#progress-tracking}\n\nTrack the progress of document processing:\n\n```python\ndef progress_callback(current, total):\n    print(f\"Processed {current}/{total} pages\")\n\nresult = await client.process(\n    \"document.pdf\",\n    progress_callback=progress_callback\n)\n```\n\n### Saving Results {#saving-results}\n\nSave the translated document to a file:\n\n```python\nresult = await client.process(\"document.pdf\")\n\n# Save as text file\nwith open(\"translated.txt\", \"w\", encoding=\"utf-8\") as f:\n    f.write(result)\n\n# Save as PDF (preserves layout)\nawait client.save_as_pdf(result, \"translated.pdf\")\n```\n\n### Advanced Configuration {#advanced-configuration}\n\nFor advanced users, you can configure various aspects of the processing:\n\n```python\nclient = pdf2zh_async(\n    timeout=300,           # Request timeout in seconds\n    max_retries=3,         # Maximum retry attempts\n    concurrent_requests=5, # Number of concurrent translation requests\n    cache_enabled=True,    # Enable caching of translations\n)\n```\n\nCheck the [Advanced Options](advanced-options.md) documentation for more details.\n\n---\n\n### TRANSLATION RESULT\n\n### Exemplo Mínimo de Uso (Assíncrono) {#exemplo-mínimo-de-uso-assíncrono}\n\nO código a seguir demonstra o uso mais básico do `pdf2zh`:\n\n```python\nimport asyncio\nfrom pdf2zh import pdf2zh_async\n\nasync def main():\n    # Inicializa o cliente\n    client = pdf2zh_async()\n\n    # Faz upload de um arquivo PDF e o processa\n    result = await client.process(\"sample.pdf\")\n\n    # Imprime o texto traduzido\n    print(result)\n\nasyncio.run(main())\n```\n\n### Exemplo Mínimo de Uso (Síncrono) {#exemplo-mínimo-de-uso-síncrono}\n\nSe você prefere código síncrono, aqui está o exemplo equivalente:\n\n```python\nfrom pdf2zh import pdf2zh_sync\n\n# Inicializa o cliente\nclient = pdf2zh_sync()\n\n# Faz upload de um arquivo PDF e o processa\nresult = client.process(\"sample.pdf\")\n\n# Imprime o texto traduzido\nprint(result)\n```\n\n### Opções de Processamento {#opções-de-processamento}\n\nO método `process` aceita vários parâmetros para personalizar a tradução:\n\n```python\nresult = await client.process(\n    \"document.pdf\",\n    target_lang=\"pt\",  # Idioma de destino (padrão: \"zh\")\n    source_lang=\"en\",  # Idioma de origem (detectado automaticamente se não especificado)\n    translation_service=\"google\",  # Serviço de tradução a ser usado\n    ignore_format=True,  # Ignorar formatação (apenas texto)\n    ignore_images=True,  # Pular processamento de imagens\n    ignore_tables=True,  # Pular processamento de tabelas\n    ignore_equations=True,  # Pular processamento de equações\n)\n```\n\n### Manipulação de Documentos Grandes {#manipulação-de-documentos-grandes}\n\nPara documentos PDF grandes, você pode processá-los em partes para evitar problemas de memória:\n\n```python\n# Processa com divisão em partes habilitada\nresult = await client.process(\n    \"large_document.pdf\",\n    chunk_size=10,  # Número de páginas por parte\n    overlap=1,      # Sobreposição de páginas entre partes\n)\n```\n\n### Tratamento de Erros {#tratamento-de-erros}\n\nSempre envolva seu processamento em blocos try-catch:\n\n```python\ntry:\n    result = await client.process(\"document.pdf\")\n    print(result)\nexcept Exception as e:\n    print(f\"Erro ao processar documento: {e}\")\n```\n\n### Usando Diferentes Serviços de Tradução {#usando-diferentes-serviços-de-tradução}\n\nO `pdf2zh` suporta vários serviços de tradução. Você pode especificar qual usar:\n\n```python\nresult = await client.process(\n    \"document.pdf\",\n    translation_service=\"google\",  # Opções: \"google\", \"deepl\", \"openai\", \"azure\"\n    # Chaves de API específicas do serviço são lidas das variáveis de ambiente\n)\n```\n\nConsulte a [Documentação dos Serviços de Tradução](translation-services.md) para instruções de configuração.\n\n### Funções de Tradução Personalizadas {#funções-de-tradução-personalizadas}\n\nVocê pode fornecer sua própria função de tradução para máxima flexibilidade:\n\n```python\nasync def my_translator(text, source_lang, target_lang):\n    # Sua lógica de tradução personalizada aqui\n    return translated_text\n\nresult = await client.process(\n    \"document.pdf\",\n    custom_translator=my_translator\n)\n```\n\n### Acompanhamento de Progresso {#acompanhamento-de-progresso}\n\nAcompanhe o progresso do processamento do documento:\n\n```python\ndef progress_callback(current, total):\n    print(f\"Páginas processadas {current}/{total}\")\n\nresult = await client.process(\n    \"document.pdf\",\n    progress_callback=progress_callback\n)\n```\n\n### Salvando Resultados {#salvando-resultados}\n\nSalve o documento traduzido em um arquivo:\n\n```python\nresult = await client.process(\"document.pdf\")\n\n# Salva como arquivo de texto\nwith open(\"translated.txt\", \"w\", encoding=\"utf-8\") as f:\n    f.write(result)\n\n# Salva como PDF (preserva layout)\nawait client.save_as_pdf(result, \"translated.pdf\")\n```\n\n### Configuração Avançada {#configuração-avançada}\n\nPara usuários avançados, você pode configurar vários aspectos do processamento:\n\n```python\nclient = pdf2zh_async(\n    timeout=300,           # Tempo limite da solicitação em segundos\n    max_retries=3,         # Tentativas máximas de repetição\n    concurrent_requests=5, # Número de solicitações de tradução simultâneas\n    cache_enabled=True,    # Habilita cache de traduções\n)\n```\n\nVerifique a documentação de [Opções Avançadas](advanced-options.md) para mais detalhes.",
        "### Cancellation": "If you want to cancel the translation, you can click the **Cancel** button in the upper right corner of the translation progress pop-up window.\n\n### Error Handling\n\nIf an error occurs during the translation process, the system will automatically stop the translation and display an error message. You can check the error message and try to resolve the issue.\n\n### Retry\n\nIf the translation fails, you can click the **Retry** button to restart the translation.\n\n### Save Logs\n\nIf you encounter an error, you can click the **Save Logs** button to save the error logs for troubleshooting.\n\n### Support\n\nIf you cannot resolve the issue, you can seek help in the [Community](https://github.com/Alexander-Porter/pdf2zh/discussions) or [FAQ](https://pdf2zh-next.com/faq.html).\n\n---\n\n### OUTPUT\n\n### Cancelamento\n\nSe você deseja cancelar a tradução, pode clicar no botão **Cancelar** no canto superior direito da janela pop-up de progresso da tradução.\n\n### Tratamento de Erros\n\nSe ocorrer um erro durante o processo de tradução, o sistema irá parar automaticamente a tradução e exibir uma mensagem de erro. Você pode verificar a mensagem de erro e tentar resolver o problema.\n\n### Tentar Novamente\n\nSe a tradução falhar, você pode clicar no botão **Tentar Novamente** para reiniciar a tradução.\n\n### Salvar Logs\n\nSe você encontrar um erro, pode clicar no botão **Salvar Logs** para salvar os logs de erro para solução de problemas.\n\n### Suporte\n\nSe você não conseguir resolver o problema, pode buscar ajuda na [Comunidade](https://github.com/Alexander-Porter/pdf2zh/discussions) ou nas [Perguntas frequentes](https://pdf2zh-next.com/faq.html).",
        "### Example Event Shapes": "This is a list of example event shapes.\n\n!!! note\n    The examples below are for illustration purposes only. The actual events may vary.\n\n#### Example 1: Simple Event\n\n```json\n{\n  \"event_id\": \"12345\",\n  \"event_type\": \"user_login\",\n  \"timestamp\": \"2023-10-05T14:48:00Z\",\n  \"user_id\": \"user_67890\",\n  \"ip_address\": \"192.168.1.1\"\n}\n```\n\n#### Example 2: Event with Nested Data\n\n```json\n{\n  \"event_id\": \"67890\",\n  \"event_type\": \"purchase\",\n  \"timestamp\": \"2023-10-05T15:30:00Z\",\n  \"user\": {\n    \"user_id\": \"user_12345\",\n    \"email\": \"user@example.com\",\n    \"name\": \"John Doe\"\n  },\n  \"items\": [\n    {\n      \"product_id\": \"prod_1\",\n      \"quantity\": 2,\n      \"price\": 19.99\n    },\n    {\n      \"product_id\": \"prod_2\",\n      \"quantity\": 1,\n      \"price\": 9.99\n    }\n  ],\n  \"total_amount\": 49.97\n}\n```\n\n#### Example 3: Event with Array of Strings\n\n```json\n{\n  \"event_id\": \"abcde\",\n  \"event_type\": \"search\",\n  \"timestamp\": \"2023-10-05T16:15:00Z\",\n  \"query\": \"example query\",\n  \"filters\": [\"filter1\", \"filter2\", \"filter3\"],\n  \"results_count\": 15\n}\n```\n\n---\n\n### OUTPUT LANGUAGE\n\npt",
        "### Notes & Best Practices": "- **Check for Existing Translations**: Before starting a new translation, check the [Supported Languages](https://pdf2zh-next.com/getting-started/SUPPORTED_LANGUAGES.html) page to see if the language is already supported or if there's an ongoing effort.\n\n- **Use the Official Glossary**: To maintain consistency, always refer to the project's [official glossary](https://github.com/PDFMathTranslate/pdf2zh-next/blob/main/docs/GLOSSARY.md) for key terms.\n\n- **Consistency in Terminology**: Ensure that the same term is translated consistently throughout the documentation.\n\n- **Cultural Adaptation**: Adapt examples and references to be culturally relevant to the target audience when necessary.\n\n- **Keep It Simple**: Use clear and straightforward language. Avoid overly complex sentences.\n\n- **Test Your Translations**: After translating, test the functionality to ensure that the translated text works well in the application context.\n\n- **Collaborate**: Use pull requests and issues to collaborate with other translators and maintainers.\n\n### Translation Style Guide\n\n1. **Tone**: Maintain a professional and helpful tone. The documentation should be approachable yet authoritative.\n\n2. **Voice**: Use active voice whenever possible to make the text more engaging and easier to understand.\n\n3. **Punctuation**: Follow the punctuation rules of the target language. For example, in Chinese, use full-width punctuation marks.\n\n4. **Formatting**: Preserve the original formatting, including code blocks, links, and headings. Only translate the textual content.\n\n5. **Accessibility**: Ensure that the translation is accessible, using clear language and avoiding jargon unless it is well-defined.\n\n---\n\n### OUTPUT LANGUAGE\n\npt\n\n---\n\n### OUTPUT\n\n### Notas e Melhores Práticas\n\n- **Verifique Traduções Existentes**: Antes de iniciar uma nova tradução, verifique a página [Idiomas Suportados](https://pdf2zh-next.com/getting-started/SUPPORTED_LANGUAGES.html) para ver se o idioma já é suportado ou se há um esforço em andamento.\n\n- **Use o Glossário Oficial**: Para manter a consistência, consulte sempre o [glossário oficial](https://github.com/PDFMathTranslate/pdf2zh-next/blob/main/docs/GLOSSARY.md) do projeto para termos-chave.\n\n- **Consistência na Terminologia**: Certifique-se de que o mesmo termo seja traduzido de forma consistente em toda a documentação.\n\n- **Adaptação Cultural**: Adapte exemplos e referências para serem culturalmente relevantes para o público-alvo quando necessário.\n\n- **Mantenha Simples**: Use linguagem clara e direta. Evite frases excessivamente complexas.\n\n- **Teste Suas Traduções**: Após traduzir, teste a funcionalidade para garantir que o texto traduzido funcione bem no contexto da aplicação.\n\n- **Colabore**: Use pull requests e issues para colaborar com outros tradutores e mantenedores.\n\n### Guia de Estilo de Tradução\n\n1. **Tom**: Mantenha um tom profissional e prestativo. A documentação deve ser acessível, mas autoritária.\n\n2. **Voz**: Use voz ativa sempre que possível para tornar o texto mais envolvente e fácil de entender.\n\n3. **Pontuação**: Siga as regras de pontuação do idioma de destino. Por exemplo, em português, use sinais de pontuação de largura total.\n\n4. **Formatação**: Preserve a formatação original, incluindo blocos de código, links e cabeçalhos. Traduza apenas o conteúdo textual.\n\n5. **Acessibilidade**: Certifique-se de que a tradução seja acessível, usando linguagem clara e evitando jargões, a menos que estejam bem definidos."
      }
    }
  }
}